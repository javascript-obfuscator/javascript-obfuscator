/*!
Copyright (C) 2016-2020 Timofey Kachalov <sanex3339@yandex.ru>

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

  * Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
require("source-map-support").install(),module.exports=function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=246)}([function(e,t){e.exports=require("inversify")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Factory__ICalleeDataExtractor="Factory<ICalleeDataExtractor>",e.Factory__IControlFlowCustomNode="Factory<IControlFlowCustomNode>",e.Factory__IControlFlowReplacer="Factory<IControlFlowReplacer>",e.Factory__ICustomNode="Factory<ICustomNode>",e.Factory__ICustomNodeGroup="Factory<ICustomNodeGroup>",e.Factory__IDeadCodeInjectionCustomNode="Factory<IDeadCodeInjectionCustomNode>",e.Factory__IIdentifierNamesGenerator="Factory<IIdentifierNamesGenerator>",e.Factory__IIdentifierObfuscatingReplacer="Factory<IIdentifierObfuscatingReplacer>",e.Factory__INodeGuard="Factory<INodeGuard>",e.Factory__INodeTransformer="Factory<INodeTransformer[]>",e.Factory__IObfuscatedCode="Factory<IObfuscatedCode>",e.Factory__IObfuscatingReplacer="Factory<IObfuscatingReplacer>",e.Factory__IObjectExpressionKeysTransformerCustomNode="Factory<IObjectExpressionKeysTransformerCustomNode>",e.Factory__IObjectExpressionExtractor="Factory<IObjectExpressionExtractor>",e.Factory__TControlFlowStorage="Factory<TControlFlowStorage>",e.IArrayUtils="IArrayUtils",e.ICalleeDataExtractor="ICalleeDataExtractor",e.ICallsGraphAnalyzer="ICallsGraphAnalyzer",e.ICryptUtils="ICryptUtils",e.ICustomNode="ICustomNode",e.ICustomNodeGroup="ICustomNodeGroup",e.IControlFlowReplacer="IControlFlowReplacer",e.ICustomNodeFormatter="ICustomNodeFormatter",e.ICustomNodeObfuscator="ICustomNodeObfuscator",e.IEscapeSequenceEncoder="IEscapeSequenceEncoder",e.IIdentifierNamesGenerator="IIdentifierNamesGenerator",e.IIdentifierObfuscatingReplacer="IIdentifierObfuscatingReplacer",e.IJavaScriptObfuscator="IJavaScriptObfuscator",e.ILevelledTopologicalSorter="ILevelledTopologicalSorter",e.ILogger="ILogger",e.INodeGuard="INodeGuard",e.INodeTransformer="INodeTransformer",e.INodeTransformerNamesGroupsBuilder="INodeTransformerNamesGroupsBuilder",e.IObfuscationEventEmitter="IObfuscationEventEmitter",e.IObfuscatedCode="IObfuscatedCode",e.IOptions="IOptions",e.IOptionsNormalizer="IOptionsNormalizer",e.IObfuscatingReplacer="IObfuscatingReplacer",e.IPrevailingKindOfVariablesAnalyzer="IPrevailingKindOfVariablesAnalyzer",e.IObjectExpressionExtractor="IObjectExpressionExtractor",e.IRandomGenerator="IRandomGenerator",e.IScopeIdentifiersTraverser="IScopeIdentifiersTraverser",e.ISourceCode="ISourceCode",e.IScopeAnalyzer="IScopeAnalyzer",e.IStringArrayStorage="IStringArrayStorage",e.IStringArrayStorageAnalyzer="IStringArrayStorageAnalyzer",e.ITransformersRunner="ITransformersRunner",e.Newable__ICustomNode="Newable<ICustomNode>",e.Newable__TControlFlowStorage="Newable<TControlFlowStorage>",e.TCustomNodeGroupStorage="TCustomNodeGroupStorage",e.TInputOptions="TInputOptions"}(t.ServiceIdentifiers||(t.ServiceIdentifiers={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(33);class n{static isArrayPatternNode(e){return e.type===r.NodeType.ArrayPattern}static isArrowFunctionExpressionNode(e){return e.type===r.NodeType.ArrowFunctionExpression}static isAssignmentExpressionNode(e){return e.type===r.NodeType.AssignmentExpression}static isAssignmentPatternNode(e){return e.type===r.NodeType.AssignmentPattern}static isAwaitExpressionNode(e){return e.type===r.NodeType.AwaitExpression}static isBlockStatementNode(e){return e.type===r.NodeType.BlockStatement}static isBreakStatementNode(e){return e.type===r.NodeType.BreakStatement}static isCallExpressionNode(e){return e.type===r.NodeType.CallExpression}static isClassDeclarationNode(e){return e.type===r.NodeType.ClassDeclaration&&null!==e.id}static isContinueStatementNode(e){return e.type===r.NodeType.ContinueStatement}static isDirectiveNode(e){return e.type===r.NodeType.ExpressionStatement&&"directive"in e}static isExportNamedDeclarationNode(e){return e.type===r.NodeType.ExportNamedDeclaration}static isExpressionStatementNode(e){return e.type===r.NodeType.ExpressionStatement&&!("directive"in e)}static isFunctionNode(e){return n.isFunctionDeclarationNode(e)||n.isFunctionExpressionNode(e)||n.isArrowFunctionExpressionNode(e)}static isFunctionDeclarationNode(e){return e.type===r.NodeType.FunctionDeclaration&&null!==e.id}static isFunctionExpressionNode(e){return e.type===r.NodeType.FunctionExpression}static isIdentifierNode(e){return e.type===r.NodeType.Identifier}static isImportDeclarationNode(e){return e.type===r.NodeType.ImportDeclaration}static isImportSpecifierNode(e){return e.type===r.NodeType.ImportSpecifier}static isLabelIdentifierNode(e,t){const o=n.isLabeledStatementNode(t)&&t.label===e,r=n.isContinueStatementNode(t)&&t.label===e,i=n.isBreakStatementNode(t)&&t.label===e;return o||r||i}static isLabeledStatementNode(e){return e.type===r.NodeType.LabeledStatement}static isLiteralNode(e){return e.type===r.NodeType.Literal}static isMemberExpressionNode(e){return e.type===r.NodeType.MemberExpression}static isMethodDefinitionNode(e){return e.type===r.NodeType.MethodDefinition}static isNode(e){return e&&void 0!==!e.type}static isNodeWithLexicalScope(e){return n.isProgramNode(e)||n.isFunctionNode(e)}static isNodeWithBlockLexicalScope(e){return n.isNodeWithLexicalScope(e)||n.isBlockStatementNode(e)}static isNodeWithLexicalScopeStatements(e,t){return n.isProgramNode(e)||n.isBlockStatementNode(e)&&n.nodesWithLexicalStatements.includes(t.type)}static isNodeWithStatements(e){return n.isProgramNode(e)||n.isBlockStatementNode(e)||n.isSwitchCaseNode(e)}static isNodeWithComments(e){return Boolean(e.leadingComments)||Boolean(e.trailingComments)}static isObjectPatternNode(e){return e.type===r.NodeType.ObjectPattern}static isObjectExpressionNode(e){return e.type===r.NodeType.ObjectExpression}static isProgramNode(e){return e.type===r.NodeType.Program}static isPropertyNode(e){return e.type===r.NodeType.Property}static isRestElementNode(e){return e.type===r.NodeType.RestElement}static isReturnStatementNode(e){return e.type===r.NodeType.ReturnStatement}static isSequenceExpressionNode(e){return e.type===r.NodeType.SequenceExpression}static isSuperNode(e){return e.type===r.NodeType.Super}static isSwitchCaseNode(e){return e.type===r.NodeType.SwitchCase}static isTaggedTemplateExpressionNode(e){return e.type===r.NodeType.TaggedTemplateExpression}static isTemplateLiteralNode(e){return e.type===r.NodeType.TemplateLiteral}static isUnaryExpressionNode(e){return e.type===r.NodeType.UnaryExpression}static isUseStrictOperator(e){return n.isDirectiveNode(e)&&"use strict"===e.directive}static isVariableDeclarationNode(e){return e.type===r.NodeType.VariableDeclaration}static isVariableDeclaratorNode(e){return e.type===r.NodeType.VariableDeclarator}static isWhileStatementNode(e){return e.type===r.NodeType.WhileStatement}}t.NodeGuards=n,n.nodesWithLexicalStatements=[r.NodeType.ArrowFunctionExpression,r.NodeType.FunctionDeclaration,r.NodeType.FunctionExpression,r.NodeType.MethodDefinition]},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=r(o(46)),i=r(o(14)),a=o(43),s=o(56),c=o(4),d=o(16);class l{static addXVerbatimPropertyTo(e){return e["x-verbatim-property"]={content:e.raw,precedence:n.Precedence.Primary},e}static clone(e){return l.parentizeAst(l.cloneRecursive(e))}static convertCodeToStructure(e){const t=s.ASTParserFacade.parse({sourceCode:e},{ecmaVersion:a.ecmaVersion,sourceType:"script"});return i.replace(t,{enter:(e,t)=>(l.parentizeNode(e,t),c.NodeGuards.isLiteralNode(e)&&l.addXVerbatimPropertyTo(e),d.NodeMetadata.set(e,{ignoredNode:!1}),e)}),t.body}static convertStructureToCode(e){return e.reduce((e,t)=>e+n.generate(t,{sourceMapWithCode:!0}).code,"")}static getUnaryExpressionArgumentNode(e){return c.NodeGuards.isUnaryExpressionNode(e.argument)?l.getUnaryExpressionArgumentNode(e.argument):e.argument}static parentizeAst(e){return i.replace(e,{enter:l.parentizeNode}),e}static parentizeNode(e,t){return e.parentNode=null!=t?t:e,e}static cloneRecursive(e){if(null===e)return e;const t={};return Object.keys(e).forEach(o=>{if("parentNode"===o)return;const r=e[o];let n;n=null===r||r instanceof RegExp?r:Array.isArray(r)?r.map(l.cloneRecursive):"object"==typeof r?l.cloneRecursive(r):r,t[o]=n}),t}}t.NodeUtils=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={configurable:!0,enumerable:!0};function n(e,t,o){Reflect.hasMetadata(e,o)||Reflect.defineMetadata(e,t,o)}t.initializable=function(e="initialize"){const t=Object.keys(this)[0];return(o,i)=>{const a=o[e];if(!a||"function"!=typeof a)throw new Error(`\`${e}\` method with initialization logic not `+`found. \`@${t}\` decorator requires \`${e}\` method`);return n("_initialized",!1,o),n("_initializablePropertiesSet",new Set,o),n("_wrappedMethodsSet",new Set,o),function(e,t){const o=Object.getOwnPropertyNames(e),n=[t,"constructor"];o.forEach(o=>{var i;const a=Reflect.getMetadata("_initializablePropertiesSet",e),s=Reflect.getMetadata("_wrappedMethodsSet",e);if(n.includes(o)||a.has(o)||s.has(o))return;if("function"!=typeof e[o])return;const c=null!==(i=Object.getOwnPropertyDescriptor(e,o))&&void 0!==i?i:r,d=c.value;Object.defineProperty(e,o,Object.assign(Object.assign({},c),{value(){if(!Reflect.getMetadata("_initialized",this))throw new Error(`Class should be initialized with \`${t}()\` method`);return d.apply(this,arguments)}})),s.add(o)})}(o,e),function(e,t,o){var n;const i=null!==(n=Object.getOwnPropertyDescriptor(e,t))&&void 0!==n?n:r,a=i.value;Object.defineProperty(e,t,Object.assign(Object.assign({},i),{value:function(){Reflect.defineMetadata("_initialized",!0,this);const e=a.apply(this,arguments);return this[o],e}}))}(o,e,i),function(e,t){var o;Reflect.getMetadata("_initializablePropertiesSet",e).add(t);const n=`_${t.toString()}`,i=null!==(o=Object.getOwnPropertyDescriptor(e,n))&&void 0!==o?o:r;return Object.defineProperty(e,t,Object.assign(Object.assign({},i),{get:function(){if(void 0===this[n])throw new Error(`Property \`${t.toString()}\` is not initialized! Initialize it first!`);return this[n]},set:function(e){this[n]=e}})),i}(o,i)}}},function(e,t,o){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=r(o(46)),i=o(33);class a{static programNode(e=[]){return{type:i.NodeType.Program,body:e,sourceType:"script",metadata:{ignoredNode:!1}}}static arrayExpressionNode(e=[]){return{type:i.NodeType.ArrayExpression,elements:e,metadata:{ignoredNode:!1}}}static assignmentExpressionNode(e,t,o){return{type:i.NodeType.AssignmentExpression,operator:e,left:t,right:o,metadata:{ignoredNode:!1}}}static binaryExpressionNode(e,t,o){return{type:i.NodeType.BinaryExpression,operator:e,left:t,right:o,metadata:{ignoredNode:!1}}}static blockStatementNode(e=[]){return{type:i.NodeType.BlockStatement,body:e,metadata:{ignoredNode:!1}}}static breakStatement(e){return{type:i.NodeType.BreakStatement,label:e,metadata:{ignoredNode:!1}}}static callExpressionNode(e,t=[]){return{type:i.NodeType.CallExpression,callee:e,arguments:t,metadata:{ignoredNode:!1}}}static continueStatement(e){return{type:i.NodeType.ContinueStatement,label:e,metadata:{ignoredNode:!1}}}static directiveNode(e,t){return{type:i.NodeType.ExpressionStatement,expression:e,directive:t,metadata:{ignoredNode:!1}}}static expressionStatementNode(e){return{type:i.NodeType.ExpressionStatement,expression:e,metadata:{ignoredNode:!1}}}static functionDeclarationNode(e,t,o){return{type:i.NodeType.FunctionDeclaration,id:a.identifierNode(e),params:t,body:o,generator:!1,metadata:{ignoredNode:!1}}}static functionExpressionNode(e,t){return{type:i.NodeType.FunctionExpression,params:e,body:t,generator:!1,metadata:{ignoredNode:!1}}}static ifStatementNode(e,t,o){return Object.assign(Object.assign({type:i.NodeType.IfStatement,test:e,consequent:t},o&&{alternate:o}),{metadata:{ignoredNode:!1}})}static identifierNode(e){return{type:i.NodeType.Identifier,name:e,metadata:{ignoredNode:!1}}}static importDeclarationNode(e,t){return{type:i.NodeType.ImportDeclaration,specifiers:e,source:t,metadata:{ignoredNode:!1}}}static literalNode(e,t){return t=void 0!==t?t:`'${e}'`,{type:i.NodeType.Literal,value:e,raw:t,"x-verbatim-property":{content:t,precedence:n.Precedence.Primary},metadata:{ignoredNode:!1}}}static logicalExpressionNode(e,t,o){return{type:i.NodeType.LogicalExpression,operator:e,left:t,right:o,metadata:{ignoredNode:!1}}}static memberExpressionNode(e,t,o=!1){return{type:i.NodeType.MemberExpression,computed:o,object:e,property:t,metadata:{ignoredNode:!1}}}static methodDefinitionNode(e,t,o,r){return{type:i.NodeType.MethodDefinition,key:e,value:t,kind:o,computed:r,static:!1,metadata:{ignoredNode:!1}}}static objectExpressionNode(e){return{type:i.NodeType.ObjectExpression,properties:e,metadata:{ignoredNode:!1}}}static propertyNode(e,t,o=!1){return{type:i.NodeType.Property,key:e,value:t,kind:"init",method:!1,shorthand:!1,computed:o,metadata:{ignoredNode:!1}}}static returnStatementNode(e){return{type:i.NodeType.ReturnStatement,argument:e,metadata:{ignoredNode:!1}}}static switchStatementNode(e,t){return{type:i.NodeType.SwitchStatement,discriminant:e,cases:t,metadata:{ignoredNode:!1}}}static switchCaseNode(e,t){return{type:i.NodeType.SwitchCase,test:e,consequent:t,metadata:{ignoredNode:!1}}}static unaryExpressionNode(e,t,o=!0){return{type:i.NodeType.UnaryExpression,operator:e,argument:t,prefix:o,metadata:{ignoredNode:!1}}}static updateExpressionNode(e,t){return{type:i.NodeType.UpdateExpression,operator:e,argument:t,prefix:!1,metadata:{ignoredNode:!1}}}static variableDeclarationNode(e=[],t="var"){return{type:i.NodeType.VariableDeclaration,declarations:e,kind:t,metadata:{ignoredNode:!1}}}static variableDeclaratorNode(e,t){return{type:i.NodeType.VariableDeclarator,id:e,init:t,metadata:{ignoredNode:!1}}}static whileStatementNode(e,t){return{type:i.NodeType.WhileStatement,test:e,body:t,metadata:{ignoredNode:!1}}}}t.NodeFactory=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(5),g=o(9),y=o(10),h=o(2),N=o(3),b=o(115),v=o(116);let I=r=class{constructor(e,t,o,r,n){this.cachedNode=null,this.identifierNamesGenerator=e(n),this.customNodeFormatter=t,this.customNodeObfuscator=o,this.randomGenerator=r,this.options=n}getNode(){if(!this.cachedNode){const e=this.getNodeTemplate();this.cachedNode=this.customNodeFormatter.formatStructure(this.getNodeStructure(e))}return this.cachedNode}getGlobalVariableTemplate(){return this.randomGenerator.getRandomGenerator().pickone(r.globalVariableTemplateFunctions)}getNodeTemplate(){return""}};I.globalVariableTemplateFunctions=[b.GlobalVariableTemplate1(),v.GlobalVariableTemplate2()],I=r=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(n=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeFormatter&&g.ICustomNodeFormatter)?i:Object,"function"==typeof(a=void 0!==y.ICustomNodeObfuscator&&y.ICustomNodeObfuscator)?a:Object,"function"==typeof(s=void 0!==N.IRandomGenerator&&N.IRandomGenerator)?s:Object,"function"==typeof(c=void 0!==h.IOptions&&h.IOptions)?c:Object])],I),t.AbstractCustomNode=I},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initializing="Initializing",e.Preparing="Preparing",e.DeadCodeInjection="DeadCodeInjection",e.ControlFlowFlattening="ControlFlowFlattening",e.Converting="Converting",e.Obfuscating="Obfuscating",e.Finalizing="Finalizing"}(t.TransformationStage||(t.TransformationStage={}))},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(3);let f=class{constructor(e,t){this.randomGenerator=e,this.options=t}};f=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==u.IRandomGenerator&&u.IRandomGenerator)?r:Object,"function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],f),t.AbstractNodeTransformer=f},function(e,t){e.exports=require("estraverse")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(4);class n{static getParentNodeWithStatements(e){return n.getParentNodesWithStatementsRecursive(e,1)[0]}static getParentNodesWithStatements(e){return n.getParentNodesWithStatementsRecursive(e)}static getNextSiblingStatement(e){return n.getSiblingStatementByOffset(e,1)}static getPreviousSiblingStatement(e){return n.getSiblingStatementByOffset(e,-1)}static getRootStatementOfNode(e){if(r.NodeGuards.isProgramNode(e))throw new Error("Unable to find root statement for `Program` node");const t=e.parentNode;if(!t)throw new ReferenceError("`parentNode` property of given node is `undefined`");return r.NodeGuards.isNodeWithStatements(t)?e:n.getRootStatementOfNode(t)}static getScopeOfNode(e){const t=e.parentNode;if(!t)throw new ReferenceError("`parentNode` property of given node is `undefined`");return r.NodeGuards.isNodeWithStatements(t)?t:n.getScopeOfNode(t)}static getParentNodesWithStatementsRecursive(e,t=1/0,o=[],i=0){if(o.length>=t)return o;const a=e.parentNode;if(!a)throw new ReferenceError("`parentNode` property of given node is `undefined`");return(r.NodeGuards.isProgramNode(e)||r.NodeGuards.isNodeWithLexicalScopeStatements(e,a)&&i>0)&&o.push(e),e!==a?n.getParentNodesWithStatementsRecursive(a,t,o,++i):o}static getSiblingStatementByOffset(e,t){const o=n.getScopeOfNode(e),i=r.NodeGuards.isSwitchCaseNode(o)?o.consequent:o.body,a=i.indexOf(e);return i[a+t]||null}}t.NodeStatementUtils=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{static set(e,t){var o;e.metadata=Object.assign(null!==(o=e.metadata)&&void 0!==o?o:{},t)}static get(e,t){return void 0!==e.metadata?e.metadata[t]:void 0}static isIgnoredNode(e){return!0===r.get(e,"ignoredNode")}static isReplacedLiteral(e){return!0===r.get(e,"replacedLiteral")}}t.NodeMetadata=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(0),n=o(1),i=o(74),a=o(84),s=o(97),c=o(108),d=o(160),l=o(161),u=o(165),f=o(168),p=o(169),m=o(178),g=o(200),y=o(215),h=o(220),N=o(230),b=o(72),v=o(234),I=o(236),S=o(237),O=o(238);t.InversifyContainerFacade=class{constructor(){this.container=new r.Container}static getFactory(e){return t=>o=>t.container.getNamed(e,o)}static getCacheFactory(e){return t=>{const o=new Map;return r=>{if(o.has(r))return o.get(r);const n=t.container.getNamed(e,r);return o.set(r,n),n}}}static getConstructorFactory(e,...t){return o=>{const r=new Map,n=[];return i=>{if(t.forEach((e,t)=>{n[t]||(n[t]=o.container.get(e))}),r.has(i))return new(r.get(i))(...n);const a=o.container.getNamed(e,i);return r.set(i,a),new a(...n)}}}get(e){return this.container.get(e)}getNamed(e,t){return this.container.getNamed(e,t)}load(e,t,o){this.container.bind(n.ServiceIdentifiers.ISourceCode).toDynamicValue(()=>new S.SourceCode(e,t)).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.TInputOptions).toDynamicValue(()=>o).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.ILogger).to(b.Logger).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.IJavaScriptObfuscator).to(N.JavaScriptObfuscator).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.ITransformersRunner).to(O.TransformersRunner).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.IObfuscatedCode).to(I.ObfuscatedCode),this.container.bind(n.ServiceIdentifiers.Factory__IObfuscatedCode).toFactory(e=>(t,o)=>{const r=e.container.get(n.ServiceIdentifiers.IObfuscatedCode);return r.initialize(t,o),r}),this.container.bind(n.ServiceIdentifiers.IObfuscationEventEmitter).to(v.ObfuscationEventEmitter).inSingletonScope(),this.container.load(i.analyzersModule),this.container.load(a.controlFlowTransformersModule),this.container.load(s.convertingTransformersModule),this.container.load(c.customNodesModule),this.container.load(d.finalizingTransformersModule),this.container.load(l.generatorsModule),this.container.load(u.nodeModule),this.container.load(f.nodeTransformersModule),this.container.load(p.obfuscatingTransformersModule),this.container.load(m.optionsModule),this.container.load(g.preparingTransformersModule),this.container.load(y.storagesModule),this.container.load(h.utilsModule)}unload(){this.container.unbindAll()}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BinaryExpressionFunctionNode="BinaryExpressionFunctionNode",e.BlockStatementControlFlowFlatteningNode="BlockStatementControlFlowFlatteningNode",e.CallExpressionControlFlowStorageCallNode="CallExpressionControlFlowStorageCallNode",e.CallExpressionFunctionNode="CallExpressionFunctionNode",e.ControlFlowStorageNode="ControlFlowStorageNode",e.ExpressionWithOperatorControlFlowStorageCallNode="ExpressionWithOperatorControlFlowStorageCallNode",e.LogicalExpressionFunctionNode="LogicalExpressionFunctionNode",e.StringLiteralControlFlowStorageCallNode="StringLiteralControlFlowStorageCallNode",e.StringLiteralNode="StringLiteralNode"}(t.ControlFlowCustomNode||(t.ControlFlowCustomNode={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(4);class n{static append(e,t){t=n.parentizeScopeStatementsBeforeAppend(e,t),n.setScopeStatements(e,[...n.getScopeStatements(e),...t])}static appendToOptimalBlockScope(e,t,o,r=0){const i=e.length?n.getOptimalBlockScope(e,r):t;n.prepend(i,o)}static getOptimalBlockScope(e,t,o=1/0){const r=e[t];if(o<=0)throw new Error("Invalid `deep` argument value. Value should be bigger then 0.");return o>1&&r.callsGraph.length?n.getOptimalBlockScope(r.callsGraph,0,--o):r.callee}static insertBefore(e,t,o){const r=n.getScopeStatements(e).indexOf(o);n.insertAtIndex(e,t,r)}static insertAfter(e,t,o){const r=n.getScopeStatements(e).indexOf(o);n.insertAtIndex(e,t,r+1)}static insertAtIndex(e,t,o){t=n.parentizeScopeStatementsBeforeAppend(e,t),n.setScopeStatements(e,[...n.getScopeStatements(e).slice(0,o),...t,...n.getScopeStatements(e).slice(o)])}static prepend(e,t){t=n.parentizeScopeStatementsBeforeAppend(e,t),n.setScopeStatements(e,[...t,...n.getScopeStatements(e)])}static getScopeStatements(e){return r.NodeGuards.isSwitchCaseNode(e)?e.consequent:e.body}static parentizeScopeStatementsBeforeAppend(e,t){return t.forEach(t=>{t.parentNode=e}),t}static setScopeStatements(e,t){r.NodeGuards.isSwitchCaseNode(e)?e.consequent=t:e.body=t}}t.NodeAppender=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(28);t.ObfuscationTarget=r.MakeEnum({Browser:"browser",BrowserNoEval:"browser-no-eval",Node:"node"})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlockStatementControlFlowTransformer="BlockStatementControlFlowTransformer",e.CommentsTransformer="CommentsTransformer",e.CustomNodesTransformer="CustomNodesTransformer",e.DeadCodeInjectionTransformer="DeadCodeInjectionTransformer",e.EvalCallExpressionTransformer="EvalCallExpressionTransformer",e.FunctionControlFlowTransformer="FunctionControlFlowTransformer",e.LabeledStatementTransformer="LabeledStatementTransformer",e.LiteralTransformer="LiteralTransformer",e.MemberExpressionTransformer="MemberExpressionTransformer",e.MetadataTransformer="MetadataTransformer",e.MethodDefinitionTransformer="MethodDefinitionTransformer",e.ObfuscatingGuardsTransformer="ObfuscatingGuardsTransformer",e.ObjectExpressionKeysTransformer="ObjectExpressionKeysTransformer",e.ObjectExpressionTransformer="ObjectExpressionTransformer",e.ParentificationTransformer="ParentificationTransformer",e.ScopeIdentifiersTransformer="ScopeIdentifiersTransformer",e.SplitStringTransformer="SplitStringTransformer",e.TemplateLiteralTransformer="TemplateLiteralTransformer",e.VariablePreserveTransformer="VariablePreserveTransformer"}(t.NodeTransformer||(t.NodeTransformer={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AfterObfuscation="afterObfuscation",e.BeforeObfuscation="beforeObfuscation"}(t.ObfuscationEvent||(t.ObfuscationEvent={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ConsoleOutputDisableExpressionNode="ConsoleOutputDisableExpressionNode",e.DebugProtectionFunctionCallNode="DebugProtectionFunctionCallNode",e.DebugProtectionFunctionIntervalNode="DebugProtectionFunctionIntervalNode",e.DebugProtectionFunctionNode="DebugProtectionFunctionNode",e.DomainLockNode="DomainLockNode",e.NodeCallsControllerFunctionNode="NodeCallsControllerFunctionNode",e.SelfDefendingUnicodeNode="SelfDefendingUnicodeNode",e.StringArrayCallsWrapper="StringArrayCallsWrapper",e.StringArrayNode="StringArrayNode",e.StringArrayRotateFunctionNode="StringArrayRotateFunctionNode"}(t.CustomNode||(t.CustomNode={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(28);t.StringArrayEncoding=r.MakeEnum({Base64:"base64",Rc4:"rc4"})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=o(5),f=o(2),p=o(3);let m=class{constructor(e,t,o){this.identifierNamesGenerator=e(o),this.randomGenerator=t,this.options=o}getAppendEvent(){return this.appendEvent}getCustomNodes(){return this.customNodes}appendCustomNodeIfExist(e,t){const o=this.customNodes.get(e);o&&t(o)}getRandomCallsGraphIndex(e){return this.randomGenerator.getRandomInteger(0,Math.max(0,Math.round(e-1)))}};m=a([d.injectable(),c(0,d.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),c(1,d.inject(l.ServiceIdentifiers.IRandomGenerator)),c(2,d.inject(l.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(r=void 0!==u.TIdentifierNamesGeneratorFactory&&u.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==p.IRandomGenerator&&p.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==f.IOptions&&f.IOptions)?i:Object])],m),t.AbstractCustomNodeGroup=m},function(e,t){e.exports=require("@gradecam/tsenum")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{static extractDomainFrom(e){let t;return t=e.includes("://")||0===e.indexOf("//")?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0],t}}t.Utils=r,r.hexadecimalPrefix="0x"},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(28);t.IdentifierNamesGenerator=r.MakeEnum({DictionaryIdentifierNamesGenerator:"dictionary",HexadecimalIdentifierNamesGenerator:"hexadecimal",MangledIdentifierNamesGenerator:"mangled"})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(28);t.SourceMapMode=r.MakeEnum({Inline:"inline",Separate:"separate"})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ArrayExpression="ArrayExpression",e.ArrayPattern="ArrayPattern",e.ArrowFunctionExpression="ArrowFunctionExpression",e.AssignmentExpression="AssignmentExpression",e.AssignmentPattern="AssignmentPattern",e.AwaitExpression="AwaitExpression",e.BinaryExpression="BinaryExpression",e.BlockStatement="BlockStatement",e.BreakStatement="BreakStatement",e.CallExpression="CallExpression",e.CatchClause="CatchClause",e.ClassDeclaration="ClassDeclaration",e.ConditionalExpression="ConditionalExpression",e.ContinueStatement="ContinueStatement",e.ExportNamedDeclaration="ExportNamedDeclaration",e.ExpressionStatement="ExpressionStatement",e.ForStatement="ForStatement",e.ForInStatement="ForInStatement",e.ForOfStatement="ForOfStatement",e.FunctionDeclaration="FunctionDeclaration",e.FunctionExpression="FunctionExpression",e.Identifier="Identifier",e.IfStatement="IfStatement",e.ImportDeclaration="ImportDeclaration",e.ImportDefaultSpecifier="ImportDefaultSpecifier",e.ImportNamespaceSpecifier="ImportNamespaceSpecifier",e.ImportSpecifier="ImportSpecifier",e.LabeledStatement="LabeledStatement",e.Literal="Literal",e.LogicalExpression="LogicalExpression",e.MemberExpression="MemberExpression",e.MethodDefinition="MethodDefinition",e.ObjectExpression="ObjectExpression",e.ObjectPattern="ObjectPattern",e.Program="Program",e.Property="Property",e.RestElement="RestElement",e.ReturnStatement="ReturnStatement",e.SequenceExpression="SequenceExpression",e.Super="Super",e.SwitchCase="SwitchCase",e.SwitchStatement="SwitchStatement",e.TaggedTemplateExpression="TaggedTemplateExpression",e.TemplateLiteral="TemplateLiteral",e.TryStatement="TryStatement",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.VariableDeclaration="VariableDeclaration",e.VariableDeclarator="VariableDeclarator",e.WhileStatement="WhileStatement"}(t.NodeType||(t.NodeType={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(4);class n{static getLexicalScope(e){return n.getLexicalScopesRecursive(e,1)[0]}static getLexicalScopes(e){return n.getLexicalScopesRecursive(e)}static getLexicalScopesRecursive(e,t=1/0,o=[],i=0){if(o.length>=t)return o;const a=e.parentNode;if(!a)throw new ReferenceError("`parentNode` property of given node is `undefined`");return r.NodeGuards.isNodeWithLexicalScope(e)&&o.push(e),e!==a?n.getLexicalScopesRecursive(a,t,o,++i):o}}t.NodeLexicalScopeUtils=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NumberUtils=class{static toHex(e){return e.toString(16)}static isCeil(e){return e%1==0}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BaseIdentifierObfuscatingReplacer="BaseIdentifierObfuscatingReplacer"}(t.IdentifierObfuscatingReplacer||(t.IdentifierObfuscatingReplacer={}))},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(0),c=o(1),d=o(2);let l=class{constructor(e){this.options=e}};l=n([s.injectable(),a(0,s.inject(c.ServiceIdentifiers.IOptions)),i("design:paramtypes",["function"==typeof(r=void 0!==d.IOptions&&d.IOptions)?r:Object])],l),t.AbstractObfuscatingReplacer=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(31),n=o(21),i=o(32);t.DEFAULT_PRESET=Object.freeze({compact:!0,config:"",controlFlowFlattening:!1,controlFlowFlatteningThreshold:.75,deadCodeInjection:!1,deadCodeInjectionThreshold:.4,debugProtection:!1,debugProtectionInterval:!1,disableConsoleOutput:!1,domainLock:[],exclude:[],identifierNamesGenerator:r.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,identifiersPrefix:"",identifiersDictionary:[],inputFileName:"",inputFilePath:"",log:!1,renameGlobals:!1,reservedNames:[],reservedStrings:[],rotateStringArray:!0,seed:0,selfDefending:!1,shuffleStringArray:!0,sourceMap:!1,sourceMapBaseUrl:"",sourceMapFileName:"",sourceMapMode:i.SourceMapMode.Separate,splitStrings:!1,splitStringsChunkLength:10,stringArray:!0,stringArrayEncoding:!1,stringArrayThreshold:.75,target:n.ObfuscationTarget.Browser,transformObjectKeys:!1,unicodeEscapeSequence:!1})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Dot=".",e.Comma=","}(t.StringSeparator||(t.StringSeparator={}))},function(e,t,o){"use strict";var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0});let n=class{};n=r([o(0).injectable()],n),t.AbstractCalleeDataExtractor=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecmaVersion=11},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(4);t.NodeLiteralUtils=class{static isProhibitedLiteralNode(e,t){return!(!r.NodeGuards.isPropertyNode(t)||t.computed||t.key!==e)||!!r.NodeGuards.isImportDeclarationNode(t)}}},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(18),p=o(2),m=o(3);let g=r=class{constructor(e,t,o){this.replacerDataByControlFlowStorageId=new Map,this.controlFlowCustomNodeFactory=e,this.randomGenerator=t,this.options=o}static getStorageKeysByIdForCurrentStorage(e,t){let o;return o=e.has(t)?e.get(t):new Map,o}insertCustomNodeToControlFlowStorage(e,t,o,n){const i=t.getStorageId(),a=r.getStorageKeysByIdForCurrentStorage(this.replacerDataByControlFlowStorageId,i),s=a.get(o);if(this.randomGenerator.getMathRandom()<n&&s&&s.length)return this.randomGenerator.getRandomGenerator().pickone(s);const c=e=>{const o=this.randomGenerator.getRandomString(e);return t.getStorage().has(o)?c(e):o},d=c(5);return a.set(o,[d]),this.replacerDataByControlFlowStorageId.set(i,a),t.set(d,e),d}};g=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.Factory__IControlFlowCustomNode)),d(1,l.inject(u.ServiceIdentifiers.IRandomGenerator)),d(2,l.inject(u.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==f.TControlFlowCustomNodeFactory&&f.TControlFlowCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==p.IOptions&&p.IOptions)?a:Object])],g),t.AbstractControlFlowReplacer=g},function(e,t){e.exports=require("escodegen")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableNoEvalTemplate=function(){return"\n        const that = (typeof window !== 'undefined'\n           ? window\n           : (typeof process === 'object' &&\n              typeof require === 'function' &&\n              typeof global === 'object')\n             ? global\n             : this);\n    "}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(3);let f=class{constructor(e,t){this.preservedNamesSet=new Set,this.lexicalScopesPreservedNamesMap=new Map,this.randomGenerator=e,this.options=t}preserveName(e){this.preservedNamesSet.add(e)}preserveNameForLexicalScope(e,t){var o;const r=null!==(o=this.lexicalScopesPreservedNamesMap.get(t))&&void 0!==o?o:new Set;r.add(e),this.lexicalScopesPreservedNamesMap.set(t,r)}isValidIdentifierName(e){return this.notReservedName(e)&&!this.preservedNamesSet.has(e)}isValidIdentifierNameInLexicalScopes(e,t){var o;if(!this.isValidIdentifierName(e))return!1;for(const r of t){const t=null!==(o=this.lexicalScopesPreservedNamesMap.get(r))&&void 0!==o?o:null;if(t&&t.has(e))return!1}return!0}notReservedName(e){return!this.options.reservedNames.length||!this.options.reservedNames.some(t=>null!==new RegExp(t,"g").exec(e))}};f=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==u.IRandomGenerator&&u.IRandomGenerator)?r:Object,"function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],f),t.AbstractIdentifierNamesGenerator=f},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=o(2),f=o(3),p=o(7);let m=class{constructor(e,t){this.randomGenerator=e,this.options=t}initialize(){this.storage=new Map,this.storageId=this.randomGenerator.getRandomString(6)}get(e){return this.storage.get(e)}getOrThrow(e){const t=this.get(e);if(!t)throw new Error(`No value found in map storage with key \`${e}\``);return t}getKeyOf(e){for(const[t,o]of this.storage)if(e===o)return t;return null}getLength(){return this.storage.size}getStorage(){return this.storage}getStorageId(){return this.storageId}has(e){return this.storage.has(e)}mergeWith(e,t=!1){this.storage=new Map([...this.storage,...e.getStorage()]),t&&(this.storageId=e.getStorageId())}set(e,t){this.storage.set(e,t)}};a([p.initializable(),s("design:type",String)],m.prototype,"storageId",void 0),a([p.initializable(),s("design:type","function"==typeof(r="undefined"!=typeof Map&&Map)?r:Object)],m.prototype,"storage",void 0),a([d.postConstruct(),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],m.prototype,"initialize",null),m=a([d.injectable(),c(0,d.inject(l.ServiceIdentifiers.IRandomGenerator)),c(1,d.inject(l.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(n=void 0!==f.IRandomGenerator&&f.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==u.IOptions&&u.IOptions)?i:Object])],m),t.MapStorage=m},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o(71);const r=o(1),n=o(17);class i{static obfuscate(e,t={}){const o=new n.InversifyContainerFacade;o.load(e,"",t);const i=o.get(r.ServiceIdentifiers.IJavaScriptObfuscator).obfuscate(e);return o.unload(),i}}t.JavaScriptObfuscator=i,i.version=null!=="0.25.0"?"0.25.0":"unknown"},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.FunctionDeclarationCalleeDataExtractor="FunctionDeclarationCalleeDataExtractor",e.FunctionExpressionCalleeDataExtractor="FunctionExpressionCalleeDataExtractor",e.ObjectExpressionCalleeDataExtractor="ObjectExpressionCalleeDataExtractor"}(t.CalleeDataExtractor||(t.CalleeDataExtractor={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BinaryExpressionControlFlowReplacer="BinaryExpressionControlFlowReplacer",e.CallExpressionControlFlowReplacer="CallExpressionControlFlowReplacer",e.LogicalExpressionControlFlowReplacer="LogicalExpressionControlFlowReplacer",e.StringLiteralControlFlowReplacer="StringLiteralControlFlowReplacer"}(t.ControlFlowReplacer||(t.ControlFlowReplacer={}))},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=o(18),f=o(2),p=o(3),m=o(19),g=o(45),y=o(4);let h=class extends g.AbstractControlFlowReplacer{constructor(e,t,o){super(e,t,o)}getControlFlowStorageCallNode(e,t,o,r){const n=this.controlFlowCustomNodeFactory(m.ControlFlowCustomNode.ExpressionWithOperatorControlFlowStorageCallNode);n.initialize(e,t,o,r);const i=n.getNode()[0];if(!i||!y.NodeGuards.isExpressionStatementNode(i))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return i.expression}};h=a([d.injectable(),c(0,d.inject(l.ServiceIdentifiers.Factory__IControlFlowCustomNode)),c(1,d.inject(l.ServiceIdentifiers.IRandomGenerator)),c(2,d.inject(l.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(r=void 0!==u.TControlFlowCustomNodeFactory&&u.TControlFlowCustomNodeFactory)?r:Object,"function"==typeof(n=void 0!==p.IRandomGenerator&&p.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==f.IOptions&&f.IOptions)?i:Object])],h),t.ExpressionWithOperatorControlFlowReplacer=h},function(e,t,o){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(o(87)),a=n(o(88)),s=n(o(57));class c{static parse(e,t){const o=c.sourceTypes.length;for(let r=0;r<o;r++)try{return c.parseType(e,t,c.sourceTypes[r])}catch(t){if(r<o-1)continue;throw new Error(c.processParsingError(e,t.message,t.loc))}throw new Error("Acorn parsing error")}static parseType(e,t,o){const{sourceCode:r}=e,n=[],s=Object.assign(Object.assign({},t),{onComment:n,sourceType:o}),c=i.Parser.extend(a.default).parse(r,s);return n.length&&(c.comments=n),c}static processParsingError(e,t,o){if(!o||!o.line||!o.column)throw new Error(t);const{sourceCode:r,inputFilePath:n}=e,i=r.split(/\r?\n/)[o.line-1];if(!i)throw new Error(t);const a=n?`${n}, `:"",s=Math.max(0,o.column-c.nearestSymbolsCount),d=Math.min(i.length,o.column+c.nearestSymbolsCount),l=c.colorError(">"),u=`...${i.substring(s,d).replace(/^\s+/,"")}...`;throw new Error(`ERROR in ${a}line ${o.line}: ${t}\n${l} ${u}`)}}t.ASTParserFacade=c,c.colorError=s.default.red,c.nearestSymbolsCount=15,c.sourceTypes=["script","module"]},function(e,t){e.exports=require("chalk")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlockStatementDeadCodeInjectionNode="BlockStatementDeadCodeInjectionNode"}(t.DeadCodeInjectionCustomNode||(t.DeadCodeInjectionCustomNode={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BasePropertiesExtractor="BasePropertiesExtractor",e.ObjectExpressionToVariableDeclarationExtractor="ObjectExpressionToVariableDeclarationExtractor"}(t.ObjectExpressionExtractor||(t.ObjectExpressionExtractor={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ObjectExpressionVariableDeclarationHostNode="ObjectExpressionVariableDeclarationHostNode"}(t.ObjectExpressionKeysTransformerCustomNode||(t.ObjectExpressionKeysTransformerCustomNode={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ConsoleOutputCustomNodeGroup="ConsoleOutputCustomNodeGroup",e.DebugProtectionCustomNodeGroup="DebugProtectionCustomNodeGroup",e.DomainLockCustomNodeGroup="DomainLockCustomNodeGroup",e.SelfDefendingCustomNodeGroup="SelfDefendingCustomNodeGroup",e.StringArrayCustomNodeGroup="StringArrayCustomNodeGroup"}(t.CustomNodeGroup||(t.CustomNodeGroup={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BooleanLiteralObfuscatingReplacer="BooleanLiteralObfuscatingReplacer",e.NumberLiteralObfuscatingReplacer="NumberLiteralObfuscatingReplacer",e.StringLiteralObfuscatingReplacer="StringLiteralObfuscatingReplacer"}(t.LiteralObfuscatingReplacer||(t.LiteralObfuscatingReplacer={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t){e.exports=require("class-validator")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlackListObfuscatingGuard="BlackListObfuscatingGuard",e.ConditionalCommentObfuscatingGuard="ConditionalCommentObfuscatingGuard",e.ReservedStringObfuscatingGuard="ReservedStringObfuscatingGuard"}(t.ObfuscatingGuard||(t.ObfuscatingGuard={}))},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=o(0),a=o(4);let s=r=class{constructor(){this.obfuscationAllowedForCurrentNode=!0,this.obfuscationAllowedForNextNode=null}static isConditionalComment(e){return r.obfuscationEnableCommentRegExp.test(e.value)||r.obfuscationDisableCommentRegExp.test(e.value)}check(e){if(this.obfuscationAllowedForNextNode&&(this.obfuscationAllowedForCurrentNode=this.obfuscationAllowedForNextNode,this.obfuscationAllowedForNextNode=null),!a.NodeGuards.isNodeWithComments(e))return this.obfuscationAllowedForCurrentNode;const t=e.leadingComments,o=e.trailingComments;return t&&(this.obfuscationAllowedForCurrentNode=this.checkComments(t)),o&&(this.obfuscationAllowedForNextNode=this.checkComments(o)),this.obfuscationAllowedForCurrentNode}checkComments(e){const t=e.length;let o=this.obfuscationAllowedForCurrentNode;for(let n=0;n<t;n++){const t=e[n];r.obfuscationEnableCommentRegExp.test(t.value)?o=!0:r.obfuscationDisableCommentRegExp.test(t.value)&&(o=!1)}return o}};s.obfuscationEnableCommentRegExp=new RegExp("javascript-obfuscator *: *enable"),s.obfuscationDisableCommentRegExp=new RegExp("javascript-obfuscator *: *disable"),s=r=n([i.injectable()],s),t.ConditionalCommentObfuscatingGuard=s},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=l(o(223)),m=o(224),g=o(2),y=o(225),h=o(7);let N=r=class{constructor(e,t){this.sourceCode=e,this.options=t}initialize(){this.randomGenerator=new m.Chance(this.getRawSeed())}getMathRandom(){return this.getRandomInteger(0,99999)/1e5}getRandomGenerator(){return this.randomGenerator}getRandomInteger(e,t){return this.getRandomGenerator().integer({min:e,max:t})}getRandomString(e,t=r.randomGeneratorPool){return this.getRandomGenerator().string({length:e,pool:t})}getInputSeed(){return this.options.seed.toString()}getRawSeed(){const e=this.getInputSeed();return`${e}`.split("|").length>1?e:`${e}|${p.default(this.sourceCode.getSourceCode())}`}};N.randomGeneratorPool="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s([h.initializable(),c("design:type","function"==typeof(n=void 0!==m.Chance&&m.Chance.Chance)?n:Object)],N.prototype,"randomGenerator",void 0),s([u.postConstruct(),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],N.prototype,"initialize",null),N=r=s([u.injectable(),d(0,u.inject(f.ServiceIdentifiers.ISourceCode)),d(1,u.inject(f.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(i=void 0!==y.ISourceCode&&y.ISourceCode)?i:Object,"function"==typeof(a=void 0!==g.IOptions&&g.IOptions)?a:Object])],N),t.RandomGenerator=N},function(e,t){e.exports=require("reflect-metadata")},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=c(o(57)),f=o(2),p=o(73);let m=r=class{constructor(e){this.options=e}static log(e,t,o,r){const n=e(`\n${t} ${o}`);console.log(n,null!=r?r:"")}info(e,t){this.options.log&&r.log(r.colorInfo,p.LoggingPrefix.Base,e,t)}success(e,t){this.options.log&&r.log(r.colorSuccess,p.LoggingPrefix.Base,e,t)}warn(e,t){this.options.log&&r.log(r.colorWarn,p.LoggingPrefix.Base,e,t)}};m.colorInfo=u.default.cyan,m.colorSuccess=u.default.green,m.colorWarn=u.default.yellow,m=r=i([d.injectable(),s(0,d.inject(l.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(n=void 0!==f.IOptions&&f.IOptions)?n:Object])],m),t.Logger=m},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Base="[javascript-obfuscator]",e.CLI="[javascript-obfuscator-cli]"}(t.LoggingPrefix||(t.LoggingPrefix={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(17),n=o(0),i=o(1),a=o(53),s=o(75),c=o(77),d=o(78),l=o(79),u=o(80),f=o(81),p=o(83);t.analyzersModule=new n.ContainerModule(e=>{e(i.ServiceIdentifiers.ICallsGraphAnalyzer).to(s.CallsGraphAnalyzer).inSingletonScope(),e(i.ServiceIdentifiers.IPrevailingKindOfVariablesAnalyzer).to(u.PrevailingKindOfVariablesAnalyzer).inSingletonScope(),e(i.ServiceIdentifiers.IScopeAnalyzer).to(f.ScopeAnalyzer).inSingletonScope(),e(i.ServiceIdentifiers.IStringArrayStorageAnalyzer).to(p.StringArrayStorageAnalyzer).inSingletonScope(),e(i.ServiceIdentifiers.ICalleeDataExtractor).to(c.FunctionDeclarationCalleeDataExtractor).whenTargetNamed(a.CalleeDataExtractor.FunctionDeclarationCalleeDataExtractor),e(i.ServiceIdentifiers.ICalleeDataExtractor).to(d.FunctionExpressionCalleeDataExtractor).whenTargetNamed(a.CalleeDataExtractor.FunctionExpressionCalleeDataExtractor),e(i.ServiceIdentifiers.ICalleeDataExtractor).to(l.ObjectExpressionCalleeDataExtractor).whenTargetNamed(a.CalleeDataExtractor.ObjectExpressionCalleeDataExtractor),e(i.ServiceIdentifiers.Factory__ICalleeDataExtractor).toFactory(r.InversifyContainerFacade.getCacheFactory(i.ServiceIdentifiers.ICalleeDataExtractor))})},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=c(o(14)),f=o(76),p=o(53),m=o(4),g=o(15);let y=r=class{constructor(e){this.calleeDataExtractorFactory=e}static getLimitIndex(e){const t=e-1,o=r.limitThresholdActivationLength-1;let n=t;return t>o&&(n=Math.round(o+t*r.limitThreshold),n>t&&(n=t)),n}analyze(e){return this.analyzeRecursive(e.body)}analyzeRecursive(e){const t=r.getLimitIndex(e.length),o=[],n=e.length;for(let r=0;r<n&&!(r>t);r++){const t=e[r];u.traverse(t,{enter:r=>{if(m.NodeGuards.isCallExpressionNode(r))return t.parentNode!==g.NodeStatementUtils.getParentNodeWithStatements(r)?u.VisitorOption.Skip:void this.analyzeCallExpressionNode(o,e,r)}})}return o}analyzeCallExpressionNode(e,t,o){r.calleeDataExtractorsList.forEach(r=>{const n=this.calleeDataExtractorFactory(r).extract(t,o.callee);n&&e.push(Object.assign(Object.assign({},n),{callsGraph:this.analyzeRecursive(n.callee.body)}))})}};y.calleeDataExtractorsList=[p.CalleeDataExtractor.FunctionDeclarationCalleeDataExtractor,p.CalleeDataExtractor.FunctionExpressionCalleeDataExtractor,p.CalleeDataExtractor.ObjectExpressionCalleeDataExtractor],y.limitThresholdActivationLength=25,y.limitThreshold=.002,y=r=i([d.injectable(),s(0,d.inject(l.ServiceIdentifiers.Factory__ICalleeDataExtractor)),a("design:paramtypes",["function"==typeof(n=void 0!==f.TCalleeDataExtractorFactory&&f.TCalleeDataExtractorFactory)?n:Object])],y),t.CallsGraphAnalyzer=y},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=o(0),a=n(o(14)),s=o(42),c=o(4),d=o(15);let l=class extends s.AbstractCalleeDataExtractor{extract(e,t){if(!c.NodeGuards.isIdentifierNode(t))return null;const o=this.getCalleeBlockStatement(d.NodeStatementUtils.getParentNodeWithStatements(e[0]),t.name);return o?{callee:o,name:t.name}:null}getCalleeBlockStatement(e,t){let o=null;return a.traverse(e,{enter:e=>{if(c.NodeGuards.isFunctionDeclarationNode(e)&&e.id.name===t)return o=e.body,a.VisitorOption.Break}}),o}};l=r([i.injectable()],l),t.FunctionDeclarationCalleeDataExtractor=l},function(e,t,o){"use strict";var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=o(0),a=n(o(14)),s=o(42),c=o(4),d=o(15);let l=class extends s.AbstractCalleeDataExtractor{extract(e,t){var o;let r=null;return c.NodeGuards.isIdentifierNode(t)&&(r=this.getCalleeBlockStatement(d.NodeStatementUtils.getParentNodeWithStatements(e[0]),t.name)),c.NodeGuards.isFunctionExpressionNode(t)&&(r=t.body),r?{callee:r,name:null!==(o=t.name)&&void 0!==o?o:null}:null}getCalleeBlockStatement(e,t){let o=null;return a.traverse(e,{enter:(e,r)=>{if(c.NodeGuards.isFunctionExpressionNode(e)&&r&&c.NodeGuards.isVariableDeclaratorNode(r)&&c.NodeGuards.isIdentifierNode(r.id)&&r.id.name===t)return o=e.body,a.VisitorOption.Break}}),o}};l=r([i.injectable()],l),t.FunctionExpressionCalleeDataExtractor=l},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(0),s=i(o(14)),c=o(42),d=o(4),l=o(15);let u=r=class extends c.AbstractCalleeDataExtractor{static isValidTargetPropertyNode(e,t){if(!e.key)return!1;const o=d.NodeGuards.isIdentifierNode(e.key)&&e.key.name===t,r=d.NodeGuards.isLiteralNode(e.key)&&Boolean(e.key.value)&&e.key.value===t;return o||r}extract(e,t){if(!d.NodeGuards.isMemberExpressionNode(t))return null;const o=this.createObjectMembersCallsChain([],t);if(!o.length)return null;const r=o[o.length-1],n=this.getCalleeBlockStatement(l.NodeStatementUtils.getParentNodeWithStatements(e[0]),o);return n?{callee:n,name:r}:null}createObjectMembersCallsChain(e,t){if(d.NodeGuards.isIdentifierNode(t.property)&&!1===t.computed)e.unshift(t.property.name);else{if(!d.NodeGuards.isLiteralNode(t.property)||"string"!=typeof t.property.value&&"number"!=typeof t.property.value)return e;e.unshift(t.property.value)}return d.NodeGuards.isMemberExpressionNode(t.object)?this.createObjectMembersCallsChain(e,t.object):(d.NodeGuards.isIdentifierNode(t.object)&&e.unshift(t.object.name),e)}getCalleeBlockStatement(e,t){const o=t.shift();if(!o)return null;let r=null;return s.traverse(e,{enter:e=>{if(d.NodeGuards.isVariableDeclaratorNode(e)&&d.NodeGuards.isIdentifierNode(e.id)&&e.init&&d.NodeGuards.isObjectExpressionNode(e.init)&&e.id.name===o)return r=this.findCalleeBlockStatement(e.init.properties,t),s.VisitorOption.Break}}),r}findCalleeBlockStatement(e,t){const o=t.shift();if(!o)return null;for(const n of e)if(r.isValidTargetPropertyNode(n,o)){if(d.NodeGuards.isObjectExpressionNode(n.value))return this.findCalleeBlockStatement(n.value.properties,t);if(d.NodeGuards.isFunctionExpressionNode(n.value))return n.value.body}return null}};u=r=n([a.injectable()],u),t.ObjectExpressionCalleeDataExtractor=u},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=c(o(14)),f=o(34),p=o(4);let m=r=class{constructor(e){this.prevailingKindOfVariables=r.defaultKindOfVariables,this.arrayUtils=e}analyze(e){var t;const o=[];u.traverse(e,{enter:e=>{p.NodeGuards.isVariableDeclarationNode(e)&&o.push(e.kind)}}),this.prevailingKindOfVariables=null!==(t=this.arrayUtils.findMostOccurringElement(o))&&void 0!==t?t:r.defaultKindOfVariables}getPrevailingKind(){return this.prevailingKindOfVariables}};m.defaultKindOfVariables="var",m=r=i([d.injectable(),s(0,d.inject(l.ServiceIdentifiers.IArrayUtils)),a("design:paramtypes",["function"==typeof(n=void 0!==f.IArrayUtils&&f.IArrayUtils)?n:Object])],m),t.PrevailingKindOfVariablesAnalyzer=m},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(0),s=i(o(82)),c=i(o(14)),d=o(43),l=o(4);let u=r=class{constructor(){this.scopeManager=null}static attachMissingRanges(e){c.replace(e,{enter:e=>(e.range||(e.range=[r.emptyRangeValue,r.emptyRangeValue]),e)})}static isRootNode(e){return l.NodeGuards.isProgramNode(e)||e.parentNode===e}analyze(e){const t=r.sourceTypes.length;r.attachMissingRanges(e);for(let o=0;o<t;o++)try{return void(this.scopeManager=s.analyze(e,Object.assign(Object.assign({},r.eslintScopeOptions),{sourceType:r.sourceTypes[o]})))}catch(e){if(o<t-1)continue;throw new Error(e)}throw new Error("Scope analyzing error")}acquireScope(e){if(!this.scopeManager)throw new Error("Scope manager is not defined");const t=this.scopeManager.acquire(e,r.isRootNode(e));if(!t)throw new Error("Cannot acquire scope for node");return this.sanitizeScopes(t),t}sanitizeScopes(e){e.childScopes.forEach(e=>{if("class"===e.type&&e.upper){if(!e.variables.length)return;const t=e.variables[0],o=e.upper.variables.find(e=>t.defs.some(e=>"ClassName"===e.type)&&e.name===t.name);null==o||o.references.push(...e.variables[0].references)}});for(const t of e.childScopes)this.sanitizeScopes(t)}};u.eslintScopeOptions={ecmaVersion:d.ecmaVersion,optimistic:!0},u.sourceTypes=["script","module"],u.emptyRangeValue=0,u=r=n([a.injectable()],u),t.ScopeAnalyzer=u},function(e,t){e.exports=require("eslint-scope")},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=l(o(14)),m=o(2),g=o(3),y=o(35),h=o(4),N=o(16),b=o(44);let v=r=class{constructor(e,t,o){this.stringArrayStorageData=new Map,this.stringArrayStorage=e,this.randomGenerator=t,this.options=o}analyze(e){this.options.stringArray&&p.traverse(e,{enter:(e,t)=>{if(t)return N.NodeMetadata.isIgnoredNode(e)?p.VisitorOption.Skip:void(h.NodeGuards.isLiteralNode(e)&&this.analyzeLiteralNode(e,t))}})}getItemDataForLiteralNode(e){return this.stringArrayStorageData.get(e)}analyzeLiteralNode(e,t){"string"==typeof e.value&&(b.NodeLiteralUtils.isProhibitedLiteralNode(e,t)||this.shouldAddValueToStringArray(e.value)&&this.stringArrayStorageData.set(e,this.stringArrayStorage.getOrThrow(e.value)))}shouldAddValueToStringArray(e){return e.length>=r.minimumLengthForStringArray&&this.randomGenerator.getMathRandom()<=this.options.stringArrayThreshold}};v.minimumLengthForStringArray=3,v=r=s([u.injectable(),d(0,u.inject(f.ServiceIdentifiers.IStringArrayStorage)),d(1,u.inject(f.ServiceIdentifiers.IRandomGenerator)),d(2,u.inject(f.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==y.IStringArrayStorage&&y.IStringArrayStorage)?n:Object,"function"==typeof(i=void 0!==g.IRandomGenerator&&g.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==m.IOptions&&m.IOptions)?a:Object])],v),t.StringArrayStorageAnalyzer=v},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(17),n=o(0),i=o(1),a=o(54),s=o(22),c=o(85),d=o(86),l=o(89),u=o(90),f=o(92),p=o(95),m=o(96);t.controlFlowTransformersModule=new n.ContainerModule(e=>{e(i.ServiceIdentifiers.INodeTransformer).to(d.BlockStatementControlFlowTransformer).whenTargetNamed(s.NodeTransformer.BlockStatementControlFlowTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(u.DeadCodeInjectionTransformer).whenTargetNamed(s.NodeTransformer.DeadCodeInjectionTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(f.FunctionControlFlowTransformer).whenTargetNamed(s.NodeTransformer.FunctionControlFlowTransformer),e(i.ServiceIdentifiers.IControlFlowReplacer).to(c.BinaryExpressionControlFlowReplacer).whenTargetNamed(a.ControlFlowReplacer.BinaryExpressionControlFlowReplacer),e(i.ServiceIdentifiers.IControlFlowReplacer).to(l.CallExpressionControlFlowReplacer).whenTargetNamed(a.ControlFlowReplacer.CallExpressionControlFlowReplacer),e(i.ServiceIdentifiers.IControlFlowReplacer).to(p.LogicalExpressionControlFlowReplacer).whenTargetNamed(a.ControlFlowReplacer.LogicalExpressionControlFlowReplacer),e(i.ServiceIdentifiers.IControlFlowReplacer).to(m.StringLiteralControlFlowReplacer).whenTargetNamed(a.ControlFlowReplacer.StringLiteralControlFlowReplacer),e(i.ServiceIdentifiers.Factory__IControlFlowReplacer).toFactory(r.InversifyContainerFacade.getCacheFactory(i.ServiceIdentifiers.IControlFlowReplacer))})},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(18),p=o(2),m=o(3),g=o(19),y=o(55);let h=r=class extends y.ExpressionWithOperatorControlFlowReplacer{constructor(e,t,o){super(e,t,o)}replace(e,t,o){const n=e.operator,i=this.controlFlowCustomNodeFactory(g.ControlFlowCustomNode.BinaryExpressionFunctionNode);i.initialize(n);const a=this.insertCustomNodeToControlFlowStorage(i,o,n,r.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(o.getStorageId(),a,e.left,e.right)}};h.usingExistingIdentifierChance=.5,h=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.Factory__IControlFlowCustomNode)),d(1,l.inject(u.ServiceIdentifiers.IRandomGenerator)),d(2,l.inject(u.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==f.TControlFlowCustomNodeFactory&&f.TControlFlowCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==p.IOptions&&p.IOptions)?a:Object])],h),t.BinaryExpressionControlFlowReplacer=h},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=u(o(14)),g=o(18),y=o(34),h=o(2),N=o(3),b=o(19),v=o(12),I=o(13),S=o(4),O=o(6);let j=r=class extends I.AbstractNodeTransformer{constructor(e,t,o,r){super(o,r),this.controlFlowCustomNodeFactory=e,this.arrayUtils=t}static isProhibitedStatementNode(e){const t=S.NodeGuards.isBreakStatementNode(e)||S.NodeGuards.isContinueStatementNode(e),o=S.NodeGuards.isVariableDeclarationNode(e)&&("const"===e.kind||"let"===e.kind),r=S.NodeGuards.isClassDeclarationNode(e);return S.NodeGuards.isFunctionDeclarationNode(e)||t||o||r}static canTransformBlockStatementNode(e){let t=!0;return m.traverse(e,{enter:e=>{if(S.NodeGuards.isWhileStatementNode(e))return m.VisitorOption.Skip;r.isProhibitedStatementNode(e)&&(t=!1)}}),e.body.length<=4&&(t=!1),t}getVisitor(e){switch(e){case v.TransformationStage.ControlFlowFlattening:return{leave:(e,t)=>{if(t&&S.NodeGuards.isBlockStatementNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){if(this.randomGenerator.getMathRandom()>this.options.controlFlowFlatteningThreshold||!r.canTransformBlockStatementNode(e))return e;const o=e.body,n=this.arrayUtils.createWithRange(o.length),i=this.arrayUtils.shuffle(n),a=n.map(e=>i.indexOf(e)),s=this.controlFlowCustomNodeFactory(b.ControlFlowCustomNode.BlockStatementControlFlowFlatteningNode);s.initialize(o,i,a);const c=s.getNode()[0];return O.NodeUtils.parentizeNode(c,t),c}};j=r=c([f.injectable(),l(0,f.inject(p.ServiceIdentifiers.Factory__IControlFlowCustomNode)),l(1,f.inject(p.ServiceIdentifiers.IArrayUtils)),l(2,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l(3,f.inject(p.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(n=void 0!==g.TControlFlowCustomNodeFactory&&g.TControlFlowCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==y.IArrayUtils&&y.IArrayUtils)?i:Object,"function"==typeof(a=void 0!==N.IRandomGenerator&&N.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==h.IOptions&&h.IOptions)?s:Object])],j),t.BlockStatementControlFlowTransformer=j},function(e,t){e.exports=require("acorn")},function(e,t){e.exports=require("acorn-import-meta")},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(18),p=o(2),m=o(3),g=o(19),y=o(45),h=o(4);let N=r=class extends y.AbstractControlFlowReplacer{constructor(e,t,o){super(e,t,o)}replace(e,t,o){const n=e.callee;if(!h.NodeGuards.isIdentifierNode(n))return e;const i=String(e.arguments.length),a=this.controlFlowCustomNodeFactory(g.ControlFlowCustomNode.CallExpressionFunctionNode),s=e.arguments;a.initialize(s);const c=this.insertCustomNodeToControlFlowStorage(a,o,i,r.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(o.getStorageId(),c,n,s)}getControlFlowStorageCallNode(e,t,o,r){const n=this.controlFlowCustomNodeFactory(g.ControlFlowCustomNode.CallExpressionControlFlowStorageCallNode);n.initialize(e,t,o,r);const i=n.getNode()[0];if(!i||!h.NodeGuards.isExpressionStatementNode(i))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return i.expression}};N.usingExistingIdentifierChance=.5,N=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.Factory__IControlFlowCustomNode)),d(1,l.inject(u.ServiceIdentifiers.IRandomGenerator)),d(2,l.inject(u.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==f.TControlFlowCustomNodeFactory&&f.TControlFlowCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==p.IOptions&&p.IOptions)?a:Object])],N),t.CallExpressionControlFlowReplacer=N},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=u(o(14)),g=o(91),y=o(2),h=o(3),N=o(58),b=o(59),v=o(22),I=o(33),S=o(12),O=o(13),j=o(8),C=o(4),_=o(15),R=o(6);let F=r=class extends O.AbstractNodeTransformer{constructor(e,t,o,r){super(o,r),this.deadCodeInjectionRootAstHostNodeSet=new Set,this.collectedBlockStatements=[],this.collectedBlockStatementsTotalLength=0,this.deadCodeInjectionCustomNodeFactory=e,this.transformersRunner=t}static isProhibitedNodeInsideCollectedBlockStatement(e){return C.NodeGuards.isBreakStatementNode(e)||C.NodeGuards.isContinueStatementNode(e)||C.NodeGuards.isAwaitExpressionNode(e)||C.NodeGuards.isSuperNode(e)}static isScopeHoistingFunctionDeclaration(e){if(!C.NodeGuards.isFunctionDeclarationNode(e))return!1;const t=_.NodeStatementUtils.getScopeOfNode(e),o=C.NodeGuards.isSwitchCaseNode(t)?t.consequent:t.body,r=o.indexOf(e);if(0===r)return!1;const n=o.slice(0,r),i=j.NodeFactory.blockStatementNode(n),a=e.id.name;let s=!1;return m.traverse(i,{enter:e=>{if(C.NodeGuards.isIdentifierNode(e)&&e.name===a)return s=!0,m.VisitorOption.Break}}),s}static isValidCollectedBlockStatementNode(e){if(!e.body.length)return!1;let t=0,o=!0;return m.traverse(e,{enter:e=>{if(C.NodeGuards.isBlockStatementNode(e)&&t++,t>r.maxNestedBlockStatementsCount||r.isProhibitedNodeInsideCollectedBlockStatement(e)||r.isScopeHoistingFunctionDeclaration(e))return o=!1,m.VisitorOption.Break}}),o}static isValidWrappedBlockStatementNode(e){if(!e.body.length)return!1;let t=!0;if(m.traverse(e,{enter:e=>{if(r.isScopeHoistingFunctionDeclaration(e))return t=!1,m.VisitorOption.Break}}),!t)return!1;return _.NodeStatementUtils.getParentNodeWithStatements(e).type!==I.NodeType.Program}getVisitor(e){switch(e){case S.TransformationStage.DeadCodeInjection:return{enter:(e,t)=>{if(t&&C.NodeGuards.isProgramNode(e))return this.analyzeNode(e,t),e},leave:(e,t)=>{if(t&&C.NodeGuards.isBlockStatementNode(e))return this.transformNode(e,t)}};case S.TransformationStage.Finalizing:return this.deadCodeInjectionRootAstHostNodeSet.size?{enter:(e,t)=>{if(t&&this.isDeadCodeInjectionRootAstHostNode(e))return this.restoreNode(e,t)}}:null;default:return null}}analyzeNode(e,t){m.traverse(e,{enter:e=>{if(!C.NodeGuards.isBlockStatementNode(e))return;const t=R.NodeUtils.clone(e);if(!r.isValidCollectedBlockStatementNode(t))return;const o=this.makeClonedBlockStatementNodeUnique(t);this.collectedBlockStatements.push(o)}}),this.collectedBlockStatementsTotalLength=this.collectedBlockStatements.length}transformNode(e,t){if(!this.collectedBlockStatements.length||this.collectedBlockStatementsTotalLength<r.minCollectedBlockStatementsCount)return m.VisitorOption.Break;if(this.randomGenerator.getMathRandom()>this.options.deadCodeInjectionThreshold||!r.isValidWrappedBlockStatementNode(e))return e;const o=this.collectedBlockStatements.length-1,n=this.randomGenerator.getRandomInteger(0,o),i=this.collectedBlockStatements.splice(n,1)[0];return i===e?e:this.replaceBlockStatementNode(e,i,t)}restoreNode(e,t){const o=e.body[0];if(!C.NodeGuards.isFunctionDeclarationNode(o))throw new Error("Wrong dead code injection root AST host node. Host node should contain `FunctionDeclaration` node");return o.body}isDeadCodeInjectionRootAstHostNode(e){return C.NodeGuards.isBlockStatementNode(e)&&this.deadCodeInjectionRootAstHostNodeSet.has(e)}makeClonedBlockStatementNodeUnique(e){const t=j.NodeFactory.functionExpressionNode([],e);return R.NodeUtils.parentizeNode(t,t),R.NodeUtils.parentizeNode(e,t),this.transformersRunner.transform(t,r.transformersToRenameBlockScopeIdentifiers,S.TransformationStage.Obfuscating).body}replaceBlockStatementNode(e,t,o){const n=j.NodeFactory.blockStatementNode([j.NodeFactory.functionDeclarationNode(r.deadCodeInjectionRootAstHostNodeName,[],t)]);this.deadCodeInjectionRootAstHostNodeSet.add(n);const i=this.deadCodeInjectionCustomNodeFactory(b.DeadCodeInjectionCustomNode.BlockStatementDeadCodeInjectionNode);i.initialize(e,n);const a=i.getNode()[0];return R.NodeUtils.parentizeNode(a,o),a}};F.deadCodeInjectionRootAstHostNodeName="deadCodeInjectionRootAstHostNode",F.maxNestedBlockStatementsCount=4,F.minCollectedBlockStatementsCount=5,F.transformersToRenameBlockScopeIdentifiers=[v.NodeTransformer.LabeledStatementTransformer,v.NodeTransformer.ScopeIdentifiersTransformer],F=r=c([f.injectable(),l(0,f.inject(p.ServiceIdentifiers.Factory__IDeadCodeInjectionCustomNode)),l(1,f.inject(p.ServiceIdentifiers.ITransformersRunner)),l(2,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l(3,f.inject(p.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(n=void 0!==g.TDeadNodeInjectionCustomNodeFactory&&g.TDeadNodeInjectionCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==N.ITransformersRunner&&N.ITransformersRunner)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],F),t.DeadCodeInjectionTransformer=F},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const p=o(0),m=o(1),g=f(o(14)),y=o(18),h=o(93),N=o(94),b=o(2),v=o(3),I=o(19),S=o(54),O=o(33),j=o(12),C=o(13),_=o(20),R=o(4),F=o(16),T=o(15),x=o(6);let w=r=class extends C.AbstractNodeTransformer{constructor(e,t,o,r,n){super(r,n),this.controlFlowData=new Map,this.visitedFunctionNodes=new Set,this.hostNodesWithControlFlowNode=new Set,this.controlFlowStorageFactory=e,this.controlFlowReplacerFactory=t,this.controlFlowCustomNodeFactory=o}getVisitor(e){switch(e){case j.TransformationStage.ControlFlowFlattening:return{leave:(e,t)=>{if(t&&(R.NodeGuards.isFunctionDeclarationNode(e)||R.NodeGuards.isFunctionExpressionNode(e)||R.NodeGuards.isArrowFunctionExpressionNode(e)))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){if(this.visitedFunctionNodes.add(e),!R.NodeGuards.isBlockStatementNode(e.body))return e;const o=this.getHostNode(e.body),r=this.getControlFlowStorage(o);if(this.controlFlowData.set(o,r),this.transformFunctionBody(e.body,r),!r.getLength())return e;const n=this.controlFlowCustomNodeFactory(I.ControlFlowCustomNode.ControlFlowStorageNode);return n.initialize(r),_.NodeAppender.prepend(o,n.getNode()),this.hostNodesWithControlFlowNode.add(o),x.NodeUtils.parentizeAst(e),e}getControlFlowStorage(e){const t=this.controlFlowStorageFactory();if(this.controlFlowData.has(e)){this.hostNodesWithControlFlowNode.has(e)&&(R.NodeGuards.isSwitchCaseNode(e)?e.consequent.shift():e.body.shift());const o=this.controlFlowData.get(e);t.mergeWith(o,!0)}return t}getHostNode(e){const t=T.NodeStatementUtils.getParentNodesWithStatements(e);return 1===t.length?e:(t.pop(),t.length>r.hostNodeSearchMinDepth&&t.splice(0,r.hostNodeSearchMinDepth),t.length>r.hostNodeSearchMaxDepth&&(t.length=r.hostNodeSearchMaxDepth),this.randomGenerator.getRandomGenerator().pickone(t))}isVisitedFunctionNode(e){return(R.NodeGuards.isFunctionDeclarationNode(e)||R.NodeGuards.isFunctionExpressionNode(e)||R.NodeGuards.isArrowFunctionExpressionNode(e))&&this.visitedFunctionNodes.has(e)}transformFunctionBody(e,t){g.replace(e,{enter:(e,o)=>{if(F.NodeMetadata.isIgnoredNode(e))return g.VisitorOption.Skip;if(this.isVisitedFunctionNode(e)||!o)return g.VisitorOption.Skip;if(!r.controlFlowReplacersMap.has(e.type))return e;if(this.randomGenerator.getMathRandom()>this.options.controlFlowFlatteningThreshold)return e;const n=r.controlFlowReplacersMap.get(e.type);return void 0===n?e:Object.assign(Object.assign({},this.controlFlowReplacerFactory(n).replace(e,o,t)),{parentNode:o})}})}};w.controlFlowReplacersMap=new Map([[O.NodeType.BinaryExpression,S.ControlFlowReplacer.BinaryExpressionControlFlowReplacer],[O.NodeType.CallExpression,S.ControlFlowReplacer.CallExpressionControlFlowReplacer],[O.NodeType.LogicalExpression,S.ControlFlowReplacer.LogicalExpressionControlFlowReplacer],[O.NodeType.Literal,S.ControlFlowReplacer.StringLiteralControlFlowReplacer]]),w.hostNodeSearchMinDepth=0,w.hostNodeSearchMaxDepth=2,w=r=d([p.injectable(),u(0,p.inject(m.ServiceIdentifiers.Factory__TControlFlowStorage)),u(1,p.inject(m.ServiceIdentifiers.Factory__IControlFlowReplacer)),u(2,p.inject(m.ServiceIdentifiers.Factory__IControlFlowCustomNode)),u(3,p.inject(m.ServiceIdentifiers.IRandomGenerator)),u(4,p.inject(m.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(n=void 0!==N.TControlFlowStorageFactory&&N.TControlFlowStorageFactory)?n:Object,"function"==typeof(i=void 0!==h.TControlFlowReplacerFactory&&h.TControlFlowReplacerFactory)?i:Object,"function"==typeof(a=void 0!==y.TControlFlowCustomNodeFactory&&y.TControlFlowCustomNodeFactory)?a:Object,"function"==typeof(s=void 0!==v.IRandomGenerator&&v.IRandomGenerator)?s:Object,"function"==typeof(c=void 0!==b.IOptions&&b.IOptions)?c:Object])],w),t.FunctionControlFlowTransformer=w},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(18),p=o(2),m=o(3),g=o(19),y=o(55),h=o(4),N=o(6);let b=r=class extends y.ExpressionWithOperatorControlFlowReplacer{constructor(e,t,o){super(e,t,o)}replace(e,t,o){if(this.checkForProhibitedExpressions(e.left,e.right))return e;const n=e.operator,i=this.controlFlowCustomNodeFactory(g.ControlFlowCustomNode.LogicalExpressionFunctionNode);i.initialize(n);const a=this.insertCustomNodeToControlFlowStorage(i,o,n,r.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(o.getStorageId(),a,e.left,e.right)}checkForProhibitedExpressions(e,t){return[e,t].some(e=>{let t;return t=h.NodeGuards.isUnaryExpressionNode(e)?N.NodeUtils.getUnaryExpressionArgumentNode(e):e,!(h.NodeGuards.isLiteralNode(t)||h.NodeGuards.isIdentifierNode(t)||h.NodeGuards.isObjectExpressionNode(t)||h.NodeGuards.isExpressionStatementNode(t))})}};b.usingExistingIdentifierChance=.5,b=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.Factory__IControlFlowCustomNode)),d(1,l.inject(u.ServiceIdentifiers.IRandomGenerator)),d(2,l.inject(u.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==f.TControlFlowCustomNodeFactory&&f.TControlFlowCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==p.IOptions&&p.IOptions)?a:Object])],b),t.LogicalExpressionControlFlowReplacer=b},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(18),p=o(2),m=o(3),g=o(19),y=o(45),h=o(4);let N=r=class extends y.AbstractControlFlowReplacer{constructor(e,t,o){super(e,t,o)}replace(e,t,o){if(h.NodeGuards.isPropertyNode(t)&&t.key===e)return e;if("string"!=typeof e.value||e.value.length<3)return e;const n=String(e.value),i=this.controlFlowCustomNodeFactory(g.ControlFlowCustomNode.StringLiteralNode);i.initialize(e.value);const a=this.insertCustomNodeToControlFlowStorage(i,o,n,r.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(o.getStorageId(),a)}getControlFlowStorageCallNode(e,t){const o=this.controlFlowCustomNodeFactory(g.ControlFlowCustomNode.StringLiteralControlFlowStorageCallNode);o.initialize(e,t);const r=o.getNode()[0];if(!r||!h.NodeGuards.isExpressionStatementNode(r))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return r.expression}};N.usingExistingIdentifierChance=1,N=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.Factory__IControlFlowCustomNode)),d(1,l.inject(u.ServiceIdentifiers.IRandomGenerator)),d(2,l.inject(u.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==f.TControlFlowCustomNodeFactory&&f.TControlFlowCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==p.IOptions&&p.IOptions)?a:Object])],N),t.StringLiteralControlFlowReplacer=N},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(0),n=o(17),i=o(1),a=o(22),s=o(60),c=o(98),d=o(100),l=o(101),u=o(102),f=o(104),p=o(105),m=o(106),g=o(107);t.convertingTransformersModule=new r.ContainerModule(e=>{e(i.ServiceIdentifiers.INodeTransformer).to(d.MemberExpressionTransformer).whenTargetNamed(a.NodeTransformer.MemberExpressionTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(l.MethodDefinitionTransformer).whenTargetNamed(a.NodeTransformer.MethodDefinitionTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(u.ObjectExpressionKeysTransformer).whenTargetNamed(a.NodeTransformer.ObjectExpressionKeysTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(f.ObjectExpressionTransformer).whenTargetNamed(a.NodeTransformer.ObjectExpressionTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(p.SplitStringTransformer).whenTargetNamed(a.NodeTransformer.SplitStringTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(m.TemplateLiteralTransformer).whenTargetNamed(a.NodeTransformer.TemplateLiteralTransformer),e(i.ServiceIdentifiers.IObjectExpressionExtractor).to(c.ObjectExpressionToVariableDeclarationExtractor).whenTargetNamed(s.ObjectExpressionExtractor.ObjectExpressionToVariableDeclarationExtractor),e(i.ServiceIdentifiers.IObjectExpressionExtractor).to(g.BasePropertiesExtractor).whenTargetNamed(s.ObjectExpressionExtractor.BasePropertiesExtractor),e(i.ServiceIdentifiers.Factory__IObjectExpressionExtractor).toFactory(n.InversifyContainerFacade.getCacheFactory(i.ServiceIdentifiers.IObjectExpressionExtractor))})},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(0),c=o(1),d=o(99),l=o(61),u=o(20),f=o(4),p=o(15),m=o(6),g=o(36);let y=class{constructor(e){this.objectExpressionKeysTransformerCustomNodeFactory=e}extract(e,t){return this.transformObjectExpressionToVariableDeclaration(e,t)}transformObjectExpressionToVariableDeclaration(e,t){var o;const r=null!==(o=g.NodeLexicalScopeUtils.getLexicalScope(t))&&void 0!==o?o:null;if(!r)throw new Error("Cannot find lexical scope node for the host statement node");const n=e.properties,i=this.getObjectExpressionHostNode(r,n),a=[i],s=p.NodeStatementUtils.getScopeOfNode(t);return u.NodeAppender.insertBefore(s,a,t),m.NodeUtils.parentizeAst(i),m.NodeUtils.parentizeNode(i,s),{nodeToReplace:this.getObjectExpressionIdentifierNode(i),objectExpressionHostStatement:i,objectExpressionNode:this.getObjectExpressionNode(i)}}getObjectExpressionHostNode(e,t){const o=this.objectExpressionKeysTransformerCustomNodeFactory(l.ObjectExpressionKeysTransformerCustomNode.ObjectExpressionVariableDeclarationHostNode);o.initialize(e,t);const r=o.getNode()[0];if(!r||!f.NodeGuards.isVariableDeclarationNode(r))throw new Error("`objectExpressionHostCustomNode.getNode()[0]` should returns array with `VariableDeclaration` node");return r}getObjectExpressionIdentifierNode(e){const t=e.declarations[0].id;if(!f.NodeGuards.isIdentifierNode(t))throw new Error("`objectExpressionHostNode` should contain `VariableDeclarator` node with `Identifier` id property");return t}getObjectExpressionNode(e){var t;const o=null!==(t=e.declarations[0].init)&&void 0!==t?t:null;if(!o||!f.NodeGuards.isObjectExpressionNode(o))throw new Error("`objectExpressionHostNode` should contain `VariableDeclarator` node with `ObjectExpression` init property");return o}};y=n([s.injectable(),a(0,s.inject(c.ServiceIdentifiers.Factory__IObjectExpressionKeysTransformerCustomNode)),i("design:paramtypes",["function"==typeof(r=void 0!==d.TObjectExpressionKeysTransformerCustomNodeFactory&&d.TObjectExpressionKeysTransformerCustomNodeFactory)?r:Object])],y),t.ObjectExpressionToVariableDeclarationExtractor=y},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(3),f=o(12),p=o(13),m=o(8),g=o(4);let y=class extends p.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case f.TransformationStage.Converting:return{enter:(e,t)=>{if(t&&g.NodeGuards.isMemberExpressionNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){if(g.NodeGuards.isIdentifierNode(e.property)){if(e.computed)return e;e.computed=!0,e.property=m.NodeFactory.literalNode(e.property.name)}return e}};y=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==u.IRandomGenerator&&u.IRandomGenerator)?r:Object,"function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],y),t.MemberExpressionTransformer=y},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=o(2),f=o(3),p=o(12),m=o(13),g=o(8),y=o(4);let h=r=class extends m.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case p.TransformationStage.Converting:return{enter:(e,t)=>{if(t&&y.NodeGuards.isMethodDefinitionNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){return y.NodeGuards.isIdentifierNode(e.key)?this.replaceIdentifierKey(e,e.key):y.NodeGuards.isLiteralNode(e.key)?this.replaceLiteralKey(e,e.key):e}replaceIdentifierKey(e,t){return r.ignoredNames.includes(t.name)||e.computed||(e.computed=!0,e.key=g.NodeFactory.literalNode(t.name)),e}replaceLiteralKey(e,t){return"string"!=typeof t.value||r.ignoredNames.includes(t.value)||e.computed||(e.computed=!0),e}};h.ignoredNames=["constructor"],h=r=a([d.injectable(),c(0,d.inject(l.ServiceIdentifiers.IRandomGenerator)),c(1,d.inject(l.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(n=void 0!==f.IRandomGenerator&&f.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==u.IOptions&&u.IOptions)?i:Object])],h),t.MethodDefinitionTransformer=h},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=l(o(14)),m=o(103),g=o(2),y=o(3),h=o(12),N=o(13),b=o(4),v=o(15),I=o(60);let S=r=class extends N.AbstractNodeTransformer{constructor(e,t,o){super(t,o),this.objectExpressionExtractorFactory=e}static isProhibitedHostStatement(e,t){return r.isReferencedIdentifierName(e,t)||r.isProhibitedSequenceExpression(e,t)}static isReferencedIdentifierName(e,t){const o=[];let r=!1,n=!1;return p.traverse(t,{enter:t=>{t===e&&(n=!0),b.NodeGuards.isIdentifierNode(t)&&(n?o.includes(t.name)&&(r=!0):o.push(t.name))},leave:t=>{if(t===e)return n=!1,p.VisitorOption.Break}}),r}static isProhibitedSequenceExpression(e,t){return b.NodeGuards.isExpressionStatementNode(t)&&b.NodeGuards.isSequenceExpressionNode(t.expression)&&t.expression.expressions.some(e=>b.NodeGuards.isCallExpressionNode(e)&&b.NodeGuards.isSuperNode(e.callee))}getVisitor(e){if(!this.options.transformObjectKeys)return null;switch(e){case h.TransformationStage.Converting:return{leave:(e,t)=>{if(t&&b.NodeGuards.isObjectExpressionNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){if(!e.properties.length)return e;const o=v.NodeStatementUtils.getRootStatementOfNode(e);return r.isProhibitedHostStatement(e,o)?e:this.applyObjectExpressionKeysExtractorsRecursive(r.objectExpressionExtractorNames,e,o)}applyObjectExpressionKeysExtractorsRecursive(e,t,o){const r=[...e],n=r.shift();if(!n)return t;const{nodeToReplace:i,objectExpressionHostStatement:a,objectExpressionNode:s}=this.objectExpressionExtractorFactory(n).extract(t,o);return this.applyObjectExpressionKeysExtractorsRecursive(r,s,a),i}};S.objectExpressionExtractorNames=[I.ObjectExpressionExtractor.ObjectExpressionToVariableDeclarationExtractor,I.ObjectExpressionExtractor.BasePropertiesExtractor],S=r=s([u.injectable(),d(0,u.inject(f.ServiceIdentifiers.Factory__IObjectExpressionExtractor)),d(1,u.inject(f.ServiceIdentifiers.IRandomGenerator)),d(2,u.inject(f.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==m.TObjectExpressionExtractorFactory&&m.TObjectExpressionExtractorFactory)?n:Object,"function"==typeof(i=void 0!==y.IRandomGenerator&&y.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==g.IOptions&&g.IOptions)?a:Object])],S),t.ObjectExpressionKeysTransformer=S},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(3),f=o(12),p=o(13),m=o(8),g=o(4);let y=class extends p.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case f.TransformationStage.Converting:return{enter:(e,t)=>{if(t&&g.NodeGuards.isObjectExpressionNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){return e.properties.forEach(e=>{e.key&&(e.computed?this.transformComputedProperty(e):this.transformBaseProperty(e))}),e}transformComputedProperty(e){g.NodeGuards.isLiteralNode(e.key)&&"string"==typeof e.key.value&&(e.key=m.NodeFactory.literalNode(e.key.value))}transformBaseProperty(e){e.shorthand&&(e.shorthand=!1),g.NodeGuards.isIdentifierNode(e.key)&&(e.key=m.NodeFactory.literalNode(e.key.name))}};y=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==u.IRandomGenerator&&u.IRandomGenerator)?r:Object,"function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],y),t.ObjectExpressionTransformer=y},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=d(o(14)),p=o(2),m=o(3),g=o(22),y=o(12),h=o(13),N=o(8),b=o(4),v=o(44),I=o(6);let S=r=class extends h.AbstractNodeTransformer{constructor(e,t){super(e,t),this.runAfter=[g.NodeTransformer.ObjectExpressionKeysTransformer,g.NodeTransformer.TemplateLiteralTransformer]}static chunkString(e,t){const o=Math.ceil(e.length/t),r=[];let n=0;for(let i=0;i<o;++i,n+=t)r[i]=e.substr(n,t);return r}getVisitor(e){switch(e){case y.TransformationStage.Converting:return{enter:(e,t)=>{if(this.options.splitStrings)return t&&b.NodeGuards.isLiteralNode(e)?this.transformNode(e,t):void 0}};default:return null}}transformNode(e,t){if(v.NodeLiteralUtils.isProhibitedLiteralNode(e,t))return e;const o=this.transformLiteralNodeByChunkLength(e,t,r.firstPassChunkLength);return f.replace(o,{enter:(e,t)=>{if(t&&b.NodeGuards.isLiteralNode(e))return this.transformLiteralNodeByChunkLength(e,t,this.options.splitStringsChunkLength)}})}transformLiteralNodeByChunkLength(e,t,o){if("string"!=typeof e.value)return e;if(o>=e.value.length)return e;const n=r.chunkString(e.value,o),i=this.transformStringChunksToBinaryExpressionNode(n);return I.NodeUtils.parentizeAst(i),I.NodeUtils.parentizeNode(i,t),i}transformStringChunksToBinaryExpressionNode(e){const t=e.shift(),o=e.shift();if(!t||!o)throw new Error("First and second chunks values should not be empty");const r=N.NodeFactory.binaryExpressionNode("+",N.NodeFactory.literalNode(t),N.NodeFactory.literalNode(o));return e.reduce((e,t)=>{const o=N.NodeFactory.literalNode(t);return N.NodeFactory.binaryExpressionNode("+",e,o)},r)}};S.firstPassChunkLength=1e3,S=r=a([l.injectable(),c(0,l.inject(u.ServiceIdentifiers.IRandomGenerator)),c(1,l.inject(u.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(n=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==p.IOptions&&p.IOptions)?i:Object])],S),t.SplitStringTransformer=S},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=o(2),f=o(3),p=o(12),m=o(13),g=o(8),y=o(4),h=o(6);let N=r=class extends m.AbstractNodeTransformer{constructor(e,t){super(e,t)}static isLiteralNodeWithStringValue(e){return!!e&&y.NodeGuards.isLiteralNode(e)&&"string"==typeof e.value}static isValidTemplateLiteralNode(e,t){return y.NodeGuards.isTemplateLiteralNode(e)&&!y.NodeGuards.isTaggedTemplateExpressionNode(t)}getVisitor(e){switch(e){case p.TransformationStage.Converting:return{enter:(e,t)=>{if(t&&r.isValidTemplateLiteralNode(e,t))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const o=e.expressions;let n,i=[];if(e.quasis.forEach(e=>{i.push(g.NodeFactory.literalNode(e.value.cooked));const t=o.shift();t&&i.push(t)}),i=i.filter(e=>!(y.NodeGuards.isLiteralNode(e)&&""===e.value)),r.isLiteralNodeWithStringValue(i[0])||r.isLiteralNodeWithStringValue(i[1])||i.unshift(g.NodeFactory.literalNode("")),i.length>1){let e=g.NodeFactory.binaryExpressionNode("+",i.shift(),i.shift());i.forEach(t=>{e=g.NodeFactory.binaryExpressionNode("+",e,t)}),n=e}else n=i[0];return h.NodeUtils.parentizeAst(n),h.NodeUtils.parentizeNode(n,t),n}};N=r=a([d.injectable(),c(0,d.inject(l.ServiceIdentifiers.IRandomGenerator)),c(1,d.inject(l.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(n=void 0!==f.IRandomGenerator&&f.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==u.IOptions&&u.IOptions)?i:Object])],N),t.TemplateLiteralTransformer=N},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=o(0),a=o(20),s=o(8),c=o(4),d=o(15);let l=r=class{static getPropertyNodeKeyName(e){const t=e.key;return!c.NodeGuards.isLiteralNode(t)||"string"!=typeof t.value&&"number"!=typeof t.value?c.NodeGuards.isIdentifierNode(t)?t.name:null:t.value.toString()}static isProhibitedPattern(e){return!e||c.NodeGuards.isObjectPatternNode(e)||c.NodeGuards.isArrayPatternNode(e)||c.NodeGuards.isAssignmentPatternNode(e)||c.NodeGuards.isRestElementNode(e)}extract(e,t){const o=e.parentNode;return o&&c.NodeGuards.isVariableDeclaratorNode(o)&&c.NodeGuards.isIdentifierNode(o.id)?this.transformObjectExpressionNode(e,t,o.id):{nodeToReplace:e,objectExpressionHostStatement:t,objectExpressionNode:e}}transformObjectExpressionNode(e,t,o){const r=e.properties,[n,i]=this.extractPropertiesToExpressionStatements(r,t,o),s=d.NodeStatementUtils.getScopeOfNode(t);return this.filterExtractedObjectExpressionProperties(e,i),a.NodeAppender.insertAfter(s,n,t),{nodeToReplace:e,objectExpressionHostStatement:t,objectExpressionNode:e}}extractPropertiesToExpressionStatements(e,t,o){const n=e.length,i=[],a=[];for(let d=0;d<n;d++){const n=e[d],l=n.value;if(r.isProhibitedPattern(l))continue;const u=r.getPropertyNodeKeyName(n);if(!u)continue;const f=!n.computed||n.computed&&!!n.key&&c.NodeGuards.isLiteralNode(n.key)?s.NodeFactory.literalNode(u):s.NodeFactory.identifierNode(u),p=s.NodeFactory.memberExpressionNode(o,f,!0),m=s.NodeFactory.expressionStatementNode(s.NodeFactory.assignmentExpressionNode("=",p,l));c.NodeGuards.isObjectExpressionNode(n.value)&&this.transformObjectExpressionNode(n.value,t,p),i.push(m),a.push(d)}return[i,a]}filterExtractedObjectExpressionProperties(e,t){e.properties=e.properties.filter((e,o)=>!t.includes(o))}};l=r=n([i.injectable()],l),t.BasePropertiesExtractor=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(17),n=o(0),i=o(1),a=o(19),s=o(24),c=o(62),d=o(59),l=o(61),u=o(109),f=o(110),p=o(111),m=o(112),g=o(113),y=o(114),h=o(117),N=o(118),b=o(119),v=o(120),I=o(121),S=o(122),O=o(124),j=o(126),C=o(128),_=o(130),R=o(132),F=o(136),T=o(138),x=o(139),w=o(140),E=o(142),P=o(144),G=o(151),A=o(153),M=o(156),D=o(157),L=o(158);t.customNodesModule=new n.ContainerModule(e=>{e(i.ServiceIdentifiers.ICustomNode).to(O.ConsoleOutputDisableExpressionNode).whenTargetNamed(s.CustomNode.ConsoleOutputDisableExpressionNode),e(i.ServiceIdentifiers.ICustomNode).to(C.DebugProtectionFunctionCallNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionCallNode),e(i.ServiceIdentifiers.ICustomNode).to(_.DebugProtectionFunctionIntervalNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionIntervalNode),e(i.ServiceIdentifiers.ICustomNode).to(R.DebugProtectionFunctionNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionNode),e(i.ServiceIdentifiers.ICustomNode).to(F.DomainLockNode).whenTargetNamed(s.CustomNode.DomainLockNode),e(i.ServiceIdentifiers.ICustomNode).to(w.NodeCallsControllerFunctionNode).whenTargetNamed(s.CustomNode.NodeCallsControllerFunctionNode),e(i.ServiceIdentifiers.ICustomNode).to(E.SelfDefendingUnicodeNode).whenTargetNamed(s.CustomNode.SelfDefendingUnicodeNode),e(i.ServiceIdentifiers.ICustomNode).to(P.StringArrayCallsWrapper).whenTargetNamed(s.CustomNode.StringArrayCallsWrapper),e(i.ServiceIdentifiers.ICustomNode).to(G.StringArrayNode).whenTargetNamed(s.CustomNode.StringArrayNode),e(i.ServiceIdentifiers.ICustomNode).to(A.StringArrayRotateFunctionNode).whenTargetNamed(s.CustomNode.StringArrayRotateFunctionNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(h.BinaryExpressionFunctionNode).whenTargetNamed(a.ControlFlowCustomNode.BinaryExpressionFunctionNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(N.BlockStatementControlFlowFlatteningNode).whenTargetNamed(a.ControlFlowCustomNode.BlockStatementControlFlowFlatteningNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(v.CallExpressionControlFlowStorageCallNode).whenTargetNamed(a.ControlFlowCustomNode.CallExpressionControlFlowStorageCallNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(I.CallExpressionFunctionNode).whenTargetNamed(a.ControlFlowCustomNode.CallExpressionFunctionNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(S.ControlFlowStorageNode).whenTargetNamed(a.ControlFlowCustomNode.ControlFlowStorageNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(T.ExpressionWithOperatorControlFlowStorageCallNode).whenTargetNamed(a.ControlFlowCustomNode.ExpressionWithOperatorControlFlowStorageCallNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(x.LogicalExpressionFunctionNode).whenTargetNamed(a.ControlFlowCustomNode.LogicalExpressionFunctionNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(D.StringLiteralNode).whenTargetNamed(a.ControlFlowCustomNode.StringLiteralNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(M.StringLiteralControlFlowStorageCallNode).whenTargetNamed(a.ControlFlowCustomNode.StringLiteralControlFlowStorageCallNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(b.BlockStatementDeadCodeInjectionNode).whenTargetNamed(d.DeadCodeInjectionCustomNode.BlockStatementDeadCodeInjectionNode),e(i.ServiceIdentifiers.Newable__ICustomNode).toConstructor(y.ObjectExpressionVariableDeclarationHostNode).whenTargetNamed(l.ObjectExpressionKeysTransformerCustomNode.ObjectExpressionVariableDeclarationHostNode),e(i.ServiceIdentifiers.ICustomNodeGroup).to(u.ConsoleOutputCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.ConsoleOutputCustomNodeGroup),e(i.ServiceIdentifiers.ICustomNodeGroup).to(f.DebugProtectionCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.DebugProtectionCustomNodeGroup),e(i.ServiceIdentifiers.ICustomNodeGroup).to(p.DomainLockCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.DomainLockCustomNodeGroup),e(i.ServiceIdentifiers.ICustomNodeGroup).to(m.SelfDefendingCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.SelfDefendingCustomNodeGroup),e(i.ServiceIdentifiers.ICustomNodeGroup).to(g.StringArrayCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.StringArrayCustomNodeGroup),e(i.ServiceIdentifiers.Factory__ICustomNode).toFactory(r.InversifyContainerFacade.getFactory(i.ServiceIdentifiers.ICustomNode)),e(i.ServiceIdentifiers.Factory__IControlFlowCustomNode).toFactory(r.InversifyContainerFacade.getConstructorFactory(i.ServiceIdentifiers.Newable__ICustomNode,i.ServiceIdentifiers.Factory__IIdentifierNamesGenerator,i.ServiceIdentifiers.ICustomNodeFormatter,i.ServiceIdentifiers.ICustomNodeObfuscator,i.ServiceIdentifiers.IRandomGenerator,i.ServiceIdentifiers.IOptions,i.ServiceIdentifiers.IPrevailingKindOfVariablesAnalyzer)),e(i.ServiceIdentifiers.Factory__IDeadCodeInjectionCustomNode).toFactory(r.InversifyContainerFacade.getConstructorFactory(i.ServiceIdentifiers.Newable__ICustomNode,i.ServiceIdentifiers.Factory__IIdentifierNamesGenerator,i.ServiceIdentifiers.ICustomNodeFormatter,i.ServiceIdentifiers.ICustomNodeObfuscator,i.ServiceIdentifiers.IRandomGenerator,i.ServiceIdentifiers.IOptions)),e(i.ServiceIdentifiers.Factory__IObjectExpressionKeysTransformerCustomNode).toFactory(r.InversifyContainerFacade.getConstructorFactory(i.ServiceIdentifiers.Newable__ICustomNode,i.ServiceIdentifiers.Factory__IIdentifierNamesGenerator,i.ServiceIdentifiers.ICustomNodeFormatter,i.ServiceIdentifiers.ICustomNodeObfuscator,i.ServiceIdentifiers.IRandomGenerator,i.ServiceIdentifiers.IOptions,i.ServiceIdentifiers.IPrevailingKindOfVariablesAnalyzer)),e(i.ServiceIdentifiers.Factory__ICustomNodeGroup).toFactory(r.InversifyContainerFacade.getFactory(i.ServiceIdentifiers.ICustomNodeGroup)),e(i.ServiceIdentifiers.ICustomNodeFormatter).to(j.CustomNodeFormatter).inSingletonScope(),e(i.ServiceIdentifiers.ICustomNodeObfuscator).to(L.CustomNodeObfuscator).inSingletonScope()})},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(26),m=o(5),g=o(2),y=o(3),h=o(7),N=o(24),b=o(23),v=o(27),I=o(20);let S=class extends v.AbstractCustomNodeGroup{constructor(e,t,o,r){super(t,o,r),this.appendEvent=b.ObfuscationEvent.BeforeObfuscation,this.customNodeFactory=e}appendCustomNodes(e,t){const o=this.getRandomCallsGraphIndex(t.length);this.appendCustomNodeIfExist(N.CustomNode.ConsoleOutputDisableExpressionNode,r=>{I.NodeAppender.appendToOptimalBlockScope(t,e,r.getNode(),o)}),this.appendCustomNodeIfExist(N.CustomNode.NodeCallsControllerFunctionNode,r=>{const n=t.length?I.NodeAppender.getOptimalBlockScope(t,o,1):e;I.NodeAppender.prepend(n,r.getNode())})}initialize(){if(this.customNodes=new Map,!this.options.disableConsoleOutput)return;const e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(N.CustomNode.ConsoleOutputDisableExpressionNode),o=this.customNodeFactory(N.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),o.initialize(this.appendEvent,e),this.customNodes.set(N.CustomNode.ConsoleOutputDisableExpressionNode,t),this.customNodes.set(N.CustomNode.NodeCallsControllerFunctionNode,o)}};c([h.initializable(),d("design:type","function"==typeof(r="undefined"!=typeof Map&&Map)?r:Object)],S.prototype,"customNodes",void 0),S=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__ICustomNode)),l(1,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(2,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(3,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(n=void 0!==p.TCustomNodeFactory&&p.TCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?i:Object,"function"==typeof(a=void 0!==y.IRandomGenerator&&y.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==g.IOptions&&g.IOptions)?s:Object])],S),t.ConsoleOutputCustomNodeGroup=S},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(26),m=o(5),g=o(2),y=o(3),h=o(7),N=o(24),b=o(23),v=o(27),I=o(20),S=o(4);let O=class extends v.AbstractCustomNodeGroup{constructor(e,t,o,r){super(t,o,r),this.appendEvent=b.ObfuscationEvent.BeforeObfuscation,this.customNodeFactory=e}appendCustomNodes(e,t){const o=this.getRandomCallsGraphIndex(t.length);this.appendCustomNodeIfExist(N.CustomNode.DebugProtectionFunctionCallNode,r=>{I.NodeAppender.appendToOptimalBlockScope(t,e,r.getNode(),o)}),this.appendCustomNodeIfExist(N.CustomNode.DebugProtectionFunctionNode,t=>{I.NodeAppender.append(e,t.getNode())}),this.appendCustomNodeIfExist(N.CustomNode.DebugProtectionFunctionIntervalNode,t=>{const o=S.NodeGuards.isSwitchCaseNode(e)?e.consequent.length:e.body.length,r=this.randomGenerator.getRandomInteger(0,o);I.NodeAppender.insertAtIndex(e,t.getNode(),r)}),this.appendCustomNodeIfExist(N.CustomNode.NodeCallsControllerFunctionNode,r=>{const n=t.length?I.NodeAppender.getOptimalBlockScope(t,o,1):e;I.NodeAppender.prepend(n,r.getNode())})}initialize(){if(this.customNodes=new Map,!this.options.debugProtection)return;const e=this.identifierNamesGenerator.generate(),t=this.identifierNamesGenerator.generate(),o=this.customNodeFactory(N.CustomNode.DebugProtectionFunctionNode),r=this.customNodeFactory(N.CustomNode.DebugProtectionFunctionCallNode),n=this.customNodeFactory(N.CustomNode.DebugProtectionFunctionIntervalNode),i=this.customNodeFactory(N.CustomNode.NodeCallsControllerFunctionNode);o.initialize(e),r.initialize(e,t),n.initialize(e),i.initialize(this.appendEvent,t),this.customNodes.set(N.CustomNode.DebugProtectionFunctionNode,o),this.customNodes.set(N.CustomNode.DebugProtectionFunctionCallNode,r),this.options.debugProtectionInterval&&this.customNodes.set(N.CustomNode.DebugProtectionFunctionIntervalNode,n),this.customNodes.set(N.CustomNode.NodeCallsControllerFunctionNode,i)}};c([h.initializable(),d("design:type","function"==typeof(r="undefined"!=typeof Map&&Map)?r:Object)],O.prototype,"customNodes",void 0),O=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__ICustomNode)),l(1,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(2,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(3,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(n=void 0!==p.TCustomNodeFactory&&p.TCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?i:Object,"function"==typeof(a=void 0!==y.IRandomGenerator&&y.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==g.IOptions&&g.IOptions)?s:Object])],O),t.DebugProtectionCustomNodeGroup=O},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(26),m=o(5),g=o(2),y=o(3),h=o(7),N=o(24),b=o(23),v=o(27),I=o(20);let S=class extends v.AbstractCustomNodeGroup{constructor(e,t,o,r){super(t,o,r),this.appendEvent=b.ObfuscationEvent.BeforeObfuscation,this.customNodeFactory=e}appendCustomNodes(e,t){const o=this.getRandomCallsGraphIndex(t.length);this.appendCustomNodeIfExist(N.CustomNode.DomainLockNode,r=>{I.NodeAppender.appendToOptimalBlockScope(t,e,r.getNode(),o)}),this.appendCustomNodeIfExist(N.CustomNode.NodeCallsControllerFunctionNode,r=>{const n=t.length?I.NodeAppender.getOptimalBlockScope(t,o,1):e;I.NodeAppender.prepend(n,r.getNode())})}initialize(){if(this.customNodes=new Map,!this.options.domainLock.length)return;const e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(N.CustomNode.DomainLockNode),o=this.customNodeFactory(N.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),o.initialize(this.appendEvent,e),this.customNodes.set(N.CustomNode.DomainLockNode,t),this.customNodes.set(N.CustomNode.NodeCallsControllerFunctionNode,o)}};c([h.initializable(),d("design:type","function"==typeof(r="undefined"!=typeof Map&&Map)?r:Object)],S.prototype,"customNodes",void 0),S=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__ICustomNode)),l(1,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(2,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(3,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(n=void 0!==p.TCustomNodeFactory&&p.TCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?i:Object,"function"==typeof(a=void 0!==y.IRandomGenerator&&y.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==g.IOptions&&g.IOptions)?s:Object])],S),t.DomainLockCustomNodeGroup=S},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(26),m=o(5),g=o(2),y=o(3),h=o(7),N=o(24),b=o(23),v=o(27),I=o(20);let S=class extends v.AbstractCustomNodeGroup{constructor(e,t,o,r){super(t,o,r),this.appendEvent=b.ObfuscationEvent.AfterObfuscation,this.customNodeFactory=e}appendCustomNodes(e,t){const o=this.getRandomCallsGraphIndex(t.length);this.appendCustomNodeIfExist(N.CustomNode.SelfDefendingUnicodeNode,r=>{I.NodeAppender.appendToOptimalBlockScope(t,e,r.getNode(),o)}),this.appendCustomNodeIfExist(N.CustomNode.NodeCallsControllerFunctionNode,r=>{const n=t.length?I.NodeAppender.getOptimalBlockScope(t,o,1):e;I.NodeAppender.prepend(n,r.getNode())})}initialize(){if(this.customNodes=new Map,!this.options.selfDefending)return;const e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(N.CustomNode.SelfDefendingUnicodeNode),o=this.customNodeFactory(N.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),o.initialize(this.appendEvent,e),this.customNodes.set(N.CustomNode.SelfDefendingUnicodeNode,t),this.customNodes.set(N.CustomNode.NodeCallsControllerFunctionNode,o)}};c([h.initializable(),d("design:type","function"==typeof(r="undefined"!=typeof Map&&Map)?r:Object)],S.prototype,"customNodes",void 0),S=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__ICustomNode)),l(1,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(2,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(3,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(n=void 0!==p.TCustomNodeFactory&&p.TCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?i:Object,"function"==typeof(a=void 0!==y.IRandomGenerator&&y.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==g.IOptions&&g.IOptions)?s:Object])],S),t.SelfDefendingCustomNodeGroup=S},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(26),g=o(5),y=o(2),h=o(3),N=o(35),b=o(7),v=o(24),I=o(23),S=o(27),O=o(20);let j=class extends S.AbstractCustomNodeGroup{constructor(e,t,o,r,n){super(o,r,n),this.appendEvent=I.ObfuscationEvent.AfterObfuscation,this.customNodeFactory=e,this.stringArrayStorage=t}appendCustomNodes(e,t){this.stringArrayStorage.getLength()&&(this.appendCustomNodeIfExist(v.CustomNode.StringArrayNode,t=>{O.NodeAppender.prepend(e,t.getNode())}),this.appendCustomNodeIfExist(v.CustomNode.StringArrayCallsWrapper,t=>{O.NodeAppender.insertAtIndex(e,t.getNode(),1)}),this.appendCustomNodeIfExist(v.CustomNode.StringArrayRotateFunctionNode,t=>{O.NodeAppender.insertAtIndex(e,t.getNode(),1)}))}initialize(){if(this.customNodes=new Map,!this.options.stringArray)return;const e=this.customNodeFactory(v.CustomNode.StringArrayNode),t=this.customNodeFactory(v.CustomNode.StringArrayCallsWrapper),o=this.customNodeFactory(v.CustomNode.StringArrayRotateFunctionNode),r=this.stringArrayStorage.getStorageName(),n=this.stringArrayStorage.getStorageCallsWrapperName(),i=this.stringArrayStorage.getRotationAmount();e.initialize(this.stringArrayStorage,r),t.initialize(r,n),o.initialize(r,i),this.customNodes.set(v.CustomNode.StringArrayNode,e),this.customNodes.set(v.CustomNode.StringArrayCallsWrapper,t),this.options.rotateStringArray&&this.customNodes.set(v.CustomNode.StringArrayRotateFunctionNode,o)}};d([b.initializable(),l("design:type","function"==typeof(r="undefined"!=typeof Map&&Map)?r:Object)],j.prototype,"customNodes",void 0),j=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__ICustomNode)),u(1,f.inject(p.ServiceIdentifiers.IStringArrayStorage)),u(2,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(n=void 0!==m.TCustomNodeFactory&&m.TCustomNodeFactory)?n:Object,"function"==typeof(i=void 0!==N.IStringArrayStorage&&N.IStringArrayStorage)?i:Object,"function"==typeof(a=void 0!==g.TIdentifierNamesGeneratorFactory&&g.TIdentifierNamesGeneratorFactory)?a:Object,"function"==typeof(s=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?s:Object,"function"==typeof(c=void 0!==y.IOptions&&y.IOptions)?c:Object])],j),t.StringArrayCustomNodeGroup=j},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(11),b=o(8),v=o(4);let I=class extends N.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t){this.lexicalScopeNode=e,this.properties=t}getNodeStructure(e){const t=v.NodeGuards.isProgramNode(this.lexicalScopeNode)?this.identifierNamesGenerator.generate():this.identifierNamesGenerator.generateForLexicalScope(this.lexicalScopeNode);return[b.NodeFactory.variableDeclarationNode([b.NodeFactory.variableDeclaratorNode(b.NodeFactory.identifierNode(t),b.NodeFactory.objectExpressionNode(this.properties))],"const")]}};I=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],I),t.ObjectExpressionVariableDeclarationHostNode=I},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableTemplate1=function(){return"\n        let that;\n        \n        try {\n            const getGlobal = Function('return (function() ' + '{}.constructor(\"return this\")( )' + ');');\n            \n            that = getGlobal();\n        } catch (e) {\n            that = window;\n        }\n    "}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableTemplate2=function(){return"\n        const getGlobal = function () {\n            let globalObject;\n        \n            try {\n                globalObject = Function('return (function() ' + '{}.constructor(\"return this\")( )' + ');')();\n            } catch (e) {\n                globalObject = window;\n            }\n            \n            return globalObject;\n        };\n        const that = getGlobal();\n    "}},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(11),b=o(8),v=o(6);let I=class extends N.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e){this.operator=e}getNodeStructure(e){const t=b.NodeFactory.expressionStatementNode(b.NodeFactory.functionExpressionNode([b.NodeFactory.identifierNode("x"),b.NodeFactory.identifierNode("y")],b.NodeFactory.blockStatementNode([b.NodeFactory.returnStatementNode(b.NodeFactory.binaryExpressionNode(this.operator,b.NodeFactory.identifierNode("x"),b.NodeFactory.identifierNode("y")))])));return v.NodeUtils.parentizeAst(t),[t]}};I=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],I),t.BinaryExpressionFunctionNode=I},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(7),b=o(11),v=o(8),I=o(4),S=o(6);let O=class extends b.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t,o){this.blockStatementBody=e,this.shuffledKeys=t,this.originalKeysIndexesInShuffledArray=o}getNodeStructure(e){const t=this.randomGenerator.getRandomString(6),o=this.randomGenerator.getRandomString(6),r=v.NodeFactory.blockStatementNode([v.NodeFactory.variableDeclarationNode([v.NodeFactory.variableDeclaratorNode(v.NodeFactory.identifierNode(t),v.NodeFactory.callExpressionNode(v.NodeFactory.memberExpressionNode(v.NodeFactory.literalNode(this.originalKeysIndexesInShuffledArray.join("|")),v.NodeFactory.identifierNode("split")),[v.NodeFactory.literalNode("|")]))],"const"),v.NodeFactory.variableDeclarationNode([v.NodeFactory.variableDeclaratorNode(v.NodeFactory.identifierNode(o),v.NodeFactory.literalNode(0))],"let"),v.NodeFactory.whileStatementNode(v.NodeFactory.literalNode(!0),v.NodeFactory.blockStatementNode([v.NodeFactory.switchStatementNode(v.NodeFactory.memberExpressionNode(v.NodeFactory.identifierNode(t),v.NodeFactory.updateExpressionNode("++",v.NodeFactory.identifierNode(o)),!0),this.shuffledKeys.map((e,t)=>{const o=this.blockStatementBody[e],r=[o];return I.NodeGuards.isReturnStatementNode(o)||r.push(v.NodeFactory.continueStatement()),v.NodeFactory.switchCaseNode(v.NodeFactory.literalNode(String(t)),r)})),v.NodeFactory.breakStatement()]))]);return S.NodeUtils.parentizeAst(r),[r]}};c([N.initializable(),d("design:type",Array)],O.prototype,"blockStatementBody",void 0),c([N.initializable(),d("design:type",Array)],O.prototype,"originalKeysIndexesInShuffledArray",void 0),c([N.initializable(),d("design:type",Array)],O.prototype,"shuffledKeys",void 0),O=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],O),t.BlockStatementControlFlowFlatteningNode=O},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(11),b=o(8),v=o(6);let I=class extends N.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t){this.blockStatementNode=e,this.deadCodeInjectionRootAstHostNode=t}getNodeStructure(e){const t=this.randomGenerator.getMathRandom()>.5,o=this.randomGenerator.getMathRandom()>.5,r=t?"===":"!==",n=this.randomGenerator.getRandomString(5),i=o?n:this.randomGenerator.getRandomString(5),[a,s]=t===o?[this.blockStatementNode,this.deadCodeInjectionRootAstHostNode]:[this.deadCodeInjectionRootAstHostNode,this.blockStatementNode],c=b.NodeFactory.blockStatementNode([b.NodeFactory.ifStatementNode(b.NodeFactory.binaryExpressionNode(r,b.NodeFactory.literalNode(n),b.NodeFactory.literalNode(i)),a,s)]);return v.NodeUtils.parentizeAst(c),[c]}};I=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],I),t.BlockStatementDeadCodeInjectionNode=I},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(5),g=o(9),y=o(10),h=o(2),N=o(3),b=o(7),v=o(11),I=o(8),S=o(6);let O=class extends v.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t,o,r){this.controlFlowStorageName=e,this.controlFlowStorageKey=t,this.callee=o,this.expressionArguments=r}getNodeStructure(){const e=I.NodeFactory.expressionStatementNode(I.NodeFactory.callExpressionNode(I.NodeFactory.memberExpressionNode(I.NodeFactory.identifierNode(this.controlFlowStorageName),I.NodeFactory.identifierNode(this.controlFlowStorageKey)),[this.callee,...this.expressionArguments]));return S.NodeUtils.parentizeAst(e),[e]}};d([b.initializable(),l("design:type","function"==typeof(r="undefined"!=typeof ESTree&&ESTree.Expression)?r:Object)],O.prototype,"callee",void 0),d([b.initializable(),l("design:type",String)],O.prototype,"controlFlowStorageKey",void 0),d([b.initializable(),l("design:type",String)],O.prototype,"controlFlowStorageName",void 0),d([b.initializable(),l("design:type",Array)],O.prototype,"expressionArguments",void 0),O=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(n=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeFormatter&&g.ICustomNodeFormatter)?i:Object,"function"==typeof(a=void 0!==y.ICustomNodeObfuscator&&y.ICustomNodeObfuscator)?a:Object,"function"==typeof(s=void 0!==N.IRandomGenerator&&N.IRandomGenerator)?s:Object,"function"==typeof(c=void 0!==h.IOptions&&h.IOptions)?c:Object])],O),t.CallExpressionControlFlowStorageCallNode=O},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(7),b=o(11),v=o(8),I=o(6);let S=class extends b.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e){this.expressionArguments=e}getNodeStructure(e){const t=v.NodeFactory.identifierNode("callee"),o=[],r=this.expressionArguments.length;for(let e=0;e<r;e++)o.push(v.NodeFactory.identifierNode(`param${e+1}`));const n=v.NodeFactory.expressionStatementNode(v.NodeFactory.functionExpressionNode([t,...o],v.NodeFactory.blockStatementNode([v.NodeFactory.returnStatementNode(v.NodeFactory.callExpressionNode(t,o))])));return I.NodeUtils.parentizeAst(n),[n]}};c([N.initializable(),d("design:type",Array)],S.prototype,"expressionArguments",void 0),S=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],S),t.CallExpressionFunctionNode=S},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(123),g=o(5),y=o(9),h=o(10),N=o(2),b=o(3),v=o(7),I=o(11),S=o(8),O=o(4),j=o(6);let C=class extends I.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e){this.controlFlowStorage=e}getNodeStructure(e){const t=Array.from(this.controlFlowStorage.getStorage()).map(([e,t])=>{const o=t.getNode()[0];if(!O.NodeGuards.isExpressionStatementNode(o))throw new Error("Function node for control flow storage object should be passed inside the `ExpressionStatement` node!");return S.NodeFactory.propertyNode(S.NodeFactory.identifierNode(e),o.expression)});let o=S.NodeFactory.variableDeclarationNode([S.NodeFactory.variableDeclaratorNode(S.NodeFactory.identifierNode(this.controlFlowStorage.getStorageId()),S.NodeFactory.objectExpressionNode(t))],"const");return o=j.NodeUtils.parentizeAst(o),[o]}};d([v.initializable(),l("design:type","function"==typeof(r=void 0!==m.TControlFlowStorage&&m.TControlFlowStorage)?r:Object)],C.prototype,"controlFlowStorage",void 0),C=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(n=void 0!==g.TIdentifierNamesGeneratorFactory&&g.TIdentifierNamesGeneratorFactory)?n:Object,"function"==typeof(i=void 0!==y.ICustomNodeFormatter&&y.ICustomNodeFormatter)?i:Object,"function"==typeof(a=void 0!==h.ICustomNodeObfuscator&&h.ICustomNodeObfuscator)?a:Object,"function"==typeof(s=void 0!==b.IRandomGenerator&&b.IRandomGenerator)?s:Object,"function"==typeof(c=void 0!==N.IOptions&&N.IOptions)?c:Object])],C),t.ControlFlowStorageNode=C},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(21),b=o(125),v=o(47),I=o(7),S=o(11),O=o(6);let j=class extends S.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e){this.callsControllerFunctionName=e}getNodeStructure(e){return O.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){const e=this.options.target!==N.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():v.GlobalVariableNoEvalTemplate();return this.customNodeFormatter.formatTemplate(b.ConsoleOutputDisableExpressionTemplate(),{consoleLogDisableFunctionName:this.identifierNamesGenerator.generate(),globalVariableTemplate:e,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}};c([I.initializable(),d("design:type",String)],j.prototype,"callsControllerFunctionName",void 0),j=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],j),t.ConsoleOutputDisableExpressionNode=j},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleOutputDisableExpressionTemplate=function(){return"\n        const {consoleLogDisableFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            const func = function () {};\n            \n            {globalVariableTemplate}\n                        \n            if (!that.console) {\n                that.console = (function (func){\n                    const c = {};\n                    \n                    c.log = func;\n                    c.warn = func;\n                    c.debug = func;\n                    c.info = func;\n                    c.error = func;\n                    c.exception = func;\n                    c.table = func;\n                    c.trace = func;\n                    \n                    return c;\n                })(func);\n            } else {\n                that.console.log = func;\n                that.console.warn = func;\n                that.console.debug = func;\n                that.console.info = func;\n                that.console.error = func;\n                that.console.exception = func;\n                that.console.table = func;\n                that.console.trace = func;\n            }\n        });\n        \n        {consoleLogDisableFunctionName}();\n    "}},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=s(o(14)),f=c(o(127)),p=o(63),m=o(4);let g=class{constructor(e){this.prevailingKindOfVariables=e.getPrevailingKind()}formatTemplate(e,t){return f.default(e,t)}formatStructure(e){for(const t of e)u.replace(t,{enter:e=>{if(m.NodeGuards.isVariableDeclarationNode(e))return"var"===this.prevailingKindOfVariables&&(e.kind="var"),e}});return e}};g=n([d.injectable(),a(0,d.inject(l.ServiceIdentifiers.IPrevailingKindOfVariablesAnalyzer)),i("design:paramtypes",["function"==typeof(r=void 0!==p.IPrevailingKindOfVariablesAnalyzer&&p.IPrevailingKindOfVariablesAnalyzer)?r:Object])],g),t.CustomNodeFormatter=g},function(e,t){e.exports=require("string-template")},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(7),b=o(129),v=o(11),I=o(6);let S=class extends v.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t){this.debugProtectionFunctionName=e,this.callsControllerFunctionName=t}getNodeStructure(e){return I.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){return this.customNodeFormatter.formatTemplate(b.DebugProtectionFunctionCallTemplate(),{debugProtectionFunctionName:this.debugProtectionFunctionName,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}};c([N.initializable(),d("design:type",String)],S.prototype,"callsControllerFunctionName",void 0),c([N.initializable(),d("design:type",String)],S.prototype,"debugProtectionFunctionName",void 0),S=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],S),t.DebugProtectionFunctionCallNode=S},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionCallTemplate=function(){return"\n        (function () {\n            {singleNodeCallControllerFunctionName}(\n                this,\n                function () {\n                    const regExp1 = new RegExp('function *\\\\( *\\\\)');\n                    const regExp2 = new RegExp('\\\\+\\\\+ *\\(?:[a-zA-Z_$][0-9a-zA-Z_$]*\\)', 'i');\n           \n                    const result = {debugProtectionFunctionName}('init');\n                    \n                    if (!regExp1.test(result + 'chain') || !regExp2.test(result + 'input')) {\n                        result('0');\n                    } else {\n                        {debugProtectionFunctionName}();\n                    }\n                }\n            )();\n        })();\n    "}},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(7),b=o(131),v=o(11),I=o(6);let S=class extends v.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e){this.debugProtectionFunctionName=e}getNodeStructure(e){return I.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){return this.customNodeFormatter.formatTemplate(b.DebugProtectionFunctionIntervalTemplate(),{debugProtectionFunctionName:this.debugProtectionFunctionName})}};c([N.initializable(),d("design:type",String)],S.prototype,"debugProtectionFunctionName",void 0),S=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],S),t.DebugProtectionFunctionIntervalNode=S},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionIntervalTemplate=function(){return"\n        setInterval(function () {\n            {debugProtectionFunctionName}();\n        }, 4000);\n    "}},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(21),b=o(7),v=o(133),I=o(134),S=o(135),O=o(11),j=o(6);let C=class extends O.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e){this.debugProtectionFunctionName=e}getNodeStructure(e){return j.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){const e=this.options.target!==N.ObfuscationTarget.BrowserNoEval?v.DebuggerTemplate():I.DebuggerTemplateNoEval();return this.customNodeFormatter.formatTemplate(S.DebugProtectionFunctionTemplate(),{debuggerTemplate:e,debugProtectionFunctionName:this.debugProtectionFunctionName})}};c([b.initializable(),d("design:type",String)],C.prototype,"debugProtectionFunctionName",void 0),C=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],C),t.DebugProtectionFunctionNode=C},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerTemplate=function(){return"\n        if (typeof counter === 'string') {\n            return (function (arg) {}.constructor('while (true) {}').apply('counter'));\n        } else {\n            if (('' + counter / counter)['length'] !== 1 || counter % 20 === 0) {\n                (function () {return true;}.constructor('debu' + 'gger').call('action'));\n            } else {\n                (function () {return false;}.constructor('debu' + 'gger').apply('stateObject'));\n            }\n            \n        }\n    "}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerTemplateNoEval=function(){return"\n        if (typeof counter === 'string') {\n            const func = function () {\n                while (true) {}\n            };\n            \n            return func();\n        } else {\n            if (('' + counter / counter)['length'] !== 1 || counter % 20 === 0) {\n                debugger;\n            } else {\n                debugger;\n            }\n            \n        }\n    "}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionTemplate=function(){return"\n        function {debugProtectionFunctionName} (ret) {\n            function debuggerProtection (counter) {\n            \n                {debuggerTemplate}\n                \n                debuggerProtection(++counter);\n            }\n            \n            try {\n                if (ret) {\n                    return debuggerProtection;\n                } else {\n                    debuggerProtection(0);\n                }\n            } catch (y) {}\n        }\n    "}},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(5),g=o(9),y=o(10),h=o(48),N=o(2),b=o(3),v=o(21),I=o(7),S=o(137),O=o(47),j=o(11),C=o(6);let _=class extends j.AbstractCustomNode{constructor(e,t,o,r,n,i){super(e,t,o,r,n),this.cryptUtils=i}initialize(e){this.callsControllerFunctionName=e}getNodeStructure(e){return C.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){const e=this.options.domainLock.join(";"),[t,o]=this.cryptUtils.hideString(e,3*e.length),r=this.options.target!==v.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():O.GlobalVariableNoEvalTemplate();return this.customNodeFormatter.formatTemplate(S.DomainLockNodeTemplate(),{domainLockFunctionName:this.identifierNamesGenerator.generate(),diff:o,domains:t,globalVariableTemplate:r,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}};d([I.initializable(),l("design:type",String)],_.prototype,"callsControllerFunctionName",void 0),_=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),u(5,f.inject(p.ServiceIdentifiers.ICryptUtils)),l("design:paramtypes",["function"==typeof(r=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==g.ICustomNodeFormatter&&g.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==y.ICustomNodeObfuscator&&y.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==b.IRandomGenerator&&b.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==N.IOptions&&N.IOptions)?s:Object,"function"==typeof(c=void 0!==h.ICryptUtils&&h.ICryptUtils)?c:Object])],_),t.DomainLockNode=_},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomainLockNodeTemplate=function(){return'\n        const {domainLockFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            \n            {globalVariableTemplate}\n            \n            const func = function () {\n                return {\n                    key: \'item\',\n                    value: \'attribute\',\n                    getAttribute: function () {\n                        for (let i = 0; i < 1000; i--) {\n                            const isPositive = i > 0;\n                            \n                            switch (isPositive) {\n                                case true:\n                                    return this.item + \'_\' + this.value + \'_\' + i;\n                                default:\n                                    this.item + \'_\' + this.value;\n                            }\n                        }\n                    }()\n                };\n            };\n                        \n            const regExp = new RegExp("[{diff}]", "g");\n            const domains = "{domains}".replace(regExp, "").split(";");\n            let document;\n            let domain;\n            let location;\n            let hostname;\n\n            for (let d in that) {\n                if (d.length == 8 && d.charCodeAt(7) == 116 && d.charCodeAt(5) == 101 && d.charCodeAt(3) == 117 && d.charCodeAt(0) == 100) {\n                    document = d;\n                \n                    break;\n                }\n            }\n\n            for (let d1 in that[document]) {\n                if (d1.length == 6 && d1.charCodeAt(5) == 110 && d1.charCodeAt(0) == 100) {\n                    domain = d1;\n                    \n                    break;\n                }\n            }\n\n            if (!("~" > domain)) {\n                for (let d2 in that[document]) {\n                    if (d2.length == 8 && d2.charCodeAt(7) == 110 && d2.charCodeAt(0) == 108) {\n                        location = d2;\n                        \n                        break;\n                    }\n                }\n\n                for (let d3 in that[document][location]) {\n                    if (d3.length == 8 && d3.charCodeAt(7) == 101 && d3.charCodeAt(0) == 104) {\n                        hostname = d3;\n                        \n                        break;\n                    }\n                }\n            }\n            \n            if (!document || !that[document]) {\n                return;\n            }\n            \n            const documentDomain = that[document][domain];\n            const documentLocationHostName = !!that[document][location] && that[document][location][hostname];\n            const currentDomain = documentDomain || documentLocationHostName;\n          \n            if (!currentDomain) {\n                return;\n            }\n          \n            let ok = false;\n                        \n            for (let i = 0; i < domains.length; i++) {\n                const domain = domains[i];\n                const position = currentDomain.length - domain.length;\n                const lastIndex = currentDomain.indexOf(domain, position);\n                const endsWith = lastIndex !== -1 && lastIndex === position;\n                \n                if (endsWith) {\n                    if (currentDomain.length == domain.length || domain.indexOf(".") === 0) {\n                        ok = true;\n                    }\n                }\n            }\n               \n            if (!ok) {\n                data;\n            } else {\n                return;\n            }\n            \n            func();\n        });\n\n        {domainLockFunctionName}();\n    '}},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(10),g=o(2),y=o(3),h=o(9),N=o(7),b=o(11),v=o(8),I=o(6);let S=class extends b.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t,o,r){this.controlFlowStorageName=e,this.controlFlowStorageKey=t,this.leftValue=o,this.rightValue=r}getNodeStructure(){const e=v.NodeFactory.expressionStatementNode(v.NodeFactory.callExpressionNode(v.NodeFactory.memberExpressionNode(v.NodeFactory.identifierNode(this.controlFlowStorageName),v.NodeFactory.identifierNode(this.controlFlowStorageKey)),[this.leftValue,this.rightValue]));return I.NodeUtils.parentizeAst(e),[e]}};c([N.initializable(),d("design:type",String)],S.prototype,"controlFlowStorageKey",void 0),c([N.initializable(),d("design:type",String)],S.prototype,"controlFlowStorageName",void 0),S=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==h.ICustomNodeFormatter&&h.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==m.ICustomNodeObfuscator&&m.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==y.IRandomGenerator&&y.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==g.IOptions&&g.IOptions)?s:Object])],S),t.ExpressionWithOperatorControlFlowStorageCallNode=S},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(11),b=o(8),v=o(6);let I=class extends N.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e){this.operator=e}getNodeStructure(e){const t=b.NodeFactory.expressionStatementNode(b.NodeFactory.functionExpressionNode([b.NodeFactory.identifierNode("x"),b.NodeFactory.identifierNode("y")],b.NodeFactory.blockStatementNode([b.NodeFactory.returnStatementNode(b.NodeFactory.logicalExpressionNode(this.operator,b.NodeFactory.identifierNode("x"),b.NodeFactory.identifierNode("y")))])));return v.NodeUtils.parentizeAst(t),[t]}};I=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],I),t.LogicalExpressionFunctionNode=I},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(5),g=o(10),y=o(9),h=o(2),N=o(3),b=o(23),v=o(7),I=o(141),S=o(11),O=o(6);let j=class extends S.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t){this.appendEvent=e,this.callsControllerFunctionName=t}getNodeStructure(e){return O.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){return this.appendEvent===b.ObfuscationEvent.AfterObfuscation?this.customNodeObfuscator.obfuscateTemplate(this.customNodeFormatter.formatTemplate(I.SingleNodeCallControllerTemplate(),{singleNodeCallControllerFunctionName:this.callsControllerFunctionName})):this.customNodeFormatter.formatTemplate(I.SingleNodeCallControllerTemplate(),{singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}};d([v.initializable(),l("design:type",String)],j.prototype,"callsControllerFunctionName",void 0),d([v.initializable(),l("design:type","function"==typeof(r=void 0!==b.ObfuscationEvent&&b.ObfuscationEvent)?r:Object)],j.prototype,"appendEvent",void 0),j=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(n=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?n:Object,"function"==typeof(i=void 0!==y.ICustomNodeFormatter&&y.ICustomNodeFormatter)?i:Object,"function"==typeof(a=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?a:Object,"function"==typeof(s=void 0!==N.IRandomGenerator&&N.IRandomGenerator)?s:Object,"function"==typeof(c=void 0!==h.IOptions&&h.IOptions)?c:Object])],j),t.NodeCallsControllerFunctionNode=j},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleNodeCallControllerTemplate=function(){return"\n        const {singleNodeCallControllerFunctionName} = (function(){\n            let firstCall = true;\n            \n            return function (context, fn){\n                const rfn = firstCall ? function(){\n                    if(fn){\n                        const res = fn.apply(context, arguments);\n                        fn = null;\n                        return res;\n                    }\n                } : function(){}\n                \n                firstCall = false;\n                \n                return rfn;\n            }\n        })();\n    "}},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(5),g=o(9),y=o(10),h=o(29),N=o(2),b=o(3),v=o(7),I=o(143),S=o(11),O=o(6);let j=class extends S.AbstractCustomNode{constructor(e,t,o,r,n,i){super(e,t,o,r,n),this.escapeSequenceEncoder=i}initialize(e){this.callsControllerFunctionName=e}getNodeStructure(e){return O.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){return this.customNodeObfuscator.obfuscateTemplate(this.customNodeFormatter.formatTemplate(I.SelfDefendingTemplate(this.escapeSequenceEncoder),{selfDefendingFunctionName:this.identifierNamesGenerator.generate(),singleNodeCallControllerFunctionName:this.callsControllerFunctionName}),{unicodeEscapeSequence:!0})}};d([v.initializable(),l("design:type",String)],j.prototype,"callsControllerFunctionName",void 0),j=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),u(5,f.inject(p.ServiceIdentifiers.IEscapeSequenceEncoder)),l("design:paramtypes",["function"==typeof(r=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==g.ICustomNodeFormatter&&g.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==y.ICustomNodeObfuscator&&y.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==b.IRandomGenerator&&b.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==N.IOptions&&N.IOptions)?s:Object,"function"==typeof(c=void 0!==h.IEscapeSequenceEncoder&&h.IEscapeSequenceEncoder)?c:Object])],j),t.SelfDefendingUnicodeNode=j},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e){return`\n        const {selfDefendingFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            const func1 = function(){return 'dev';},\n                func2 = function () {\n                    return 'window';\n                };\n                \n            const test1 = function () {\n                const regExp = new RegExp('${e.encode("\\w+ *\\(\\) *{\\w+ *['|\"].+['|\"];? *}",!0)}');\n                \n                return !regExp.test(func1.toString());\n            };\n            \n            const test2 = function () {\n                const regExp = new RegExp('${e.encode("(\\\\[x|u](\\w){2,4})+",!0)}');\n                \n                return regExp.test(func2.toString());\n            };\n            \n            const recursiveFunc1 = function (string) {\n                const i = ~-1 >> 1 + 255 % 0;\n                                \n                if (string.indexOf('i' === i)) {\n                    recursiveFunc2(string)\n                }\n            };\n            \n            const recursiveFunc2 = function (string) {\n                const i = ~-4 >> 1 + 255 % 0;\n                \n                if (string.indexOf((true+"")[3]) !== i) {\n                    recursiveFunc1(string)\n                }\n            };\n            \n            if (!test1()) {\n                if (!test2()) {\n                    recursiveFunc1('indxOf');\n                } else {\n                    recursiveFunc1('indexOf');\n                }\n            } else {\n                recursiveFunc1('indxOf');\n            }\n        })\n        \n        {selfDefendingFunctionName}();\n    `}},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(5),g=o(9),y=o(10),h=o(29),N=o(2),b=o(3),v=o(21),I=o(25),S=o(7),O=o(145),j=o(47),C=o(146),_=o(147),R=o(148),F=o(149),T=o(150),x=o(11),w=o(6);let E=class extends x.AbstractCustomNode{constructor(e,t,o,r,n,i){super(e,t,o,r,n),this.escapeSequenceEncoder=i}initialize(e,t){this.stringArrayName=e,this.stringArrayCallsWrapperName=t}getNodeStructure(e){return w.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){const e=this.getDecodeStringArrayTemplate(),t=[this.stringArrayName];return this.customNodeObfuscator.obfuscateTemplate(this.customNodeFormatter.formatTemplate(F.StringArrayCallsWrapperTemplate(),{decodeNodeTemplate:e,stringArrayCallsWrapperName:this.stringArrayCallsWrapperName,stringArrayName:this.stringArrayName}),{reservedNames:t})}getDecodeStringArrayTemplate(){const e=this.options.target!==v.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():j.GlobalVariableNoEvalTemplate(),t=this.customNodeFormatter.formatTemplate(O.AtobTemplate(),{globalVariableTemplate:e});let o="",r="";switch(this.options.selfDefending&&(r=this.customNodeFormatter.formatTemplate(_.SelfDefendingTemplate(this.randomGenerator,this.escapeSequenceEncoder),{stringArrayCallsWrapperName:this.stringArrayCallsWrapperName,stringArrayName:this.stringArrayName})),this.options.stringArrayEncoding){case I.StringArrayEncoding.Rc4:o=this.customNodeFormatter.formatTemplate(T.StringArrayRc4DecodeNodeTemplate(this.randomGenerator),{atobPolyfill:t,selfDefendingCode:r,rc4Polyfill:C.Rc4Template(),stringArrayCallsWrapperName:this.stringArrayCallsWrapperName});break;case I.StringArrayEncoding.Base64:o=this.customNodeFormatter.formatTemplate(R.StringArrayBase64DecodeNodeTemplate(this.randomGenerator),{atobPolyfill:t,selfDefendingCode:r,stringArrayCallsWrapperName:this.stringArrayCallsWrapperName})}return o}};d([S.initializable(),l("design:type",String)],E.prototype,"stringArrayName",void 0),d([S.initializable(),l("design:type",String)],E.prototype,"stringArrayCallsWrapperName",void 0),E=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),u(5,f.inject(p.ServiceIdentifiers.IEscapeSequenceEncoder)),l("design:paramtypes",["function"==typeof(r=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==g.ICustomNodeFormatter&&g.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==y.ICustomNodeObfuscator&&y.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==b.IRandomGenerator&&b.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==N.IOptions&&N.IOptions)?s:Object,"function"==typeof(c=void 0!==h.IEscapeSequenceEncoder&&h.IEscapeSequenceEncoder)?c:Object])],E),t.StringArrayCallsWrapper=E},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AtobTemplate=function(){return"\n        (function () {\n            {globalVariableTemplate}\n            \n            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n            that.atob || (\n                that.atob = function(input) {\n                    const str = String(input).replace(/=+$/, '');\n                    let output = '';\n                    for (\n                        let bc = 0, bs, buffer, idx = 0;\n                        buffer = str.charAt(idx++);\n                        ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n                            bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n                    ) {\n                        buffer = chars.indexOf(buffer);\n                    }\n                    return output;\n                }\n            );\n        })();\n    "}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rc4Template=function(){return"\n        const rc4 = function (str, key) {\n            let s = [], j = 0, x, res = '', newStr = '';\n           \n            str = atob(str);\n                \n            for (let k = 0, length = str.length; k < length; k++) {\n                newStr += '%' + ('00' + str.charCodeAt(k).toString(16)).slice(-2);\n            }\n        \n            str = decodeURIComponent(newStr);\n                    \t     \n            let i;\n                    \t        \n\t        for (i = 0; i < 256; i++) {\n                s[i] = i;\n            }\n \n            for (i = 0; i < 256; i++) {\n                j = (j + s[i] + key.charCodeAt(i % key.length)) % 256;\n                x = s[i];\n                s[i] = s[j];\n                s[j] = x;\n            }\n            \n            i = 0;\n            j = 0;\n            \n            for (let y = 0; y < str.length; y++) {\n                i = (i + 1) % 256;\n                j = (j + s[i]) % 256;\n                x = s[i];\n                s[i] = s[j];\n                s[j] = x;\n                res += String.fromCharCode(str.charCodeAt(y) ^ s[(s[i] + s[j]) % 256]);\n            }\n                      \n            return res;\n        }\n    "}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e,t){const o=e.getRandomString(6),r=e.getRandomString(6),n=e.getRandomString(6),i=e.getRandomString(6),a=e.getRandomString(6),s=e.getRandomString(6),c=e.getRandomString(6),d=e.getRandomString(6),l=e.getRandomString(6);return`\n        const StatesClass = function (${o}) {\n            this.${o} = ${o};\n            this.${r} = [1, 0, 0];\n            this.${n} = function(){return 'newState';};\n            this.${i} = '${t.encode("\\w+ *\\(\\) *{\\w+ *",!0)}';\n            this.${a} = '${t.encode("['|\"].+['|\"];? *}",!0)}';\n        };\n        \n        StatesClass.prototype.${s} = function () {\n            const regExp = new RegExp(this.${i} + this.${a});\n            const expression = regExp.test(this.${n}.toString())\n                ? --this.${r}[1]\n                : --this.${r}[0];\n            \n            return this.${c}(expression);\n        };\n        \n        StatesClass.prototype.${c} = function (${l}) {\n            if (!Boolean(~${l})) {\n                return ${l};\n            }\n            \n            return this.${d}(this.${o});\n        };\n\n        StatesClass.prototype.${d} = function (${o}) {\n            for (let i = 0, len = this.${r}.length; i < len; i++) {\n                this.${r}.push(Math.round(Math.random()));\n                len = this.${r}.length;\n            }\n            \n            return ${o}(this.${r}[0]);\n        };\n\n        new StatesClass({stringArrayCallsWrapperName}).${s}();\n    `}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayBase64DecodeNodeTemplate=function(e){const t=e.getRandomString(6),o=e.getRandomString(6),r=e.getRandomString(6);return`\n        if ({stringArrayCallsWrapperName}.${t} === undefined) {\n            {atobPolyfill}\n            \n            {stringArrayCallsWrapperName}.${o} = function (str) {\n                const string = atob(str);\n                let newStringChars = [];\n                \n                for (let i = 0, length = string.length; i < length; i++) {\n                    newStringChars += '%' + ('00' + string.charCodeAt(i).toString(16)).slice(-2);\n                }\n                \n                return decodeURIComponent(newStringChars);\n            };\n            \n            {stringArrayCallsWrapperName}.${r} = {};\n            \n            {stringArrayCallsWrapperName}.${t} = true;\n        }\n                  \n        const cachedValue = {stringArrayCallsWrapperName}.${r}[index];\n                        \n        if (cachedValue === undefined) {\n            {selfDefendingCode}\n            \n            value = {stringArrayCallsWrapperName}.${o}(value);\n            {stringArrayCallsWrapperName}.${r}[index] = value;\n        } else {\n            value = cachedValue;\n        }\n    `}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayCallsWrapperTemplate=function(){return"\n        const {stringArrayCallsWrapperName} = function (index, key) {\n            index = index - 0;\n            \n            let value = {stringArrayName}[index];\n            \n            {decodeNodeTemplate}\n        \n            return value;\n        };\n    "}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRc4DecodeNodeTemplate=function(e){const t=e.getRandomString(6),o=e.getRandomString(6),r=e.getRandomString(6),n=e.getRandomString(6);return`\n        if ({stringArrayCallsWrapperName}.${t} === undefined) {\n            {atobPolyfill}\n            \n            {rc4Polyfill}\n            {stringArrayCallsWrapperName}.${o} = rc4;\n            \n            {stringArrayCallsWrapperName}.${r} = {};\n            \n            {stringArrayCallsWrapperName}.${t} = true;\n        }\n  \n        const cachedValue = {stringArrayCallsWrapperName}.${r}[index];\n\n        if (cachedValue === undefined) {\n            if ({stringArrayCallsWrapperName}.${n} === undefined) {\n                {selfDefendingCode}\n                \n                {stringArrayCallsWrapperName}.${n} = true;\n            }\n            \n            value = {stringArrayCallsWrapperName}.${o}(value, key);\n            {stringArrayCallsWrapperName}.${r}[index] = value;\n        } else {\n            value = cachedValue;\n        }\n    `}},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(5),g=o(9),y=o(10),h=o(2),N=o(3),b=o(35),v=o(7),I=o(152),S=o(11),O=o(6);let j=class extends S.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t){this.stringArrayStorage=e,this.stringArrayName=t}getNodeStructure(e){return O.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){return this.customNodeFormatter.formatTemplate(I.StringArrayTemplate(),{stringArrayName:this.stringArrayName,stringArray:this.stringArrayStorage.toString()})}};d([v.initializable(),l("design:type","function"==typeof(r=void 0!==b.IStringArrayStorage&&b.IStringArrayStorage)?r:Object)],j.prototype,"stringArrayStorage",void 0),d([v.initializable(),l("design:type",String)],j.prototype,"stringArrayName",void 0),j=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(n=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeFormatter&&g.ICustomNodeFormatter)?i:Object,"function"==typeof(a=void 0!==y.ICustomNodeObfuscator&&y.ICustomNodeObfuscator)?a:Object,"function"==typeof(s=void 0!==N.IRandomGenerator&&N.IRandomGenerator)?s:Object,"function"==typeof(c=void 0!==h.IOptions&&h.IOptions)?c:Object])],j),t.StringArrayNode=j},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayTemplate=function(){return"\n        const {stringArrayName} = [{stringArray}];\n    "}},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(5),g=o(9),y=o(10),h=o(29),N=o(2),b=o(3),v=o(7),I=o(154),S=o(155),O=o(11),j=o(6),C=o(37);let _=class extends O.AbstractCustomNode{constructor(e,t,o,r,n,i){super(e,t,o,r,n),this.escapeSequenceEncoder=i}initialize(e,t){this.stringArrayName=e,this.stringArrayRotationAmount=t}getNodeStructure(e){return j.NodeUtils.convertCodeToStructure(e)}getNodeTemplate(){const e=this.identifierNamesGenerator.generate(),t=this.identifierNamesGenerator.generate(),o=[this.stringArrayName];let r="";return r=this.options.selfDefending?this.customNodeFormatter.formatTemplate(I.SelfDefendingTemplate(this.escapeSequenceEncoder),{timesName:e,whileFunctionName:t}):`${t}(++${e})`,this.customNodeObfuscator.obfuscateTemplate(this.customNodeFormatter.formatTemplate(S.StringArrayRotateFunctionTemplate(),{code:r,timesName:e,whileFunctionName:t,stringArrayName:this.stringArrayName,stringArrayRotationAmount:C.NumberUtils.toHex(this.stringArrayRotationAmount)}),{reservedNames:o})}};d([v.initializable(),l("design:type",String)],_.prototype,"stringArrayName",void 0),d([v.initializable(),l("design:type",Number)],_.prototype,"stringArrayRotationAmount",void 0),_=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u(1,f.inject(p.ServiceIdentifiers.ICustomNodeFormatter)),u(2,f.inject(p.ServiceIdentifiers.ICustomNodeObfuscator)),u(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(4,f.inject(p.ServiceIdentifiers.IOptions)),u(5,f.inject(p.ServiceIdentifiers.IEscapeSequenceEncoder)),l("design:paramtypes",["function"==typeof(r=void 0!==m.TIdentifierNamesGeneratorFactory&&m.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==g.ICustomNodeFormatter&&g.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==y.ICustomNodeObfuscator&&y.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==b.IRandomGenerator&&b.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==N.IOptions&&N.IOptions)?s:Object,"function"==typeof(c=void 0!==h.IEscapeSequenceEncoder&&h.IEscapeSequenceEncoder)?c:Object])],_),t.StringArrayRotateFunctionNode=_},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e){return`\n        const selfDefendingFunc = function () {\n            const object = {\n                data: {\n                    key: 'cookie',\n                    value: 'timeout'\n                },\n                setCookie: function (options, name, value, document) {\n                    document = document || {};\n                    \n                    let updatedCookie = name + "=" + value;\n                    let i = 0;\n                                                            \n                    for (let i = 0, len = options.length; i < len; i++) {\n                        const propName = options[i];\n                                     \n                        updatedCookie += "; " + propName;\n                        \n                        const propValue = options[propName];\n                        \n                        options.push(propValue);\n                        len = options.length;\n                                                                        \n                        if (propValue !== true) {\n                            updatedCookie += "=" + propValue;\n                        }\n                    }\n\n                    document['cookie'] = updatedCookie;\n                },\n                removeCookie: function(){return 'dev';},\n                getCookie: function (document, name) {\n                    document = document || function (value) { return value };\n                    const matches = document(new RegExp(\n                        "(?:^|; )" + name.replace(/([.$?*|{}()[]\\/+^])/g, '\\$1') + "=([^;]*)"\n                    ));\n                    \n                    const func = function (param1, param2) {\n                        param1(++param2);\n                    };\n                    \n                    func({whileFunctionName}, {timesName});\n                                        \n                    return matches ? decodeURIComponent(matches[1]) : undefined;\n                }\n            };\n            \n            const test1 = function () {\n                const regExp = new RegExp('${e.encode("\\w+ *\\(\\) *{\\w+ *['|\"].+['|\"];? *}",!0)}');\n                \n                return regExp.test(object.removeCookie.toString());\n            };\n            \n            object['updateCookie'] = test1;\n            \n            let cookie = '';\n            const result = object['updateCookie']();\n                                    \n            if (!result) {\n                object['setCookie'](['*'], 'counter', 1);\n            } else if (result) {\n                cookie = object['getCookie'](null, 'counter');\n            } else {\n                object['removeCookie']();\n            }\n        };\n        \n        selfDefendingFunc();\n    `}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRotateFunctionTemplate=function(){return"\n        (function (array, {timesName}) {\n            const {whileFunctionName} = function (times) {\n                while (--times) {\n                    array['push'](array['shift']());\n                }\n            };\n            \n            {code}\n        })({stringArrayName}, 0x{stringArrayRotationAmount});\n    "}},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(7),b=o(11),v=o(8),I=o(6);let S=class extends b.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e,t){this.controlFlowStorageName=e,this.controlFlowStorageKey=t}getNodeStructure(){const e=v.NodeFactory.expressionStatementNode(v.NodeFactory.memberExpressionNode(v.NodeFactory.identifierNode(this.controlFlowStorageName),v.NodeFactory.identifierNode(this.controlFlowStorageKey)));return I.NodeUtils.parentizeAst(e),[e]}};c([N.initializable(),d("design:type",String)],S.prototype,"controlFlowStorageKey",void 0),c([N.initializable(),d("design:type",String)],S.prototype,"controlFlowStorageName",void 0),S=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],S),t.StringLiteralControlFlowStorageCallNode=S},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(5),m=o(9),g=o(10),y=o(2),h=o(3),N=o(7),b=o(11),v=o(8);let I=class extends b.AbstractCustomNode{constructor(e,t,o,r,n){super(e,t,o,r,n)}initialize(e){this.literalValue=e}getNodeStructure(e){return[v.NodeFactory.expressionStatementNode(v.NodeFactory.literalNode(this.literalValue))]}};c([N.initializable(),d("design:type",String)],I.prototype,"literalValue",void 0),I=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l(1,u.inject(f.ServiceIdentifiers.ICustomNodeFormatter)),l(2,u.inject(f.ServiceIdentifiers.ICustomNodeObfuscator)),l(3,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(4,u.inject(f.ServiceIdentifiers.IOptions)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierNamesGeneratorFactory&&p.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==m.ICustomNodeFormatter&&m.ICustomNodeFormatter)?n:Object,"function"==typeof(i=void 0!==g.ICustomNodeObfuscator&&g.ICustomNodeObfuscator)?i:Object,"function"==typeof(a=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==y.IOptions&&y.IOptions)?s:Object])],I),t.StringLiteralNode=I},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(3),f=o(159),p=o(52);let m=class{constructor(e,t){this.randomGenerator=e,this.options=t}obfuscateTemplate(e,t={}){return p.JavaScriptObfuscator.obfuscate(e,Object.assign(Object.assign(Object.assign({},f.NO_ADDITIONAL_NODES_PRESET),{identifierNamesGenerator:this.options.identifierNamesGenerator,identifiersDictionary:this.options.identifiersDictionary,seed:this.randomGenerator.getRawSeed()}),t)).getObfuscatedCode()}};m=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==u.IRandomGenerator&&u.IRandomGenerator)?r:Object,"function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],m),t.CustomNodeObfuscator=m},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(31),n=o(21),i=o(32);t.NO_ADDITIONAL_NODES_PRESET=Object.freeze({compact:!0,controlFlowFlattening:!1,controlFlowFlatteningThreshold:0,deadCodeInjection:!1,deadCodeInjectionThreshold:0,debugProtection:!1,debugProtectionInterval:!1,disableConsoleOutput:!1,domainLock:[],exclude:[],identifierNamesGenerator:r.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,identifiersPrefix:"",identifiersDictionary:[],inputFileName:"",inputFilePath:"",log:!1,renameGlobals:!1,reservedNames:[],reservedStrings:[],rotateStringArray:!1,seed:0,selfDefending:!1,shuffleStringArray:!1,sourceMap:!1,sourceMapBaseUrl:"",sourceMapFileName:"",sourceMapMode:i.SourceMapMode.Separate,splitStrings:!1,splitStringsChunkLength:0,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0,target:n.ObfuscationTarget.Browser,transformObjectKeys:!1,unicodeEscapeSequence:!1})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(0);t.finalizingTransformersModule=new r.ContainerModule(e=>{})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(0),n=o(1),i=o(31),a=o(162),s=o(163),c=o(164);t.generatorsModule=new r.ContainerModule(e=>{e(n.ServiceIdentifiers.IIdentifierNamesGenerator).to(a.DictionaryIdentifierNamesGenerator).inSingletonScope().whenTargetNamed(i.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator),e(n.ServiceIdentifiers.IIdentifierNamesGenerator).to(s.HexadecimalIdentifierNamesGenerator).inSingletonScope().whenTargetNamed(i.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator),e(n.ServiceIdentifiers.IIdentifierNamesGenerator).to(c.MangledIdentifierNamesGenerator).inSingletonScope().whenTargetNamed(i.IdentifierNamesGenerator.MangledIdentifierNamesGenerator),e(n.ServiceIdentifiers.Factory__IIdentifierNamesGenerator).toFactory(function(){let e=null;return t=>o=>{if(e)return e;let r;switch(o.identifierNamesGenerator){case i.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator:r=t.container.getNamed(n.ServiceIdentifiers.IIdentifierNamesGenerator,i.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator);break;case i.IdentifierNamesGenerator.MangledIdentifierNamesGenerator:r=t.container.getNamed(n.ServiceIdentifiers.IIdentifierNamesGenerator,i.IdentifierNamesGenerator.MangledIdentifierNamesGenerator);break;case i.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator:default:r=t.container.getNamed(n.ServiceIdentifiers.IIdentifierNamesGenerator,i.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator)}return e=r,r}}())})},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(34),p=o(2),m=o(3),g=o(49),y=o(36);let h=r=class extends g.AbstractIdentifierNamesGenerator{constructor(e,t,o){super(e,t),this.arrayUtils=o,this.identifierNamesSet=new Set(this.getInitialIdentifierNames(this.options.identifiersDictionary)),this.identifiersIterator=this.identifierNamesSet.values()}static incrementIdentifierName(e){let t="",o=!1;for(const r of e)o||r!==r.toUpperCase()?o||r!==r.toLowerCase()?t+=r:(t+=r.toUpperCase(),o=!0):t+=r.toLowerCase();return o?t:null}generate(){const e=this.generateNewDictionaryName();return this.preserveName(e),e}generateForLexicalScope(e){const t=[e,...y.NodeLexicalScopeUtils.getLexicalScopes(e)],o=this.generateNewDictionaryName();return this.isValidIdentifierNameInLexicalScopes(o,t)?(this.preserveNameForLexicalScope(o,e),o):this.generateForLexicalScope(e)}generateWithPrefix(){const e=`${this.options.identifiersPrefix?`${this.options.identifiersPrefix}`:""}${this.generateNewDictionaryName()}`;return this.isValidIdentifierName(e)?(this.preserveName(e),e):this.generateWithPrefix()}generateNewDictionaryName(){if(!this.identifierNamesSet.size)throw new Error("Too many identifiers in the code, add more words to identifiers dictionary");const e=this.identifiersIterator.next();if(!e.done){const t=e.value;return this.isValidIdentifierName(t)?e.value:this.generateNewDictionaryName()}return this.identifierNamesSet=new Set(this.getIncrementedIdentifierNames([...this.identifierNamesSet])),this.identifiersIterator=this.identifierNamesSet.values(),this.generateNewDictionaryName()}getInitialIdentifierNames(e){const t=e.filter(Boolean).map(e=>e.toLowerCase());return this.arrayUtils.shuffle(t)}getIncrementedIdentifierNames(e){const t=[];for(const o of e){const e=r.incrementIdentifierName(o);e&&t.push(e)}return this.arrayUtils.shuffle(t)}};h=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.IRandomGenerator)),d(1,l.inject(u.ServiceIdentifiers.IOptions)),d(2,l.inject(u.ServiceIdentifiers.IArrayUtils)),c("design:paramtypes",["function"==typeof(n=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==p.IOptions&&p.IOptions)?i:Object,"function"==typeof(a=void 0!==f.IArrayUtils&&f.IArrayUtils)?a:Object])],h),t.DictionaryIdentifierNamesGenerator=h},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=o(2),f=o(3),p=o(49),m=o(37),g=o(30);let y=r=class extends p.AbstractIdentifierNamesGenerator{constructor(e,t){super(e,t),this.randomVariableNameSet=new Set}generate(e){const t=this.randomGenerator.getRandomInteger(1e4,99999999),o=m.NumberUtils.toHex(t),n=g.Utils.hexadecimalPrefix.length+1,i=e?e-n:r.baseIdentifierNameLength,a=o.substr(0,i),s=`_${g.Utils.hexadecimalPrefix}${a}`;return this.randomVariableNameSet.has(s)?this.generate(e):(this.randomVariableNameSet.add(s),s)}generateForLexicalScope(e,t){return this.generate(t)}generateWithPrefix(e){const t=this.generate(e);return`${this.options.identifiersPrefix}${t}`.replace("__","_")}};y.baseIdentifierNameLength=6,y=r=a([d.injectable(),c(0,d.inject(l.ServiceIdentifiers.IRandomGenerator)),c(1,d.inject(l.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(n=void 0!==f.IRandomGenerator&&f.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==u.IOptions&&u.IOptions)?i:Object])],y),t.HexadecimalIdentifierNamesGenerator=y},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=o(2),f=o(3),p=o(49),m=o(36);let g=r=class extends p.AbstractIdentifierNamesGenerator{constructor(e,t){super(e,t),this.previousMangledName=r.initMangledNameCharacter}generate(e){const t=this.generateNewMangledName(this.previousMangledName);return this.previousMangledName=t,this.preserveName(t),t}generateForLexicalScope(e,t){const o=[e,...m.NodeLexicalScopeUtils.getLexicalScopes(e)];let n=this.getLastMangledNameForScopes(o);do{n=this.generateNewMangledName(n)}while(!this.isValidIdentifierNameInLexicalScopes(n,o));return r.lastMangledNameInScopeMap.set(e,n),this.preserveNameForLexicalScope(n,e),n}generateWithPrefix(e){const t=this.options.identifiersPrefix?`${this.options.identifiersPrefix}`:"",o=this.generateNewMangledName(this.previousMangledName),r=`${t}${o}`;return this.previousMangledName=o,this.isValidIdentifierName(r)?(this.preserveName(r),r):this.generateWithPrefix(e)}isValidIdentifierName(e){return super.isValidIdentifierName(e)&&!r.reservedNamesSet.has(e)}generateNewMangledName(e){let t=(e=>{const t=r.nameSequence,o=t.length,n=e.length,i=e=>"0".repeat(e);let a=n-1;do{const r=e[a],s=t.indexOf(r);if(s!==o-1){return e.substring(0,a)+t[s+1]+i(n-(a+1))}--a}while(a>=0);return`a${i(n)}`})(e);return this.isValidIdentifierName(t)||(t=this.generateNewMangledName(t)),t}getLastMangledNameForScopes(e){var t;for(const o of e){const e=null!==(t=r.lastMangledNameInScopeMap.get(o))&&void 0!==t?t:null;if(e)return e}return r.initMangledNameCharacter}};g.initMangledNameCharacter="9",g.lastMangledNameInScopeMap=new Map,g.nameSequence="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),g.reservedNamesSet=new Set(["byte","case","char","do","else","enum","eval","for","goto","if","in","int","let","long","new","null","this","true","try","var","void","with"]),g=r=a([d.injectable(),c(0,d.inject(l.ServiceIdentifiers.IRandomGenerator)),c(1,d.inject(l.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(n=void 0!==f.IRandomGenerator&&f.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==u.IOptions&&u.IOptions)?i:Object])],g),t.MangledIdentifierNamesGenerator=g},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(0),n=o(1),i=o(166);t.nodeModule=new r.ContainerModule(e=>{e(n.ServiceIdentifiers.IScopeIdentifiersTraverser).to(i.ScopeIdentifiersTraverser).inSingletonScope()})},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(167),u=o(4);let f=r=class{constructor(e){this.scopeAnalyzer=e}traverse(e,t,o){this.scopeAnalyzer.analyze(e);const r=this.scopeAnalyzer.acquireScope(e);this.traverseScopeVariables(r,r,o)}traverseScopeVariables(e,t,o){const n=t.variableScope,i=u.NodeGuards.isNodeWithBlockLexicalScope(n.block)?n.block:null,a=r.globalScopeNames.includes(n.type);if(i){for(const s of t.variables)s.name!==r.argumentsVariableName&&o({isGlobalDeclaration:a,rootScope:e,variable:s,variableScope:n,variableLexicalScopeNode:i});for(const r of t.childScopes)this.traverseScopeVariables(e,r,o)}}};f.argumentsVariableName="arguments",f.globalScopeNames=["global","module"],f=r=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IScopeAnalyzer)),a("design:paramtypes",["function"==typeof(n=void 0!==l.IScopeAnalyzer&&l.IScopeAnalyzer)?n:Object])],f),t.ScopeIdentifiersTraverser=f},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(17),n=o(0),i=o(1);t.nodeTransformersModule=new n.ContainerModule(e=>{e(i.ServiceIdentifiers.Factory__INodeTransformer).toFactory(r.InversifyContainerFacade.getCacheFactory(i.ServiceIdentifiers.INodeTransformer))})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(17),n=o(0),i=o(1),a=o(38),s=o(64),c=o(22),d=o(170),l=o(171),u=o(172),f=o(173),p=o(175),m=o(176),g=o(177);t.obfuscatingTransformersModule=new n.ContainerModule(e=>{e(i.ServiceIdentifiers.INodeTransformer).to(u.LabeledStatementTransformer).whenTargetNamed(c.NodeTransformer.LabeledStatementTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(f.LiteralTransformer).whenTargetNamed(c.NodeTransformer.LiteralTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(g.ScopeIdentifiersTransformer).whenTargetNamed(c.NodeTransformer.ScopeIdentifiersTransformer),e(i.ServiceIdentifiers.IObfuscatingReplacer).to(l.BooleanLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.BooleanLiteralObfuscatingReplacer),e(i.ServiceIdentifiers.IObfuscatingReplacer).to(p.NumberLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.NumberLiteralObfuscatingReplacer),e(i.ServiceIdentifiers.IObfuscatingReplacer).to(m.StringLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.StringLiteralObfuscatingReplacer),e(i.ServiceIdentifiers.IIdentifierObfuscatingReplacer).to(d.BaseIdentifierObfuscatingReplacer).whenTargetNamed(a.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),e(i.ServiceIdentifiers.Factory__IObfuscatingReplacer).toFactory(r.InversifyContainerFacade.getCacheFactory(i.ServiceIdentifiers.IObfuscatingReplacer)),e(i.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer).toFactory(r.InversifyContainerFacade.getCacheFactory(i.ServiceIdentifiers.IIdentifierObfuscatingReplacer))})},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(5),u=o(2),f=o(39),p=o(8);let m=class extends f.AbstractObfuscatingReplacer{constructor(e,t){super(t),this.blockScopesMap=new Map,this.identifierNamesGenerator=e(t)}replace(e,t){let o=e.name;if(this.blockScopesMap.has(t)){const e=this.blockScopesMap.get(t);e.has(o)&&(o=e.get(o))}return p.NodeFactory.identifierNode(o)}storeGlobalName(e,t){const o=e.name;if(this.isReservedName(o))return;const r=this.identifierNamesGenerator.generateWithPrefix();this.blockScopesMap.has(t)||this.blockScopesMap.set(t,new Map),this.blockScopesMap.get(t).set(o,r)}storeLocalName(e,t){const o=e.name;if(this.isReservedName(o))return;const r=this.identifierNamesGenerator.generateForLexicalScope(t);this.blockScopesMap.has(t)||this.blockScopesMap.set(t,new Map),this.blockScopesMap.get(t).set(o,r)}preserveName(e){this.identifierNamesGenerator.preserveName(e.name)}preserveNameForLexicalScope(e,t){this.identifierNamesGenerator.preserveNameForLexicalScope(e.name,t)}isReservedName(e){return!!this.options.reservedNames.length&&this.options.reservedNames.some(t=>null!==new RegExp(t,"g").exec(e))}};m=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==l.TIdentifierNamesGeneratorFactory&&l.TIdentifierNamesGeneratorFactory)?r:Object,"function"==typeof(n=void 0!==u.IOptions&&u.IOptions)?n:Object])],m),t.BaseIdentifierObfuscatingReplacer=m},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(39),f=o(8);let p=r=class extends u.AbstractObfuscatingReplacer{constructor(e){super(e)}static getTrueUnaryExpressionNode(){return f.NodeFactory.unaryExpressionNode("!",r.getFalseUnaryExpressionNode())}static getFalseUnaryExpressionNode(){return f.NodeFactory.unaryExpressionNode("!",f.NodeFactory.arrayExpressionNode())}replace(e){const t=e.value;if("boolean"!=typeof t)throw new Error("`BooleanLiteralObfuscatingReplacer` should accept only literals with `boolean` value");return t?r.getTrueUnaryExpressionNode():r.getFalseUnaryExpressionNode()}};p=r=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],p),t.BooleanLiteralObfuscatingReplacer=p},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=d(o(14)),p=o(50),m=o(2),g=o(3),y=o(38),h=o(12),N=o(13),b=o(4),v=o(36);let I=class extends N.AbstractNodeTransformer{constructor(e,t,o){super(t,o),this.identifierObfuscatingReplacer=e(y.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}getVisitor(e){switch(e){case h.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&b.NodeGuards.isLabeledStatementNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const o=v.NodeLexicalScopeUtils.getLexicalScope(e);return o?(this.storeLabeledStatementName(e,o),this.replaceLabeledStatementName(e,o),e):e}storeLabeledStatementName(e,t){this.identifierObfuscatingReplacer.storeLocalName(e.label,t)}replaceLabeledStatementName(e,t){f.replace(e,{enter:(e,o)=>{if(o&&b.NodeGuards.isLabelIdentifierNode(e,o)){const o=this.identifierObfuscatingReplacer.replace(e,t);e.name=o.name}}})}};I=a([l.injectable(),c(0,l.inject(u.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),c(1,l.inject(u.ServiceIdentifiers.IRandomGenerator)),c(2,l.inject(u.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(r=void 0!==p.TIdentifierObfuscatingReplacerFactory&&p.TIdentifierObfuscatingReplacerFactory)?r:Object,"function"==typeof(n=void 0!==g.IRandomGenerator&&g.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==m.IOptions&&m.IOptions)?i:Object])],I),t.LabeledStatementTransformer=I},function(e,t,o){"use strict";var r,n,i,a,s,c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=o(174),m=o(29),g=o(2),y=o(3),h=o(65),N=o(64),b=o(12),v=o(13),I=o(8),S=o(4),O=o(44),j=o(16),C=o(6);let _=class extends v.AbstractNodeTransformer{constructor(e,t,o,r,n){super(t,o),this.literalObfuscatingReplacerFactory=e,this.stringArrayStorageAnalyzer=r,this.escapeSequenceEncoder=n}getVisitor(e){switch(e){case b.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(S.NodeGuards.isProgramNode(e)&&this.analyzeNode(e),t&&S.NodeGuards.isLiteralNode(e)&&!j.NodeMetadata.isReplacedLiteral(e))return this.transformNode(e,t)}};case b.TransformationStage.Finalizing:return{enter:(e,t)=>{if(t&&S.NodeGuards.isLiteralNode(e))return this.encodeLiteralNodeToEscapeSequence(e,t)}};default:return null}}analyzeNode(e){this.stringArrayStorageAnalyzer.analyze(e)}transformNode(e,t){if(O.NodeLiteralUtils.isProhibitedLiteralNode(e,t))return e;let o;switch(typeof e.value){case"boolean":o=this.literalObfuscatingReplacerFactory(N.LiteralObfuscatingReplacer.BooleanLiteralObfuscatingReplacer).replace(e);break;case"number":o=this.literalObfuscatingReplacerFactory(N.LiteralObfuscatingReplacer.NumberLiteralObfuscatingReplacer).replace(e);break;case"string":o=this.literalObfuscatingReplacerFactory(N.LiteralObfuscatingReplacer.StringLiteralObfuscatingReplacer).replace(e);break;default:o=e}return C.NodeUtils.parentizeNode(o,t),o}encodeLiteralNodeToEscapeSequence(e,t){return"string"!=typeof e.value?e:I.NodeFactory.literalNode(this.escapeSequenceEncoder.encode(e.value,this.options.unicodeEscapeSequence))}};_=c([u.injectable(),l(0,u.inject(f.ServiceIdentifiers.Factory__IObfuscatingReplacer)),l(1,u.inject(f.ServiceIdentifiers.IRandomGenerator)),l(2,u.inject(f.ServiceIdentifiers.IOptions)),l(3,u.inject(f.ServiceIdentifiers.IStringArrayStorageAnalyzer)),l(4,u.inject(f.ServiceIdentifiers.IEscapeSequenceEncoder)),d("design:paramtypes",["function"==typeof(r=void 0!==p.TLiteralObfuscatingReplacerFactory&&p.TLiteralObfuscatingReplacerFactory)?r:Object,"function"==typeof(n=void 0!==y.IRandomGenerator&&y.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==g.IOptions&&g.IOptions)?i:Object,"function"==typeof(a=void 0!==h.IStringArrayStorageAnalyzer&&h.IStringArrayStorageAnalyzer)?a:Object,"function"==typeof(s=void 0!==m.IEscapeSequenceEncoder&&m.IEscapeSequenceEncoder)?s:Object])],_),t.LiteralTransformer=_},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(0),c=o(1),d=o(2),l=o(39),u=o(8),f=o(37),p=o(30);let m=class extends l.AbstractObfuscatingReplacer{constructor(e){super(e),this.numberLiteralCache=new Map}replace(e){const t=e.value;if("number"!=typeof t)throw new Error("`NumberLiteralObfuscatingReplacer` should accept only literals with `number` value");let o;return this.numberLiteralCache.has(t)?o=this.numberLiteralCache.get(t):(o=f.NumberUtils.isCeil(t)?`${p.Utils.hexadecimalPrefix}${f.NumberUtils.toHex(t)}`:String(t),this.numberLiteralCache.set(t,o)),u.NodeFactory.literalNode(t,o)}};m=n([s.injectable(),a(0,s.inject(c.ServiceIdentifiers.IOptions)),i("design:paramtypes",["function"==typeof(r=void 0!==d.IOptions&&d.IOptions)?r:Object])],m),t.NumberLiteralObfuscatingReplacer=m},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(2),p=o(35),m=o(65),g=o(7),y=o(25),h=o(39),N=o(16),b=o(8),v=o(37),I=o(30);let S=r=class extends h.AbstractObfuscatingReplacer{constructor(e,t,o){super(o),this.nodesCache=new Map,this.stringArrayStorage=e,this.stringArrayStorageAnalyzer=t}static getHexadecimalLiteralNode(e){const t=b.NodeFactory.literalNode(e);return N.NodeMetadata.set(t,{replacedLiteral:!0}),t}static getRc4KeyLiteralNode(e){const t=b.NodeFactory.literalNode(e);return N.NodeMetadata.set(t,{replacedLiteral:!0}),t}initialize(){this.stringArrayStorageCallsWrapperName=this.stringArrayStorage.getStorageCallsWrapperName(),this.options.shuffleStringArray&&this.stringArrayStorage.shuffleStorage(),this.options.rotateStringArray&&this.stringArrayStorage.rotateStorage()}replace(e){const t=e.value;if("string"!=typeof t)throw new Error("`StringLiteralObfuscatingReplacer` should accept only literals with `string` value");const o=this.stringArrayStorageAnalyzer.getItemDataForLiteralNode(e),r=`${t}-${Boolean(o)}`;if(this.nodesCache.has(r)&&this.options.stringArrayEncoding!==y.StringArrayEncoding.Rc4)return this.nodesCache.get(r);const n=o?this.replaceWithStringArrayCallNode(o):this.replaceWithLiteralNode(t);return this.nodesCache.set(r,n),n}replaceWithLiteralNode(e){return b.NodeFactory.literalNode(e)}replaceWithStringArrayCallNode(e){const{index:t,decodeKey:o}=e,n=`${I.Utils.hexadecimalPrefix}${v.NumberUtils.toHex(t)}`,i=[r.getHexadecimalLiteralNode(n)];o&&i.push(r.getRc4KeyLiteralNode(o));const a=b.NodeFactory.identifierNode(this.stringArrayStorageCallsWrapperName);return b.NodeFactory.callExpressionNode(a,i)}};s([g.initializable(),c("design:type",String)],S.prototype,"stringArrayStorageCallsWrapperName",void 0),s([l.postConstruct(),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],S.prototype,"initialize",null),S=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.IStringArrayStorage)),d(1,l.inject(u.ServiceIdentifiers.IStringArrayStorageAnalyzer)),d(2,l.inject(u.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==p.IStringArrayStorage&&p.IStringArrayStorage)?n:Object,"function"==typeof(i=void 0!==m.IStringArrayStorageAnalyzer&&m.IStringArrayStorageAnalyzer)?i:Object,"function"==typeof(a=void 0!==f.IOptions&&f.IOptions)?a:Object])],S),t.StringLiteralObfuscatingReplacer=S},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const u=o(0),f=o(1),p=l(o(14)),m=o(50),g=o(2),y=o(3),h=o(66),N=o(38),b=o(12),v=o(13),I=o(4),S=o(16);let O=class extends v.AbstractNodeTransformer{constructor(e,t,o,r){super(t,o),this.lexicalScopesWithObjectPatternWithoutDeclarationMap=new Map,this.identifierObfuscatingReplacer=e(N.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),this.scopeIdentifiersTraverser=r}getVisitor(e){switch(e){case b.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&I.NodeGuards.isProgramNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){return this.scopeIdentifiersTraverser.traverse(e,t,e=>{const{isGlobalDeclaration:t,variable:o,variableLexicalScopeNode:r}=e;if(!this.options.renameGlobals&&t){if(!o.defs.every(e=>"ImportBinding"===e.type||"CatchClause"===e.type))return}this.transformScopeVariableIdentifiers(o,r,t)}),e}transformScopeVariableIdentifiers(e,t,o){for(const r of e.identifiers)this.isReplaceableIdentifierNode(r,t,e)&&(this.storeIdentifierName(r,t,o),this.replaceIdentifierName(r,t,e))}storeIdentifierName(e,t,o){o?this.identifierObfuscatingReplacer.storeGlobalName(e,t):this.identifierObfuscatingReplacer.storeLocalName(e,t)}replaceIdentifierName(e,t,o){const r=this.identifierObfuscatingReplacer.replace(e,t);e.name=r.name,o.references.forEach(t=>{t.identifier.name=e.name})}isReplaceableIdentifierNode(e,t,o){const r=e.parentNode;return!(!r||S.NodeMetadata.isIgnoredNode(e)||this.isProhibitedPropertyNode(e,r)||this.isProhibitedClassDeclarationNameIdentifierNode(o,e,r)||this.isProhibitedExportNamedClassDeclarationIdentifierNode(e,r)||this.isProhibitedExportNamedFunctionDeclarationIdentifierNode(e,r)||this.isProhibitedExportNamedVariableDeclarationIdentifierNode(e,r)||this.isProhibitedImportSpecifierNode(e,r)||this.isProhibitedVariableNameUsedInObjectPatternNode(o,e,t)||I.NodeGuards.isLabelIdentifierNode(e,r))}isProhibitedClassDeclarationNameIdentifierNode(e,t,o){return I.NodeGuards.isClassDeclarationNode(e.scope.block)&&I.NodeGuards.isClassDeclarationNode(o)&&o.id===t}isProhibitedExportNamedClassDeclarationIdentifierNode(e,t){return I.NodeGuards.isClassDeclarationNode(t)&&t.id===e&&!!t.parentNode&&I.NodeGuards.isExportNamedDeclarationNode(t.parentNode)}isProhibitedExportNamedFunctionDeclarationIdentifierNode(e,t){return I.NodeGuards.isFunctionDeclarationNode(t)&&t.id===e&&!!t.parentNode&&I.NodeGuards.isExportNamedDeclarationNode(t.parentNode)}isProhibitedExportNamedVariableDeclarationIdentifierNode(e,t){return I.NodeGuards.isVariableDeclaratorNode(t)&&t.id===e&&!!t.parentNode&&I.NodeGuards.isVariableDeclarationNode(t.parentNode)&&!!t.parentNode.parentNode&&I.NodeGuards.isExportNamedDeclarationNode(t.parentNode.parentNode)}isProhibitedImportSpecifierNode(e,t){return I.NodeGuards.isImportSpecifierNode(t)&&t.imported.name===t.local.name}isProhibitedPropertyNode(e,t){const o=I.NodeGuards.isPropertyNode(t)&&!t.computed&&t.key===e,r=I.NodeGuards.isAssignmentPatternNode(t)&&t.left===e&&!!t.parentNode&&I.NodeGuards.isPropertyNode(t.parentNode)&&t.left===t.parentNode.key;return o||r}isProhibitedVariableNameUsedInObjectPatternNode(e,t,o){let r=this.lexicalScopesWithObjectPatternWithoutDeclarationMap.get(o);if(!1===r)return!1;if(!e.defs.some(e=>"var"===e.kind))return!1;let n=!1;return p.traverse(o,{enter:(e,o)=>{if(I.NodeGuards.isObjectPatternNode(e)&&o&&I.NodeGuards.isAssignmentExpressionNode(o)){r=!0;const o=e.properties;for(const e of o)if(!e.computed&&e.shorthand&&I.NodeGuards.isIdentifierNode(e.key)&&t.name===e.key.name)return n=!0,p.VisitorOption.Break}}}),this.lexicalScopesWithObjectPatternWithoutDeclarationMap.set(o,null!=r&&r),n}};O=s([u.injectable(),d(0,u.inject(f.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),d(1,u.inject(f.ServiceIdentifiers.IRandomGenerator)),d(2,u.inject(f.ServiceIdentifiers.IOptions)),d(3,u.inject(f.ServiceIdentifiers.IScopeIdentifiersTraverser)),c("design:paramtypes",["function"==typeof(r=void 0!==m.TIdentifierObfuscatingReplacerFactory&&m.TIdentifierObfuscatingReplacerFactory)?r:Object,"function"==typeof(n=void 0!==y.IRandomGenerator&&y.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==g.IOptions&&g.IOptions)?i:Object,"function"==typeof(a=void 0!==h.IScopeIdentifiersTraverser&&h.IScopeIdentifiersTraverser)?a:Object])],O),t.ScopeIdentifiersTransformer=O},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(0),n=o(1),i=o(179),a=o(186);t.optionsModule=new r.ContainerModule(e=>{e(n.ServiceIdentifiers.IOptions).to(i.Options).inSingletonScope(),e(n.ServiceIdentifiers.IOptionsNormalizer).to(a.OptionsNormalizer).inSingletonScope()})},function(e,t,o){"use strict";var r,n,i,a,s,c,d,l=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const p=o(28),m=o(0),g=o(1),y=o(67),h=o(180),N=o(181),b=o(182),v=o(31),I=o(21),S=o(32),O=o(25),j=o(40),C=o(183),_=o(184);let R=r=class{constructor(e,t){Object.assign(this,j.DEFAULT_PRESET,e);const o=y.validateSync(this,r.validatorOptions);if(o.length)throw new ReferenceError(`Validation failed. errors:\n${C.ValidationErrorsFormatter.format(o)}`);Object.assign(this,t.normalize(this))}};R.validatorOptions={validationError:{target:!1}},l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"compact",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"controlFlowFlattening",void 0),l([y.IsNumber(),y.Min(0),y.Max(1),u("design:type",Number)],R.prototype,"controlFlowFlatteningThreshold",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"deadCodeInjection",void 0),l([y.IsNumber(),u("design:type",Number)],R.prototype,"deadCodeInjectionThreshold",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"debugProtection",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"debugProtectionInterval",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"disableConsoleOutput",void 0),l([y.IsArray(),y.ArrayUnique(),y.IsString({each:!0}),_.IsAllowedForObfuscationTargets([I.ObfuscationTarget.Browser,I.ObfuscationTarget.BrowserNoEval]),u("design:type",Array)],R.prototype,"domainLock",void 0),l([y.IsIn([v.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator,v.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,v.IdentifierNamesGenerator.MangledIdentifierNamesGenerator]),u("design:type","function"==typeof(n=void 0!==p.TypeFromEnum&&p.TypeFromEnum)?n:Object)],R.prototype,"identifierNamesGenerator",void 0),l([y.IsString(),u("design:type",String)],R.prototype,"identifiersPrefix",void 0),l([y.IsArray(),y.ArrayUnique(),y.IsString({each:!0}),y.ValidateIf(e=>e.identifierNamesGenerator===v.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator),y.ArrayNotEmpty(),u("design:type",Array)],R.prototype,"identifiersDictionary",void 0),l([y.IsString(),u("design:type",String)],R.prototype,"inputFileName",void 0),l([y.IsString(),u("design:type",String)],R.prototype,"inputFilePath",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"log",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"renameGlobals",void 0),l([y.IsArray(),y.ArrayUnique(),y.IsString({each:!0}),u("design:type",Array)],R.prototype,"reservedNames",void 0),l([y.IsArray(),y.ArrayUnique(),y.IsString({each:!0}),u("design:type",Array)],R.prototype,"reservedStrings",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"rotateStringArray",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"selfDefending",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"shuffleStringArray",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"sourceMap",void 0),l([y.IsString(),y.ValidateIf(e=>Boolean(e.sourceMapBaseUrl)),y.IsUrl({require_protocol:!0,require_tld:!1,require_valid_protocol:!0}),u("design:type",String)],R.prototype,"sourceMapBaseUrl",void 0),l([y.IsString(),u("design:type",String)],R.prototype,"sourceMapFileName",void 0),l([y.IsIn([S.SourceMapMode.Inline,S.SourceMapMode.Separate]),u("design:type","function"==typeof(i=void 0!==p.TypeFromEnum&&p.TypeFromEnum)?i:Object)],R.prototype,"sourceMapMode",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"splitStrings",void 0),l([y.IsNumber(),y.ValidateIf(e=>Boolean(e.splitStrings)),y.Min(1),u("design:type",Number)],R.prototype,"splitStringsChunkLength",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"stringArray",void 0),l([y.IsIn([!0,!1,O.StringArrayEncoding.Base64,O.StringArrayEncoding.Rc4]),u("design:type","function"==typeof(a=void 0!==N.TStringArrayEncoding&&N.TStringArrayEncoding)?a:Object)],R.prototype,"stringArrayEncoding",void 0),l([y.IsNumber(),y.Min(0),y.Max(1),u("design:type",Number)],R.prototype,"stringArrayThreshold",void 0),l([y.IsIn([I.ObfuscationTarget.Browser,I.ObfuscationTarget.BrowserNoEval,I.ObfuscationTarget.Node]),u("design:type","function"==typeof(s=void 0!==p.TypeFromEnum&&p.TypeFromEnum)?s:Object)],R.prototype,"target",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"transformObjectKeys",void 0),l([y.IsBoolean(),u("design:type",Boolean)],R.prototype,"unicodeEscapeSequence",void 0),R=r=l([m.injectable(),f(0,m.inject(g.ServiceIdentifiers.TInputOptions)),f(1,m.inject(g.ServiceIdentifiers.IOptionsNormalizer)),u("design:paramtypes",["function"==typeof(c=void 0!==h.TInputOptions&&h.TInputOptions)?c:Object,"function"==typeof(d=void 0!==b.IOptionsNormalizer&&b.IOptionsNormalizer)?d:Object])],R),t.Options=R},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{static format(e){return e.reduce((e,t)=>[...e,r.formatWithNestedConstraints(t)],[]).join("\n")}static formatWithNestedConstraints(e){const t=e.constraints;return`${`\`${e.property}\` errors:\n`}${Object.keys(t).map(e=>`    - ${t[e]}\n`).join()}`}}t.ValidationErrorsFormatter=r},function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(67),i=r(o(185)),a=o(41),s=o(40);t.IsAllowedForObfuscationTargets=function(e,t){return(o,r)=>{n.registerDecorator({propertyName:r,constraints:[e],name:"IsAllowedForObfuscationTargets",options:t,target:o.constructor,validator:{validate(t,o){const n=o.object,a=s.DEFAULT_PRESET[r];return i.default(t,a)||e.includes(n.target)},defaultMessage:t=>`This option allowed only for obfuscation targets: ${e.join(`${a.StringSeparator.Comma} `)}`}})}}},function(e,t){e.exports=require("fast-deep-equal")},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=o(0),a=o(187),s=o(188),c=o(189),d=o(190),l=o(191),u=o(192),f=o(193),p=o(194),m=o(195),g=o(196),y=o(197),h=o(198),N=o(199);let b=r=class{normalize(e){let t=Object.assign({},e);for(const e of r.normalizerRules)t=e(t);return t}};b.normalizerRules=[a.ControlFlowFlatteningThresholdRule,s.DeadCodeInjectionRule,c.DeadCodeInjectionThresholdRule,d.DomainLockRule,l.InputFileNameRule,u.SeedRule,f.SelfDefendingRule,p.SourceMapBaseUrlRule,m.SourceMapFileNameRule,g.SplitStringsChunkLengthRule,y.StringArrayRule,h.StringArrayEncodingRule,N.StringArrayThresholdRule],b=r=n([i.injectable()],b),t.OptionsNormalizer=b},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlFlowFlatteningThresholdRule=e=>(0===e.controlFlowFlatteningThreshold&&(e=Object.assign(Object.assign({},e),{controlFlowFlattening:!1,controlFlowFlatteningThreshold:0})),e)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(40);t.DeadCodeInjectionRule=e=>(e.deadCodeInjection&&((e=Object.assign(Object.assign({},e),{deadCodeInjection:!0,stringArray:!0})).stringArrayThreshold||(e=Object.assign(Object.assign({},e),{stringArray:!0,stringArrayThreshold:r.DEFAULT_PRESET.stringArrayThreshold}))),e)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeadCodeInjectionThresholdRule=e=>(0===e.deadCodeInjectionThreshold&&(e=Object.assign(Object.assign({},e),{deadCodeInjection:!1,deadCodeInjectionThreshold:0})),e)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(30);t.DomainLockRule=e=>{if(e.domainLock.length){const t=[];for(const o of e.domainLock)t.push(r.Utils.extractDomainFrom(o));e=Object.assign(Object.assign({},e),{domainLock:t})}return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(41);t.InputFileNameRule=e=>{let{inputFileName:t}=e;return t&&(t=t.replace(/^\/+/,"").split(r.StringSeparator.Dot).slice(0,-1).join(r.StringSeparator.Dot)||t,e=Object.assign(Object.assign({},e),{inputFileName:`${t}.js`})),e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeedRule=e=>{if(e.seed)return Object.assign(Object.assign({},e),{seed:e.seed});return Object.assign(Object.assign({},e),{seed:(t=0,o=999999999,Math.floor(Math.random()*(o-t+1)+t))});var t,o}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingRule=e=>(e.selfDefending&&(e=Object.assign(Object.assign({},e),{compact:!0,selfDefending:!0})),e)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapBaseUrlRule=e=>{const{sourceMapBaseUrl:t}=e;return e.sourceMapFileName?(t&&!t.endsWith("/")&&(e=Object.assign(Object.assign({},e),{sourceMapBaseUrl:`${t}/`})),e):e=Object.assign(Object.assign({},e),{sourceMapBaseUrl:""})}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(41);t.SourceMapFileNameRule=e=>{let{sourceMapFileName:t}=e;if(t){t=t.replace(/^\/+/,"").replace(/(?:\.js)?(?:\.map)?$/,"");let o=t.split(r.StringSeparator.Dot);const n=o.length,i=o[n-1];n>1&&i.length<=3&&(o=o.slice(0,-1)),t=o.join(r.StringSeparator.Dot),e=Object.assign(Object.assign({},e),{sourceMapFileName:`${t}.js.map`})}return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStringsChunkLengthRule=e=>e=0===e.splitStringsChunkLength?Object.assign(Object.assign({},e),{splitStrings:!1,splitStringsChunkLength:0}):Object.assign(Object.assign({},e),{splitStringsChunkLength:Math.floor(e.splitStringsChunkLength)})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRule=e=>(e.stringArray||(e=Object.assign(Object.assign({},e),{rotateStringArray:!1,shuffleStringArray:!1,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0})),e)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(25);t.StringArrayEncodingRule=e=>(!0===e.stringArrayEncoding&&(e=Object.assign(Object.assign({},e),{stringArrayEncoding:r.StringArrayEncoding.Base64})),e)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayThresholdRule=e=>(0===e.stringArrayThreshold&&(e=Object.assign(Object.assign({},e),{rotateStringArray:!1,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0})),e)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(17),n=o(0),i=o(1),a=o(22),s=o(68),c=o(201),d=o(202),l=o(69),u=o(203),f=o(207),p=o(209),m=o(210),g=o(212),y=o(213),h=o(214);t.preparingTransformersModule=new n.ContainerModule(e=>{e(i.ServiceIdentifiers.INodeTransformer).to(d.CommentsTransformer).whenTargetNamed(a.NodeTransformer.CommentsTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(u.CustomNodesTransformer).whenTargetNamed(a.NodeTransformer.CustomNodesTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(f.EvalCallExpressionTransformer).whenTargetNamed(a.NodeTransformer.EvalCallExpressionTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(p.MetadataTransformer).whenTargetNamed(a.NodeTransformer.MetadataTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(m.ObfuscatingGuardsTransformer).whenTargetNamed(a.NodeTransformer.ObfuscatingGuardsTransformer),e(i.ServiceIdentifiers.INodeTransformer).to(g.ParentificationTransformer).whenTargetNamed(a.NodeTransformer.ParentificationTransformer),e(i.ServiceIdentifiers.INodeGuard).to(c.BlackListObfuscatingGuard).inSingletonScope().whenTargetNamed(s.ObfuscatingGuard.BlackListObfuscatingGuard),e(i.ServiceIdentifiers.INodeGuard).to(l.ConditionalCommentObfuscatingGuard).inSingletonScope().whenTargetNamed(s.ObfuscatingGuard.ConditionalCommentObfuscatingGuard),e(i.ServiceIdentifiers.INodeGuard).to(y.ReservedStringObfuscatingGuard).inSingletonScope().whenTargetNamed(s.ObfuscatingGuard.ReservedStringObfuscatingGuard),e(i.ServiceIdentifiers.Factory__INodeGuard).toFactory(r.InversifyContainerFacade.getCacheFactory(i.ServiceIdentifiers.INodeGuard)),e(i.ServiceIdentifiers.INodeTransformer).to(h.VariablePreserveTransformer).whenTargetNamed(a.NodeTransformer.VariablePreserveTransformer)})},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=o(0),s=o(4);let c=r=class{constructor(){this.blackListGuardsLength=r.blackListGuards.length}check(e){for(let t=0;t<this.blackListGuardsLength;t++)if(r.blackListGuards[t](e))return!1;return!0}};c.blackListGuards=[s.NodeGuards.isUseStrictOperator],c=r=n([a.injectable(),i("design:paramtypes",[])],c),t.BlackListObfuscatingGuard=c},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=d(o(14)),p=o(2),m=o(3),g=o(12),y=o(13),h=o(4),N=o(69);let b=r=class extends y.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case g.TransformationStage.Initializing:return{leave:e=>{if(h.NodeGuards.isProgramNode(e))return this.transformNode(e)}};default:return null}}transformNode(e){if(!e.comments||!e.comments.length)return e;const t=this.transformComments(e.comments);return 0===t.length?e:e.body.length?(f.traverse(e,{enter:o=>{if(o===e)return;const r=t.findIndex(e=>e.range&&o.range&&e.range[0]<o.range[0]);-1!==r&&(o.leadingComments=t.splice(r,t.length-r).reverse())}}),t.length>0&&(e.trailingComments=t.reverse()),e):(e.leadingComments=t,e)}transformComments(e){return e.filter(e=>r.preservedWords.some(t=>e.value.includes(t))||N.ConditionalCommentObfuscatingGuard.isConditionalComment(e)).reverse()}};b.preservedWords=["@license","@preserve"],b=r=a([l.injectable(),c(0,l.inject(u.ServiceIdentifiers.IRandomGenerator)),c(1,l.inject(u.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(n=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==p.IOptions&&p.IOptions)?i:Object])],b),t.CommentsTransformer=b},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const f=o(0),p=o(1),m=o(204),g=o(205),y=o(2),h=o(3),N=o(206),b=o(63),v=o(23),I=o(12),S=o(13),O=o(4);let j=class extends S.AbstractNodeTransformer{constructor(e,t,o,r,n,i){super(n,i),this.callsGraphData=[],this.callsGraphAnalyzer=e,this.prevailingKindOfVariablesAnalyzer=t,this.obfuscationEventEmitter=o,this.customNodeGroupStorage=r}getVisitor(e){switch(e){case I.TransformationStage.Preparing:return{leave:(e,t)=>{if(O.NodeGuards.isProgramNode(e))return this.analyzeNode(e,t),this.appendCustomNodesBeforeObfuscation(e,t),this.transformNode(e,t)}};case I.TransformationStage.Finalizing:return{leave:(e,t)=>{O.NodeGuards.isProgramNode(e)&&this.appendCustomNodesAfterObfuscation(e,t)}};default:return null}}analyzeNode(e,t){this.callsGraphData=this.callsGraphAnalyzer.analyze(e),this.prevailingKindOfVariablesAnalyzer.analyze(e)}transformNode(e,t){return e}appendCustomNodesBeforeObfuscation(e,t){this.customNodeGroupStorage.getStorage().forEach(e=>{e.initialize(),this.obfuscationEventEmitter.once(e.getAppendEvent(),e.appendCustomNodes.bind(e))}),this.obfuscationEventEmitter.emit(v.ObfuscationEvent.BeforeObfuscation,e,this.callsGraphData)}appendCustomNodesAfterObfuscation(e,t){this.obfuscationEventEmitter.emit(v.ObfuscationEvent.AfterObfuscation,e,this.callsGraphData)}};j=d([f.injectable(),u(0,f.inject(p.ServiceIdentifiers.ICallsGraphAnalyzer)),u(1,f.inject(p.ServiceIdentifiers.IPrevailingKindOfVariablesAnalyzer)),u(2,f.inject(p.ServiceIdentifiers.IObfuscationEventEmitter)),u(3,f.inject(p.ServiceIdentifiers.TCustomNodeGroupStorage)),u(4,f.inject(p.ServiceIdentifiers.IRandomGenerator)),u(5,f.inject(p.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(r=void 0!==N.ICallsGraphAnalyzer&&N.ICallsGraphAnalyzer)?r:Object,"function"==typeof(n=void 0!==b.IPrevailingKindOfVariablesAnalyzer&&b.IPrevailingKindOfVariablesAnalyzer)?n:Object,"function"==typeof(i=void 0!==g.IObfuscationEventEmitter&&g.IObfuscationEventEmitter)?i:Object,"function"==typeof(a=void 0!==m.TCustomNodeGroupStorage&&m.TCustomNodeGroupStorage)?a:Object,"function"==typeof(s=void 0!==h.IRandomGenerator&&h.IRandomGenerator)?s:Object,"function"==typeof(c=void 0!==y.IOptions&&y.IOptions)?c:Object])],j),t.CustomNodesTransformer=j},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=d(o(208)),p=o(2),m=o(3),g=o(12),y=o(13),h=o(8),N=o(4),b=o(6);let v=r=class extends y.AbstractNodeTransformer{constructor(e,t){super(e,t),this.evalRootAstHostNodeSet=new Set}static extractEvalStringFromCallExpressionArgument(e){return N.NodeGuards.isLiteralNode(e)?r.extractEvalStringFromLiteralNode(e):N.NodeGuards.isTemplateLiteralNode(e)?r.extractEvalStringFromTemplateLiteralNode(e):null}static extractEvalStringFromLiteralNode(e){return"string"==typeof e.value?e.value:null}static extractEvalStringFromTemplateLiteralNode(e){const t=e.quasis;return 1!==t.length||e.expressions.length?null:t[0].value.cooked}getVisitor(e){switch(e){case g.TransformationStage.Preparing:return{enter:(e,t)=>{if(t&&N.NodeGuards.isCallExpressionNode(e)&&N.NodeGuards.isIdentifierNode(e.callee)&&"eval"===e.callee.name)return this.transformNode(e,t)}};case g.TransformationStage.Finalizing:return this.evalRootAstHostNodeSet.size?{leave:(e,t)=>{if(t&&this.isEvalRootAstHostNode(e))return this.restoreNode(e,t)}}:null;default:return null}}transformNode(e,t){const o=e.arguments[0];if(!o)return e;const n=r.extractEvalStringFromCallExpressionArgument(o);if(!n)return e;let i;try{i=b.NodeUtils.convertCodeToStructure(n)}catch(t){return e}const a=h.NodeFactory.functionExpressionNode([],h.NodeFactory.blockStatementNode(i));return this.evalRootAstHostNodeSet.add(a),a}restoreNode(e,t){const o=e.body.body,r=b.NodeUtils.convertStructureToCode(o);return h.NodeFactory.callExpressionNode(h.NodeFactory.identifierNode("eval"),[h.NodeFactory.literalNode(f.default(r))])}isEvalRootAstHostNode(e){return N.NodeGuards.isFunctionExpressionNode(e)&&this.evalRootAstHostNodeSet.has(e)}};v=r=a([l.injectable(),c(0,l.inject(u.ServiceIdentifiers.IRandomGenerator)),c(1,l.inject(u.ServiceIdentifiers.IOptions)),s("design:paramtypes",["function"==typeof(n=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==p.IOptions&&p.IOptions)?i:Object])],v),t.EvalCallExpressionTransformer=v},function(e,t){e.exports=require("js-string-escape")},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(3),f=o(12),p=o(13),m=o(4),g=o(16);let y=class extends p.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case f.TransformationStage.Preparing:return{enter:(e,t)=>this.transformNode(e,t)};default:return null}}transformNode(e,t){return g.NodeMetadata.set(e,{ignoredNode:!1}),m.NodeGuards.isLiteralNode(e)&&g.NodeMetadata.set(e,{replacedLiteral:!1}),e}};y=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==u.IRandomGenerator&&u.IRandomGenerator)?r:Object,"function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],y),t.MetadataTransformer=y},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(211),p=o(2),m=o(3),g=o(68),y=o(12),h=o(13),N=o(16);let b=r=class extends h.AbstractNodeTransformer{constructor(e,t,o){super(t,o),this.obfuscatingGuards=r.obfuscatingGuardsList.map(e)}getVisitor(e){switch(e){case y.TransformationStage.Preparing:return{enter:(e,t)=>this.transformNode(e,t)};default:return null}}transformNode(e,t){const o=this.obfuscatingGuards.every(t=>t.check(e));return N.NodeMetadata.set(e,{ignoredNode:!o}),e}};b.obfuscatingGuardsList=[g.ObfuscatingGuard.BlackListObfuscatingGuard,g.ObfuscatingGuard.ConditionalCommentObfuscatingGuard,g.ObfuscatingGuard.ReservedStringObfuscatingGuard],b=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.Factory__INodeGuard)),d(1,l.inject(u.ServiceIdentifiers.IRandomGenerator)),d(2,l.inject(u.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==f.TObfuscatingGuardFactory&&f.TObfuscatingGuardFactory)?n:Object,"function"==typeof(i=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==p.IOptions&&p.IOptions)?a:Object])],b),t.ObfuscatingGuardsTransformer=b},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(3),f=o(12),p=o(13),m=o(6);let g=class extends p.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case f.TransformationStage.Preparing:return{enter:(e,t)=>this.transformNode(e,t)};default:return null}}transformNode(e,t){return m.NodeUtils.parentizeNode(e,t)}};g=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==u.IRandomGenerator&&u.IRandomGenerator)?r:Object,"function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],g),t.ParentificationTransformer=g},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(0),c=o(2),d=o(1),l=o(4);let u=class{constructor(e){this.options=e}check(e){return!this.options.reservedStrings.length||!l.NodeGuards.isLiteralNode(e)||"string"!=typeof e.value||!this.isReservedString(e.value)}isReservedString(e){return this.options.reservedStrings.some(t=>null!==new RegExp(t,"g").exec(e))}};u=n([s.injectable(),a(0,s.inject(d.ServiceIdentifiers.IOptions)),i("design:paramtypes",["function"==typeof(r=void 0!==c.IOptions&&c.IOptions)?r:Object])],u),t.ReservedStringObfuscatingGuard=u},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(50),f=o(2),p=o(3),m=o(66),g=o(1),y=o(12),h=o(13),N=o(38),b=o(4);let v=class extends h.AbstractNodeTransformer{constructor(e,t,o,r){super(t,o),this.identifierObfuscatingReplacer=e(N.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),this.scopeIdentifiersTraverser=r}getVisitor(e){switch(e){case y.TransformationStage.Preparing:return{enter:(e,t)=>{if(t&&b.NodeGuards.isProgramNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){return this.scopeIdentifiersTraverser.traverse(e,t,e=>{const{isGlobalDeclaration:t,variable:o,variableScope:r}=e;this.preserveScopeVariableIdentifiers(o,r,t)}),e}preserveScopeVariableIdentifiers(e,t,o){for(const r of e.identifiers)o?this.preserveIdentifierNameForRootLexicalScope(r):this.preserveIdentifierNameForLexicalScope(r,t)}preserveIdentifierNameForRootLexicalScope(e){this.identifierObfuscatingReplacer.preserveName(e)}preserveIdentifierNameForLexicalScope(e,t){const o=b.NodeGuards.isNodeWithLexicalScope(t.block)?t.block:null;o&&this.identifierObfuscatingReplacer.preserveNameForLexicalScope(e,o)}};v=s([l.injectable(),d(0,l.inject(g.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),d(1,l.inject(g.ServiceIdentifiers.IRandomGenerator)),d(2,l.inject(g.ServiceIdentifiers.IOptions)),d(3,l.inject(g.ServiceIdentifiers.IScopeIdentifiersTraverser)),c("design:paramtypes",["function"==typeof(r=void 0!==u.TIdentifierObfuscatingReplacerFactory&&u.TIdentifierObfuscatingReplacerFactory)?r:Object,"function"==typeof(n=void 0!==p.IRandomGenerator&&p.IRandomGenerator)?n:Object,"function"==typeof(i=void 0!==f.IOptions&&f.IOptions)?i:Object,"function"==typeof(a=void 0!==m.IScopeIdentifiersTraverser&&m.IScopeIdentifiersTraverser)?a:Object])],v),t.VariablePreserveTransformer=v},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(0),n=o(1),i=o(216),a=o(217),s=o(219);t.storagesModule=new r.ContainerModule(e=>{e(n.ServiceIdentifiers.TCustomNodeGroupStorage).to(a.CustomNodeGroupStorage).inSingletonScope(),e(n.ServiceIdentifiers.IStringArrayStorage).to(s.StringArrayStorage).inSingletonScope(),e(n.ServiceIdentifiers.Newable__TControlFlowStorage).toConstructor(i.ControlFlowStorage),e(n.ServiceIdentifiers.Factory__TControlFlowStorage).toFactory(e=>()=>{const t=new(e.container.get(n.ServiceIdentifiers.Newable__TControlFlowStorage))(e.container.get(n.ServiceIdentifiers.IRandomGenerator),e.container.get(n.ServiceIdentifiers.IOptions));return t.initialize(),t})})},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(2),u=o(3),f=o(51);let p=class extends f.MapStorage{constructor(e,t){super(e,t)}};p=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==u.IRandomGenerator&&u.IRandomGenerator)?r:Object,"function"==typeof(n=void 0!==l.IOptions&&l.IOptions)?n:Object])],p),t.ControlFlowStorage=p},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(0),u=o(1),f=o(218),p=o(2),m=o(3),g=o(62),y=o(51);let h=r=class extends y.MapStorage{constructor(e,t,o){super(t,o),this.customNodeGroupFactory=e}initialize(){super.initialize(),r.customNodeGroupsList.forEach(e=>{const t=this.customNodeGroupFactory(e);this.storage.set(e,t)})}};h.customNodeGroupsList=[g.CustomNodeGroup.ConsoleOutputCustomNodeGroup,g.CustomNodeGroup.DebugProtectionCustomNodeGroup,g.CustomNodeGroup.DomainLockCustomNodeGroup,g.CustomNodeGroup.SelfDefendingCustomNodeGroup,g.CustomNodeGroup.StringArrayCustomNodeGroup],s([l.postConstruct(),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],h.prototype,"initialize",null),h=r=s([l.injectable(),d(0,l.inject(u.ServiceIdentifiers.Factory__ICustomNodeGroup)),d(1,l.inject(u.ServiceIdentifiers.IRandomGenerator)),d(2,l.inject(u.ServiceIdentifiers.IOptions)),c("design:paramtypes",["function"==typeof(n=void 0!==f.TCustomNodeGroupFactory&&f.TCustomNodeGroupFactory)?n:Object,"function"==typeof(i=void 0!==m.IRandomGenerator&&m.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==p.IOptions&&p.IOptions)?a:Object])],h),t.CustomNodeGroupStorage=h},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a,s,c,d,l=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const p=o(0),m=o(1),g=o(5),y=o(34),h=o(48),N=o(29),b=o(2),v=o(3),I=o(25),S=o(51);let O=r=class extends S.MapStorage{constructor(e,t,o,n,i,a){super(o,n),this.rc4EncodedValuesSourcesCache=new Map,this.rotationAmount=0,this.identifierNamesGenerator=e(n),this.arrayUtils=t,this.cryptUtils=i,this.escapeSequenceEncoder=a,this.rc4Keys=this.randomGenerator.getRandomGenerator().n(()=>this.randomGenerator.getRandomGenerator().string({length:r.rc4KeyLength}),r.rc4KeysCount)}initialize(){super.initialize(),this.rotationAmount=this.options.rotateStringArray?this.randomGenerator.getRandomInteger(r.minimumRotationAmount,r.maximumRotationAmount):0}get(e){return this.getOrSetIfDoesNotExist(e)}getRotationAmount(){return this.rotationAmount}getStorageId(){return this.stringArrayStorageName||(this.stringArrayStorageName=this.identifierNamesGenerator.generateWithPrefix(r.stringArrayNameLength)),this.stringArrayStorageName}getStorageName(){return this.getStorageId()}getStorageCallsWrapperName(){return this.stringArrayStorageCallsWrapperName||(this.stringArrayStorageCallsWrapperName=this.identifierNamesGenerator.generateWithPrefix(r.stringArrayNameLength)),this.stringArrayStorageCallsWrapperName}rotateStorage(){this.getLength()&&(this.storage=new Map(this.arrayUtils.rotate(Array.from(this.storage.entries()),this.rotationAmount)))}shuffleStorage(){this.storage=new Map(this.arrayUtils.shuffle(Array.from(this.storage.entries())).map(([e,t],o)=>(t.index=o,[e,t])).sort(([,e],[,t])=>e.index-t.index))}toString(){return Array.from(this.storage.values()).map(e=>`'${this.escapeSequenceEncoder.encode(e.encodedValue,this.options.unicodeEscapeSequence)}'`).toString()}getOrSetIfDoesNotExist(e){const{encodedValue:t,decodeKey:o}=this.getEncodedValue(e),r=this.storage.get(t);if(r)return r;const n={encodedValue:t,decodeKey:o,value:e,index:this.getLength()};return this.storage.set(t,n),n}getEncodedValue(e){var t;switch(this.options.stringArrayEncoding){case I.StringArrayEncoding.Rc4:{const o=this.randomGenerator.getRandomGenerator().pickone(this.rc4Keys),r=this.cryptUtils.btoa(this.cryptUtils.rc4(e,o)),n=null!==(t=this.rc4EncodedValuesSourcesCache.get(r))&&void 0!==t?t:[];let i=n.length;return(!i||!n.includes(e))&&(n.push(e),i++),this.rc4EncodedValuesSourcesCache.set(r,n),i>1?this.getEncodedValue(e):{encodedValue:r,decodeKey:o}}case I.StringArrayEncoding.Base64:{const t=null;return{encodedValue:this.cryptUtils.btoa(e),decodeKey:t}}default:return{encodedValue:e,decodeKey:null}}}};O.minimumRotationAmount=100,O.maximumRotationAmount=500,O.rc4KeyLength=4,O.rc4KeysCount=50,O.stringArrayNameLength=7,l([p.postConstruct(),u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],O.prototype,"initialize",null),O=r=l([p.injectable(),f(0,p.inject(m.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),f(1,p.inject(m.ServiceIdentifiers.IArrayUtils)),f(2,p.inject(m.ServiceIdentifiers.IRandomGenerator)),f(3,p.inject(m.ServiceIdentifiers.IOptions)),f(4,p.inject(m.ServiceIdentifiers.ICryptUtils)),f(5,p.inject(m.ServiceIdentifiers.IEscapeSequenceEncoder)),u("design:paramtypes",["function"==typeof(n=void 0!==g.TIdentifierNamesGeneratorFactory&&g.TIdentifierNamesGeneratorFactory)?n:Object,"function"==typeof(i=void 0!==y.IArrayUtils&&y.IArrayUtils)?i:Object,"function"==typeof(a=void 0!==v.IRandomGenerator&&v.IRandomGenerator)?a:Object,"function"==typeof(s=void 0!==b.IOptions&&b.IOptions)?s:Object,"function"==typeof(c=void 0!==h.ICryptUtils&&h.ICryptUtils)?c:Object,"function"==typeof(d=void 0!==N.IEscapeSequenceEncoder&&N.IEscapeSequenceEncoder)?d:Object])],O),t.StringArrayStorage=O},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(0),n=o(1),i=o(221),a=o(222),s=o(226),c=o(227),d=o(228),l=o(70);t.utilsModule=new r.ContainerModule(e=>{e(n.ServiceIdentifiers.IArrayUtils).to(i.ArrayUtils).inSingletonScope(),e(n.ServiceIdentifiers.IRandomGenerator).to(l.RandomGenerator).inSingletonScope(),e(n.ServiceIdentifiers.ICryptUtils).to(a.CryptUtils).inSingletonScope(),e(n.ServiceIdentifiers.IEscapeSequenceEncoder).to(s.EscapeSequenceEncoder).inSingletonScope(),e(n.ServiceIdentifiers.ILevelledTopologicalSorter).to(c.LevelledTopologicalSorter),e(n.ServiceIdentifiers.INodeTransformerNamesGroupsBuilder).to(d.NodeTransformerNamesGroupsBuilder).inSingletonScope()})},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(0),c=o(1),d=o(3);let l=class{constructor(e){this.randomGenerator=e}createWithRange(e){const t=[];for(let o=0;o<e;o++)t.push(o);return t}findMostOccurringElement(e){var t;if(!e.length)return null;const o={};let r=e[0],n=1;for(const i of e){const e=(null!==(t=o[i])&&void 0!==t?t:0)+1;e>n&&(r=i,n=e),o[i]=e}return r}rotate(e,t){if(!e.length)throw new ReferenceError("Cannot rotate empty array.");if(t<=0)return e;const o=e;let r;for(;t--;)r=o.pop(),r&&o.unshift(r);return o}shuffle(e){const t=[...e];for(let e=t.length;e;e--){const o=Math.floor(this.randomGenerator.getMathRandom()*e);[t[e-1],t[o]]=[t[o],t[e-1]]}return t}};l=n([s.injectable(),a(0,s.inject(c.ServiceIdentifiers.IRandomGenerator)),i("design:paramtypes",["function"==typeof(r=void 0!==d.IRandomGenerator&&d.IRandomGenerator)?r:Object])],l),t.ArrayUtils=l},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(0),c=o(1),d=o(3),l=o(70),u=o(30);let f=class{constructor(e){this.randomGenerator=e}btoa(e){let t="";e=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(parseInt(`${u.Utils.hexadecimalPrefix}${t}`,16)));for(let o,r,n=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.charAt(0|n)||(i="=",n%1);t+=i.charAt(63&o>>8-n%1*8)){if(r=e.charCodeAt(n+=.75),r>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|r}return t}hideString(e,t){let o=this.randomGenerator.getRandomGenerator().string({length:t,pool:l.RandomGenerator.randomGeneratorPool}).replace(new RegExp(`[${r=e,r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}]`,"g"),"");var r;const n=o.split("");return this.randomGenerator.getRandomGenerator().shuffle(n),o=n.join(""),[((e,t)=>{let o=-1,r=-1,n="";for(;o<e.length||r<t.length;)this.randomGenerator.getMathRandom()<.5&&r<t.length?n+=t.charAt(++r):n+=e.charAt(++o);return n})(e,o),o]}rc4(e,t){const o=[];let r,n=0,i="";for(var a=0;a<256;a++)o[a]=a;for(a=0;a<256;a++)n=(n+o[a]+t.charCodeAt(a%t.length))%256,r=o[a],o[a]=o[n],o[n]=r;a=0,n=0;for(let t=0;t<e.length;t++)n=(n+o[a=(a+1)%256])%256,r=o[a],o[a]=o[n],o[n]=r,i+=String.fromCharCode(e.charCodeAt(t)^o[(o[a]+o[n])%256]);return i}};f=n([s.injectable(),a(0,s.inject(c.ServiceIdentifiers.IRandomGenerator)),i("design:paramtypes",["function"==typeof(r=void 0!==d.IRandomGenerator&&d.IRandomGenerator)?r:Object])],f),t.CryptUtils=f},function(e,t){e.exports=require("md5")},function(e,t){e.exports=require("chance")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0});let n=class{constructor(){this.stringsCache=new Map}encode(e,t){const o=`${e}-${String(t)}`;if(this.stringsCache.has(o))return this.stringsCache.get(o);const r=new RegExp("[\\s\\S]","g"),n=new RegExp("['\"\\\\\\s]"),i=new RegExp("[\\x00-\\x7F]");let a,s;const c=e.replace(r,e=>t||n.exec(e)?(i.exec(e)?(a="\\x",s="00"):(a="\\u",s="0000"),`${a}${(s+e.charCodeAt(0).toString(16)).slice(-s.length)}`):e);return this.stringsCache.set(o,c),this.stringsCache.set(`${c}-${String(t)}`,c),c}};n=r([o(0).injectable()],n),t.EscapeSequenceEncoder=n},function(e,t,o){"use strict";var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0});let n=class{constructor(){this.graph=new Map}add(e,t=null){return null!==t?this.link(e,t):this.register(e)}sort(){const e=Array.from(this.graph.keys()),t=[],o={};for(const r of e)void 0===o[r]&&this.visit(t,o,r);return t}sortByGroups(){this.sort();const e=[];for(;this.hasNodes();){const t=this.findRootNodes();e.push(t);for(const e of t)this.delete(e)}return e}delete(e){if(this.getPrecedents(e).length)throw new Error(`Unable to remove non-root node: ${e}`);this.graph.delete(e);const t=Array.from(this.graph.values());for(const o of t){for(let t=o.length-1;t>=0;t-=1)o[t]===e&&o.splice(t,1)}}findRootNodes(){const e=Array.from(this.graph.keys()),t=[];for(const o of e)this.hasPrecedents(o)||t.push(o);return t}getPrecedents(e){const t=this.graph.get(e);if(!t)throw new Error(`Unknown node: ${e}`);return t}hasNodes(){return this.graph.size>0}hasPrecedents(e){return this.getPrecedents(e).length>0}link(e,t){this.register(e),this.register(t);const o=this.graph.get(t);return o&&!o.includes(e)&&o.push(e),this}register(e){return this.graph.has(e)||this.graph.set(e,[]),this}visit(e,t,o){const r=t[o];if("visiting"===r)throw new Error(`Detected cycle involving node: ${o}`);if(r)return;t[o]="visiting";const n=this.getPrecedents(o);for(const o of n)this.visit(e,t,o);t[o]="ok",e.push(o)}};n=r([o(0).injectable()],n),t.LevelledTopologicalSorter=n},function(e,t,o){"use strict";var r,n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(0),c=o(1),d=o(229);let l=class{constructor(e){this.levelledTopologicalSorter=e}build(e){const t=Object.keys(e),o=this.buildNodeTransformersRelationEdges(t,e);for(const[e,t]of o)this.levelledTopologicalSorter.add(e,t);return this.levelledTopologicalSorter.sortByGroups()}buildNodeTransformersRelationEdges(e,t){const o=[];for(const r of e){const e=t[r].runAfter;if(e&&e.length)for(const n of e){void 0===t[n]?o.push([r,null]):o.push([n,r])}else o.push([r,null])}return o}};l=n([s.injectable(),a(0,s.inject(c.ServiceIdentifiers.ILevelledTopologicalSorter)),i("design:paramtypes",["function"==typeof(r=void 0!==d.ILevelledTopologicalSorter&&d.ILevelledTopologicalSorter)?r:Object])],l),t.NodeTransformerNamesGroupsBuilder=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";var r,n,i,a,s,c,d=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const p=o(0),m=o(1),g=f(o(46)),y=o(231),h=o(232),N=o(2),b=o(3),v=o(58),I=o(233),S=o(22),O=o(12),j=o(43),C=o(56),_=o(4);let R=r=class{constructor(e,t,o,r,n){this.transformersRunner=e,this.randomGenerator=t,this.obfuscatedCodeFactory=o,this.logger=r,this.options=n}obfuscate(e){const t=Date.now();this.logger.info(I.LoggingMessage.Version,"0.25.0"),this.logger.info(I.LoggingMessage.ObfuscationStarted),this.logger.info(I.LoggingMessage.RandomGeneratorSeed,this.randomGenerator.getInputSeed());const o=this.parseCode(e),r=this.transformAstTree(o),n=this.generateCode(e,r),i=(Date.now()-t)/1e3;return this.logger.success(I.LoggingMessage.ObfuscationCompleted,i),this.getObfuscatedCode(n)}parseCode(e){const t={sourceCode:e,inputFilePath:this.options.inputFilePath};return C.ASTParserFacade.parse(t,r.parseOptions)}transformAstTree(e){return e=this.runTransformationStage(e,O.TransformationStage.Initializing),!_.NodeGuards.isProgramNode(e)||e.body.length||e.leadingComments||e.trailingComments?(e=this.runTransformationStage(e,O.TransformationStage.Preparing),this.options.deadCodeInjection&&(e=this.runTransformationStage(e,O.TransformationStage.DeadCodeInjection)),this.options.controlFlowFlattening&&(e=this.runTransformationStage(e,O.TransformationStage.ControlFlowFlattening)),e=this.runTransformationStage(e,O.TransformationStage.Converting),e=this.runTransformationStage(e,O.TransformationStage.Obfuscating),e=this.runTransformationStage(e,O.TransformationStage.Finalizing)):(this.logger.warn(I.LoggingMessage.EmptySourceCode),e)}generateCode(e,t){const o=Object.assign({},r.escodegenParams);this.options.sourceMap&&(o.sourceMap=this.options.inputFileName||"sourceMap",o.sourceContent=e);const n=g.generate(t,Object.assign(Object.assign({},o),{format:{compact:this.options.compact}}));return n.map=n.map?n.map.toString():"",n}getObfuscatedCode(e){return this.obfuscatedCodeFactory(e.code,e.map)}runTransformationStage(e,t){return this.logger.info(I.LoggingMessage.TransformationStage,t),this.transformersRunner.transform(e,r.transformersList,t)}};R.parseOptions={ecmaVersion:j.ecmaVersion,allowHashBang:!0,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,locations:!0,ranges:!0},R.escodegenParams={comment:!0,verbatim:"x-verbatim-property",sourceMapWithCode:!0},R.transformersList=[S.NodeTransformer.BlockStatementControlFlowTransformer,S.NodeTransformer.CommentsTransformer,S.NodeTransformer.CustomNodesTransformer,S.NodeTransformer.DeadCodeInjectionTransformer,S.NodeTransformer.EvalCallExpressionTransformer,S.NodeTransformer.FunctionControlFlowTransformer,S.NodeTransformer.LabeledStatementTransformer,S.NodeTransformer.LiteralTransformer,S.NodeTransformer.MemberExpressionTransformer,S.NodeTransformer.MetadataTransformer,S.NodeTransformer.MethodDefinitionTransformer,S.NodeTransformer.ObfuscatingGuardsTransformer,S.NodeTransformer.ObjectExpressionKeysTransformer,S.NodeTransformer.ObjectExpressionTransformer,S.NodeTransformer.ParentificationTransformer,S.NodeTransformer.ScopeIdentifiersTransformer,S.NodeTransformer.SplitStringTransformer,S.NodeTransformer.TemplateLiteralTransformer,S.NodeTransformer.VariablePreserveTransformer],R=r=d([p.injectable(),u(0,p.inject(m.ServiceIdentifiers.ITransformersRunner)),u(1,p.inject(m.ServiceIdentifiers.IRandomGenerator)),u(2,p.inject(m.ServiceIdentifiers.Factory__IObfuscatedCode)),u(3,p.inject(m.ServiceIdentifiers.ILogger)),u(4,p.inject(m.ServiceIdentifiers.IOptions)),l("design:paramtypes",["function"==typeof(n=void 0!==v.ITransformersRunner&&v.ITransformersRunner)?n:Object,"function"==typeof(i=void 0!==b.IRandomGenerator&&b.IRandomGenerator)?i:Object,"function"==typeof(a=void 0!==y.TObfuscatedCodeFactory&&y.TObfuscatedCodeFactory)?a:Object,"function"==typeof(s=void 0!==h.ILogger&&h.ILogger)?s:Object,"function"==typeof(c=void 0!==N.IOptions&&N.IOptions)?c:Object])],R),t.JavaScriptObfuscator=R},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EmptySourceCode="Empty source code. Obfuscation canceled...",e.ObfuscationCompleted="Obfuscation completed. Total time: %s sec.",e.ObfuscationStarted="Obfuscation started...",e.RandomGeneratorSeed="Random generator seed: %s...",e.TransformationStage="Transformation stage: %s...",e.Version="Version: %s"}(t.LoggingMessage||(t.LoggingMessage={}))},function(e,t,o){"use strict";var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(0),a=n(o(235));i.decorate(i.injectable(),a.default);let s=class extends a.default{};s=r([i.injectable()],s),t.ObfuscationEventEmitter=s},function(e,t){e.exports=require("eventemitter3")},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(0),d=o(1),l=o(48),u=o(7),f=o(32),p=o(2);let m=class{constructor(e,t){this.cryptUtils=e,this.options=t}initialize(e,t){this.obfuscatedCode=e,this.sourceMap=t}getObfuscatedCode(){return this.correctObfuscatedCode()}getSourceMap(){return this.sourceMap}toString(){return this.obfuscatedCode}correctObfuscatedCode(){if(!this.sourceMap)return this.obfuscatedCode;const e=this.options.sourceMapBaseUrl+this.options.sourceMapFileName;let t="//# sourceMappingURL=";switch(this.options.sourceMapMode){case f.SourceMapMode.Inline:t+=`data:application/json;base64,${this.cryptUtils.btoa(this.sourceMap)}`;break;case f.SourceMapMode.Separate:default:if(!e)return this.obfuscatedCode;t+=e}return`${this.obfuscatedCode}\n${t}`}};i([u.initializable(),a("design:type",String)],m.prototype,"obfuscatedCode",void 0),i([u.initializable(),a("design:type",String)],m.prototype,"sourceMap",void 0),m=i([c.injectable(),s(0,c.inject(d.ServiceIdentifiers.ICryptUtils)),s(1,c.inject(d.ServiceIdentifiers.IOptions)),a("design:paramtypes",["function"==typeof(r=void 0!==l.ICryptUtils&&l.ICryptUtils)?r:Object,"function"==typeof(n=void 0!==p.IOptions&&p.IOptions)?n:Object])],m),t.ObfuscatedCode=m},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SourceCode=class{constructor(e,t){this.sourceCode=e,this.sourceMap=t}getSourceCode(){return this.sourceCode}getSourceMap(){return this.sourceMap}toString(){return this.sourceCode}}},function(e,t,o){"use strict";var r,n,i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const d=o(0),l=o(1),u=c(o(14)),f=o(239),p=o(240),m=o(241),g=o(4),y=o(16);let h=class{constructor(e,t){this.cachedNodeTransformersData=new Map,this.nodeTransformerFactory=e,this.nodeTransformerNamesGroupsBuilder=t}transform(e,t,o){if(!t.length)return e;let r,n;this.cachedNodeTransformersData.has(t)?[r,n]=this.cachedNodeTransformersData.get(t):(r=this.buildNormalizedNodeTransformers(t),n=this.nodeTransformerNamesGroupsBuilder.build(r),this.cachedNodeTransformersData.set(t,[r,n]));for(const t of n){const n=[],i=[];for(const e of t){const t=r[e].getVisitor(o);t&&(t.enter&&n.push({enter:t.enter}),t.leave&&i.push({leave:t.leave}))}(n.length||i.length)&&u.replace(e,{enter:this.mergeVisitorsForDirection(n,m.VisitorDirection.Enter),leave:this.mergeVisitorsForDirection(i,m.VisitorDirection.Leave)})}return e}buildNormalizedNodeTransformers(e){return e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:this.nodeTransformerFactory(t)}),{})}mergeVisitorsForDirection(e,t){const o=e.length;return o?(r,n)=>{if(y.NodeMetadata.isIgnoredNode(r))return u.VisitorOption.Skip;for(let i=0;i<o;i++){const o=e[i][t];if(!o)continue;const a=o(r,n);a&&g.NodeGuards.isNode(a)&&(r=a)}return r}:(e,t)=>e}};h=i([d.injectable(),s(0,d.inject(l.ServiceIdentifiers.Factory__INodeTransformer)),s(1,d.inject(l.ServiceIdentifiers.INodeTransformerNamesGroupsBuilder)),a("design:paramtypes",["function"==typeof(r=void 0!==f.TNodeTransformerFactory&&f.TNodeTransformerFactory)?r:Object,"function"==typeof(n=void 0!==p.INodeTransformerNamesGroupsBuilder&&p.INodeTransformerNamesGroupsBuilder)?n:Object])],h),t.TransformersRunner=h},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Enter="enter",e.Leave="leave"}(t.VisitorDirection||(t.VisitorDirection={}))},function(e,t,o){"use strict";var r,n,i,a,s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const l=d(o(248)),u=d(o(243)),f=o(249),p=o(7),m=o(40),g=o(250),y=o(251),h=o(252),N=o(253),b=o(254),v=o(255),I=o(256),S=o(52),O=o(258),j=o(260);class C{constructor(e){this.rawArguments=e,this.arguments=e.slice(2)}static buildOptions(e,t){const o=C.filterOptions(e),r=e.config,n=r?u.resolve(r,"."):"",i=n?I.CLIUtils.getUserConfig(n):{},a=u.basename(t),s=t;return Object.assign(Object.assign(Object.assign(Object.assign({},m.DEFAULT_PRESET),i),o),{inputFileName:a,inputFilePath:s})}static filterOptions(e){const t={};return Object.keys(e).forEach(o=>{void 0!==e[o]&&(t[o]=e[o])}),t}initialize(){this.inputPath=u.normalize(this.arguments[0]||""),this.commands=new l.Command,this.configureCommands(),this.configureHelp(),this.inputCLIOptions=this.commands.opts(),this.sourceCodeReader=new j.SourceCodeReader(this.inputPath,this.inputCLIOptions),this.obfuscatedCodeWriter=new O.ObfuscatedCodeWriter(this.inputPath,this.inputCLIOptions)}run(){if(!this.arguments.length||this.arguments.includes("--help"))return void this.commands.outputHelp();const e=this.sourceCodeReader.readSourceCode();this.processSourceCodeData(e)}configureCommands(){this.commands.usage("<inputPath> [options]").version(null!=="0.25.0"?"0.25.0":"unknown","-v, --version").option("-o, --output <path>","Output path for obfuscated code").option("--compact <boolean>","Disable one line output code compacting",y.BooleanSanitizer).option("--config <boolean>","Name of js / json config file").option("--control-flow-flattening <boolean>","Enables control flow flattening",y.BooleanSanitizer).option("--control-flow-flattening-threshold <number>","The probability that the control flow flattening transformation will be applied to the node",parseFloat).option("--dead-code-injection <boolean>","Enables dead code injection",y.BooleanSanitizer).option("--dead-code-injection-threshold <number>","The probability that the dead code injection transformation will be applied to the node",parseFloat).option("--debug-protection <boolean>","Disable browser Debug panel (can cause DevTools enabled browser freeze)",y.BooleanSanitizer).option("--debug-protection-interval <boolean>","Disable browser Debug panel even after page was loaded (can cause DevTools enabled browser freeze)",y.BooleanSanitizer).option("--disable-console-output <boolean>","Allow console.log, console.info, console.error and console.warn messages output into browser console",y.BooleanSanitizer).option("--domain-lock <list> (comma separated, without whitespaces)","Blocks the execution of the code in domains that do not match the passed RegExp patterns (comma separated)",g.ArraySanitizer).option("--exclude <list> (comma separated, without whitespaces)","A filename or glob which indicates files to exclude from obfuscation",g.ArraySanitizer).option("--identifier-names-generator <string>","Sets identifier names generator. Values: hexadecimal, mangled, dictionary. Default: hexadecimal",h.IdentifierNamesGeneratorSanitizer).option("--identifiers-prefix <string>","Sets prefix for all global identifiers.").option("--identifiers-dictionary <list> (comma separated, without whitespaces)","Identifiers dictionary (comma separated) for `--identifier-names-generator dictionary` option",g.ArraySanitizer).option("--log <boolean>","Enables logging of the information to the console",y.BooleanSanitizer).option("--reserved-names <list> (comma separated, without whitespaces)","Disables obfuscation and generation of identifiers, which being matched by passed RegExp patterns (comma separated)",g.ArraySanitizer).option("--reserved-strings <list> (comma separated, without whitespaces)","Disables transformation of string literals, which being matched by passed RegExp patterns (comma separated)",g.ArraySanitizer).option("--rename-globals <boolean>","Allows to enable obfuscation of global variable and function names with declaration.",y.BooleanSanitizer).option("--rotate-string-array <boolean>","Enable rotation of string array values during obfuscation",y.BooleanSanitizer).option("--seed <string|number>","Sets seed for random generator. This is useful for creating repeatable results.",parseFloat).option("--self-defending <boolean>","Disables self-defending for obfuscated code",y.BooleanSanitizer).option("--shuffle-string-array <boolean>","Randomly shuffles string array items",y.BooleanSanitizer).option("--source-map <boolean>","Enables source map generation",y.BooleanSanitizer).option("--source-map-base-url <string>","Sets base url to the source map import url when `--source-map-mode=separate`").option("--source-map-file-name <string>","Sets file name for output source map when `--source-map-mode=separate`").option("--source-map-mode <string>","Specify source map output mode. Values: inline, separate. Default: separate",b.SourceMapModeSanitizer).option("--split-strings <boolean>","Splits literal strings into chunks with length of `splitStringsChunkLength` option value",y.BooleanSanitizer).option("--split-strings-chunk-length <number>","Sets chunk length of `splitStrings` option",parseFloat).option("--string-array <boolean>","Disables gathering of all literal strings into an array and replacing every literal string with an array call",y.BooleanSanitizer).option("--string-array-encoding <string|boolean>","Encodes all strings in strings array using base64 or rc4 (this option can slow down your code speed. Values: true, false, base64, rc4. Default: false",v.StringArrayEncodingSanitizer).option("--string-array-threshold <number>","The probability that the literal string will be inserted into stringArray (Default: 0.8, Min: 0, Max: 1)",parseFloat).option("--target <string>","Allows to set target environment for obfuscated code. Values: browser, browser-no-eval, node. Default: browser",N.ObfuscationTargetSanitizer).option("--transform-object-keys <boolean>","Enables transformation of object keys",y.BooleanSanitizer).option("--unicode-escape-sequence <boolean>","Allows to enable/disable string conversion to unicode escape sequence",y.BooleanSanitizer).parse(this.rawArguments)}configureHelp(){this.commands.on("--help",()=>{console.log("  Examples:\n"),console.log("    %> javascript-obfuscator input_file_name.js --compact true --self-defending false"),console.log("    %> javascript-obfuscator input_file_name.js --output output_file_name.js --compact true --self-defending false"),console.log("    %> javascript-obfuscator input_directory_name --compact true --self-defending false"),console.log("")})}processSourceCodeData(e){e.forEach(({filePath:e,content:t},o)=>{const r=this.obfuscatedCodeWriter.getOutputCodePath(e);this.processSourceCode(t,e,r,o)})}processSourceCode(e,t,o,r){var n;let i=C.buildOptions(this.inputCLIOptions,t);if(null!==r){const e=`${null!==(n=this.inputCLIOptions.identifiersPrefix)&&void 0!==n?n:C.baseIdentifiersPrefix}${r}`;i=Object.assign(Object.assign({},i),{identifiersPrefix:e})}i.sourceMap?this.processSourceCodeWithSourceMap(e,o,i):this.processSourceCodeWithoutSourceMap(e,o,i)}processSourceCodeWithoutSourceMap(e,t,o){const r=S.JavaScriptObfuscator.obfuscate(e,o).getObfuscatedCode();this.obfuscatedCodeWriter.writeFile(t,r)}processSourceCodeWithSourceMap(e,t,o){var r;const n=this.obfuscatedCodeWriter.getOutputSourceMapPath(t,null!==(r=o.sourceMapFileName)&&void 0!==r?r:"");o=Object.assign(Object.assign({},o),{sourceMapFileName:u.basename(n)});const i=S.JavaScriptObfuscator.obfuscate(e,o);this.obfuscatedCodeWriter.writeFile(t,i.getObfuscatedCode()),"separate"===o.sourceMapMode&&i.getSourceMap()&&this.obfuscatedCodeWriter.writeFile(n,i.getSourceMap())}}C.encoding="utf8",C.obfuscatedFilePrefix="-obfuscated",C.baseIdentifiersPrefix="a",s([p.initializable(),c("design:type","function"==typeof(r=void 0!==l&&l.CommanderStatic)?r:Object)],C.prototype,"commands",void 0),s([p.initializable(),c("design:type","function"==typeof(n=void 0!==f.TInputCLIOptions&&f.TInputCLIOptions)?n:Object)],C.prototype,"inputCLIOptions",void 0),s([p.initializable(),c("design:type",String)],C.prototype,"inputPath",void 0),s([p.initializable(),c("design:type","function"==typeof(i=void 0!==j.SourceCodeReader&&j.SourceCodeReader)?i:Object)],C.prototype,"sourceCodeReader",void 0),s([p.initializable(),c("design:type","function"==typeof(a=void 0!==O.ObfuscatedCodeWriter&&O.ObfuscatedCodeWriter)?a:Object)],C.prototype,"obfuscatedCodeWriter",void 0),t.JavaScriptObfuscatorCLI=C},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(247);e.exports=r.JavaScriptObfuscatorCLI},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o(71);const r=o(242);t.JavaScriptObfuscatorCLI=class{static obfuscate(e){const t=new r.JavaScriptObfuscatorCLI(e);t.initialize(),t.run()}}},function(e,t){e.exports=require("commander")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArraySanitizer=e=>{if(e.endsWith(","))throw new SyntaxError("Multiple <list> values should be wrapped inside quotes: --option-name 'value1','value2'");return e.split(",").map(e=>e.trim())}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanSanitizer=e=>"true"===e||"1"===e},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(31);t.IdentifierNamesGeneratorSanitizer=e=>{if(!Object.keys(r.IdentifierNamesGenerator).some(t=>r.IdentifierNamesGenerator[t]===e))throw new ReferenceError("Invalid value of `--identifier-names-generator` option");return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(21);t.ObfuscationTargetSanitizer=e=>{if(!Object.keys(r.ObfuscationTarget).some(t=>r.ObfuscationTarget[t]===e))throw new ReferenceError("Invalid value of `--target` option");return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(32);t.SourceMapModeSanitizer=e=>{if(!Object.keys(r.SourceMapMode).some(t=>r.SourceMapMode[t]===e))throw new ReferenceError("Invalid value of `--source-map-mode` option");return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(25);t.StringArrayEncodingSanitizer=e=>{switch(e){case"true":case"1":case r.StringArrayEncoding.Base64:return!0;case r.StringArrayEncoding.Rc4:return r.StringArrayEncoding.Rc4;default:return!1}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CLIUtils=class{static getUserConfig(e){let t;try{t=o(257)(e)}catch(o){try{t=require(e)}catch(e){throw new ReferenceError("Given config path must be a valid `.js` or `.json` file path")}}return t}}},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=257},function(e,t,o){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=r(o(244)),i=r(o(259)),a=r(o(243)),s=o(41),c=o(242);t.ObfuscatedCodeWriter=class{constructor(e,t){this.inputPath=e,this.options=t}getOutputCodePath(e){const t=this.options.output?a.normalize(this.options.output):null;if(!t)return a.normalize(e).split(s.StringSeparator.Dot).map((e,t)=>0===t?`${e}${c.JavaScriptObfuscatorCLI.obfuscatedFilePrefix}`:e).join(s.StringSeparator.Dot);const o=n.lstatSync(this.inputPath).isDirectory(),r=""===a.extname(t);if(o){if(r)return a.join(t,e);throw new Error("Output path for directory obfuscation should be a directory path")}return r?a.join(t,a.basename(e)):t}getOutputSourceMapPath(e,t=""){return t&&(e=`${e.substring(0,e.lastIndexOf("/"))}/${t}`),/\.js\.map$/.test(e)?/\.js$/.test(e)&&(e+=".map"):e=`${e.split(s.StringSeparator.Dot)[0]}.js.map`,e}writeFile(e,t){i.sync(a.dirname(e)),n.writeFileSync(e,t,{encoding:c.JavaScriptObfuscatorCLI.encoding})}}},function(e,t){e.exports=require("mkdirp")},function(e,t,o){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(o(244)),a=r(o(243)),s=n(o(261)),c=o(73),d=o(242),l=o(72);class u{constructor(e,t){this.inputPath=e,this.options=t}static isExcludedPath(e,t=[]){if(!t.length)return!1;const o=a.basename(e),r=!!s.default([e],t).length;return t.some(t=>e.includes(t)||o.includes(t))||r}static isDirectoryPath(e){try{return i.statSync(e).isDirectory()}catch(e){return!1}}static isFilePath(e){try{return i.statSync(e).isFile()}catch(e){return!1}}static isValidDirectory(e,t=[]){return!u.isExcludedPath(e,t)}static isValidFile(e,t=[]){return u.availableInputExtensions.includes(a.extname(e))&&!e.includes(d.JavaScriptObfuscatorCLI.obfuscatedFilePrefix)&&!u.isExcludedPath(e,t)}static logFilePath(e){const t=a.normalize(e);l.Logger.log(l.Logger.colorInfo,c.LoggingPrefix.CLI,`Obfuscating file: ${t}...`)}static readFile(e){return u.logFilePath(e),{filePath:e,content:i.readFileSync(e,d.JavaScriptObfuscatorCLI.encoding)}}readSourceCode(){if(u.isFilePath(this.inputPath)&&u.isValidFile(this.inputPath,this.options.exclude))return[u.readFile(this.inputPath)];if(u.isDirectoryPath(this.inputPath)&&u.isValidDirectory(this.inputPath,this.options.exclude))return this.readDirectoryRecursive(this.inputPath);const e=u.availableInputExtensions.map(e=>`\`${e}\``).join(", ");throw new ReferenceError(`Given input path must be a valid ${e} file or directory path`)}readDirectoryRecursive(e,t=[]){return i.readdirSync(e,d.JavaScriptObfuscatorCLI.encoding).forEach(o=>{const r=`${e}/${o}`;if(u.isDirectoryPath(r)&&u.isValidDirectory(r,this.options.exclude))t.push(...this.readDirectoryRecursive(r));else if(u.isFilePath(r)&&u.isValidFile(r,this.options.exclude)){const e=u.readFile(r);t.push(e)}else;}),t}}t.SourceCodeReader=u,u.availableInputExtensions=[".js"]},function(e,t){e.exports=require("multimatch")}]);
//# sourceMappingURL=index.cli.js.map