/*!
Copyright (C) 2016-2018 Timofey Kachalov <sanex3339@yandex.ru>

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

  * Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
require("source-map-support").install(),module.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=203)}([function(e,t){e.exports=require("inversify")},function(e,t){e.exports=require("tslib")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Factory__ICalleeDataExtractor="Factory<ICalleeDataExtractor>",e.Factory__IControlFlowCustomNode="Factory<IControlFlowCustomNode>",e.Factory__IControlFlowReplacer="Factory<IControlFlowReplacer>",e.Factory__ICustomNode="Factory<ICustomNode>",e.Factory__ICustomNodeGroup="Factory<ICustomNodeGroup>",e.Factory__IDeadCodeInjectionCustomNode="Factory<IDeadCodeInjectionCustomNode>",e.Factory__IIdentifierNamesGenerator="Factory<IIdentifierNamesGenerator>",e.Factory__IIdentifierObfuscatingReplacer="Factory<IIdentifierObfuscatingReplacer>",e.Factory__INodeGuard="Factory<INodeGuard>",e.Factory__INodeTransformer="Factory<INodeTransformer[]>",e.Factory__IObfuscatedCode="Factory<IObfuscatedCode>",e.Factory__IObfuscatingReplacer="Factory<IObfuscatingReplacer>",e.Factory__IObjectExpressionKeysTransformerCustomNode="Factory<IObjectExpressionKeysTransformerCustomNode>",e.Factory__IPropertiesExtractor="Factory<IPropertiesExtractor>",e.Factory__TControlFlowStorage="Factory<TControlFlowStorage>",e.IArrayUtils="IArrayUtils",e.ICalleeDataExtractor="ICalleeDataExtractor",e.ICryptUtils="ICryptUtils",e.ICustomNode="ICustomNode",e.ICustomNodeGroup="ICustomNodeGroup",e.IControlFlowReplacer="IControlFlowReplacer",e.IEscapeSequenceEncoder="IEscapeSequenceEncoder",e.IIdentifierNamesGenerator="IIdentifierNamesGenerator",e.IIdentifierObfuscatingReplacer="IIdentifierObfuscatingReplacer",e.IJavaScriptObfuscator="IJavaScriptObfuscator",e.ILevelledTopologicalSorter="ILevelledTopologicalSorter",e.ILogger="ILogger",e.INodeGuard="INodeGuard",e.INodeTransformer="INodeTransformer",e.INodeTransformerNamesGroupsBuilder="INodeTransformerNamesGroupsBuilder",e.IObfuscationEventEmitter="IObfuscationEventEmitter",e.IObfuscatedCode="IObfuscatedCode",e.IOptions="IOptions",e.IOptionsNormalizer="IOptionsNormalizer",e.IObfuscatingReplacer="IObfuscatingReplacer",e.IPropertiesExtractor="IPropertiesExtractor",e.IRandomGenerator="IRandomGenerator",e.ISourceCode="ISourceCode",e.ISourceMapCorrector="ISourceMapCorrector",e.IStackTraceAnalyzer="IStackTraceAnalyzer",e.ITransformersRunner="ITransformersRunner",e.Newable__ICustomNode="Newable<ICustomNode>",e.Newable__TControlFlowStorage="Newable<TControlFlowStorage>",e.TCustomNodeGroupStorage="TCustomNodeGroupStorage",e.TInputOptions="TInputOptions",e.TStringArrayStorage="TStringArrayStorage"}(t.ServiceIdentifiers||(t.ServiceIdentifiers={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(13);class n{static isArrayPatternNode(e){return e.type===o.NodeType.ArrayPattern}static isArrowFunctionExpressionNode(e){return e.type===o.NodeType.ArrowFunctionExpression}static isAssignmentPatternNode(e){return e.type===o.NodeType.AssignmentPattern}static isAwaitExpressionNode(e){return e.type===o.NodeType.AwaitExpression}static isBlockStatementNode(e){return e.type===o.NodeType.BlockStatement}static isBreakStatementNode(e){return e.type===o.NodeType.BreakStatement}static isCallExpressionNode(e){return e.type===o.NodeType.CallExpression}static isCatchClauseNode(e){return e.type===o.NodeType.CatchClause}static isClassDeclarationNode(e){return e.type===o.NodeType.ClassDeclaration&&null!==e.id}static isContinueStatementNode(e){return e.type===o.NodeType.ContinueStatement}static isDirectiveNode(e){return e.type===o.NodeType.ExpressionStatement&&"directive"in e}static isExportNamedDeclarationNode(e){return e.type===o.NodeType.ExportNamedDeclaration}static isExpressionStatementNode(e){return e.type===o.NodeType.ExpressionStatement&&!("directive"in e)}static isForStatementTypeNode(e){return n.isForStatementNode(e)||n.isForInStatementNode(e)||n.isForOfStatementNode(e)}static isForStatementNode(e){return e.type===o.NodeType.ForStatement}static isForInStatementNode(e){return e.type===o.NodeType.ForInStatement}static isForOfStatementNode(e){return e.type===o.NodeType.ForOfStatement}static isFunctionNode(e){return n.isFunctionDeclarationNode(e)||n.isFunctionExpressionNode(e)||n.isArrowFunctionExpressionNode(e)}static isFunctionDeclarationNode(e){return e.type===o.NodeType.FunctionDeclaration&&null!==e.id}static isFunctionExpressionNode(e){return e.type===o.NodeType.FunctionExpression}static isIdentifierNode(e){return e.type===o.NodeType.Identifier}static isIfStatementNode(e){return e.type===o.NodeType.IfStatement}static isImportDeclarationNode(e){return e.type===o.NodeType.ImportDeclaration}static isImportSpecifierNode(e){return e.type===o.NodeType.ImportSpecifier}static isLabelIdentifierNode(e,t){const r=n.isLabeledStatementNode(t)&&t.label===e,o=n.isContinueStatementNode(t)&&t.label===e,a=n.isBreakStatementNode(t)&&t.label===e;return r||o||a}static isLabeledStatementNode(e){return e.type===o.NodeType.LabeledStatement}static isLiteralNode(e){return e.type===o.NodeType.Literal}static isMemberExpressionNode(e){return e.type===o.NodeType.MemberExpression}static isMethodDefinitionNode(e){return e.type===o.NodeType.MethodDefinition}static isNode(e){return e&&void 0!==!e.type}static isNodeWithLexicalScope(e){return n.isProgramNode(e)||n.isFunctionNode(e)}static isNodeWithBlockLexicalScope(e){return n.isNodeWithLexicalScope(e)||n.isBlockStatementNode(e)}static isNodeWithLexicalScopeStatements(e,t){return n.isProgramNode(e)||n.isBlockStatementNode(e)&&n.nodesWithLexicalStatements.includes(t.type)}static isNodeWithStatements(e){return n.isProgramNode(e)||n.isBlockStatementNode(e)||n.isSwitchCaseNode(e)}static isNodeWithComments(e){return Boolean(e.leadingComments)||Boolean(e.trailingComments)}static isObjectPatternNode(e){return e.type===o.NodeType.ObjectPattern}static isObjectExpressionNode(e){return e.type===o.NodeType.ObjectExpression}static isProgramNode(e){return e.type===o.NodeType.Program}static isPropertyNode(e){return e.type===o.NodeType.Property}static parentNodeIsPropertyNode(e,t){return n.isPropertyNode(t)&&!t.computed&&t.key===e}static parentNodeIsMemberExpressionNode(e,t){return n.isMemberExpressionNode(t)&&!t.computed&&t.property===e}static parentNodeIsMethodDefinitionNode(e,t){return n.isMethodDefinitionNode(t)&&!t.computed}static isReplaceableIdentifierNode(e,t){return n.isIdentifierNode(e)&&!n.parentNodeIsPropertyNode(e,t)&&!n.parentNodeIsMemberExpressionNode(e,t)&&!n.parentNodeIsMethodDefinitionNode(e,t)&&!n.isLabelIdentifierNode(e,t)}static isRestElementNode(e){return e.type===o.NodeType.RestElement}static isReturnStatementNode(e){return e.type===o.NodeType.ReturnStatement}static isSuperNode(e){return e.type===o.NodeType.Super}static isSwitchCaseNode(e){return e.type===o.NodeType.SwitchCase}static isTaggedTemplateExpressionNode(e){return e.type===o.NodeType.TaggedTemplateExpression}static isTemplateLiteralNode(e){return e.type===o.NodeType.TemplateLiteral}static isUnaryExpressionNode(e){return e.type===o.NodeType.UnaryExpression}static isUseStrictOperator(e){return n.isDirectiveNode(e)&&"use strict"===e.directive}static isVariableDeclarationNode(e){return e.type===o.NodeType.VariableDeclaration}static isVariableDeclaratorNode(e){return e.type===o.NodeType.VariableDeclarator}static isWhileStatementNode(e){return e.type===o.NodeType.WhileStatement}}t.NodeGuards=n,n.nodesWithLexicalStatements=[o.NodeType.ArrowFunctionExpression,o.NodeType.FunctionDeclaration,o.NodeType.FunctionExpression,o.NodeType.MethodDefinition]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={configurable:!0,enumerable:!0};function n(e,t,r){Reflect.hasMetadata(e,r)||Reflect.defineMetadata(e,t,r)}t.initializable=function(e="initialize"){const t=Object.keys(this)[0];return(r,a)=>{const i=r[e];if(!i||"function"!=typeof i)throw new Error(`\`${e}\` method with initialization logic not `+`found. \`@${t}\` decorator requires \`${e}\` method`);return n("_initialized",!1,r),n("_initializablePropertiesSet",new Set,r),n("_wrappedMethodsSet",new Set,r),function(e,t){const r=Object.getOwnPropertyNames(e),n=[t,"constructor"];r.forEach(r=>{const a=Reflect.getMetadata("_initializablePropertiesSet",e),i=Reflect.getMetadata("_wrappedMethodsSet",e);if(n.includes(r)||a.has(r)||i.has(r))return;if("function"!=typeof e[r])return;const s=Object.getOwnPropertyDescriptor(e,r)||o,c=s.value;Object.defineProperty(e,r,Object.assign(Object.assign({},s),{value:function(){if(!Reflect.getMetadata("_initialized",this))throw new Error(`Class should be initialized with \`${t}()\` method`);return c.apply(this,arguments)}})),i.add(r)})}(r,e),function(e,t,r){const n=Object.getOwnPropertyDescriptor(e,t)||o,a=n.value;Object.defineProperty(e,t,Object.assign(Object.assign({},n),{value:function(){Reflect.defineMetadata("_initialized",!0,this);const e=a.apply(this,arguments);return this[r],e}}))}(r,e,a),function(e,t){Reflect.getMetadata("_initializablePropertiesSet",e).add(t);const r=`_${t.toString()}`,n=Object.getOwnPropertyDescriptor(e,r)||o;return Object.defineProperty(e,t,Object.assign(Object.assign({},n),{get:function(){if(void 0===this[r])throw new Error(`Property \`${t.toString()}\` is not initialized! Initialize it first!`);return this[r]},set:function(e){this[r]=e}})),n}(r,a)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=o.__importStar(r(36)),a=o.__importStar(r(45)),i=o.__importStar(r(10)),s=r(3),c=r(11);class d{static addXVerbatimPropertyTo(e){return e["x-verbatim-property"]={content:e.raw,precedence:n.Precedence.Primary},e}static clone(e){return d.parentizeAst(d.cloneRecursive(e))}static convertCodeToStructure(e){const t=a.parse(e,{sourceType:"script"});return i.replace(t,{enter:(e,t)=>(d.parentizeNode(e,t),s.NodeGuards.isLiteralNode(e)&&d.addXVerbatimPropertyTo(e),c.NodeMetadata.set(e,{ignoredNode:!1}),e)}),t.body}static convertStructureToCode(e){return e.reduce((e,t)=>e+n.generate(t,{sourceMapWithCode:!0}).code,"")}static getUnaryExpressionArgumentNode(e){return s.NodeGuards.isUnaryExpressionNode(e.argument)?d.getUnaryExpressionArgumentNode(e.argument):e.argument}static parentizeAst(e){return i.replace(e,{enter:d.parentizeNode}),e}static parentizeNode(e,t){return e.parentNode=t||e,e}static cloneRecursive(e){if(null===e)return e;const t={};return Object.keys(e).forEach(r=>{if("parentNode"===r)return;const o=e[r];let n;n=null===o||o instanceof RegExp?o:Array.isArray(o)?o.map(d.cloneRecursive):"object"==typeof o?d.cloneRecursive(o):o,t[r]=n}),t}}t.NodeUtils=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initializing="Initializing",e.Preparing="Preparing",e.DeadCodeInjection="DeadCodeInjection",e.ControlFlowFlattening="ControlFlowFlattening",e.Converting="Converting",e.Obfuscating="Obfuscating",e.Finalizing="Finalizing"}(t.TransformationStage||(t.TransformationStage={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2);let i=class{constructor(e,t){this.randomGenerator=e,this.options=t}};i=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],i),t.AbstractNodeTransformer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1).__importStar(r(36)),n=r(13);class a{static programNode(e=[]){return{type:n.NodeType.Program,body:e,sourceType:"script",metadata:{ignoredNode:!1}}}static arrayExpressionNode(e=[]){return{type:n.NodeType.ArrayExpression,elements:e,metadata:{ignoredNode:!1}}}static assignmentExpressionNode(e,t,r){return{type:n.NodeType.AssignmentExpression,operator:e,left:t,right:r,metadata:{ignoredNode:!1}}}static binaryExpressionNode(e,t,r){return{type:n.NodeType.BinaryExpression,operator:e,left:t,right:r,metadata:{ignoredNode:!1}}}static blockStatementNode(e=[]){return{type:n.NodeType.BlockStatement,body:e,metadata:{ignoredNode:!1}}}static breakStatement(e){return{type:n.NodeType.BreakStatement,label:e,metadata:{ignoredNode:!1}}}static callExpressionNode(e,t=[]){return{type:n.NodeType.CallExpression,callee:e,arguments:t,metadata:{ignoredNode:!1}}}static continueStatement(e){return{type:n.NodeType.ContinueStatement,label:e,metadata:{ignoredNode:!1}}}static directiveNode(e,t){return{type:n.NodeType.ExpressionStatement,expression:e,directive:t,metadata:{ignoredNode:!1}}}static expressionStatementNode(e){return{type:n.NodeType.ExpressionStatement,expression:e,metadata:{ignoredNode:!1}}}static functionDeclarationNode(e,t,r){return{type:n.NodeType.FunctionDeclaration,id:a.identifierNode(e),params:t,body:r,generator:!1,metadata:{ignoredNode:!1}}}static functionExpressionNode(e,t){return{type:n.NodeType.FunctionExpression,params:e,body:t,generator:!1,metadata:{ignoredNode:!1}}}static ifStatementNode(e,t,r){return Object.assign(Object.assign({type:n.NodeType.IfStatement,test:e,consequent:t},r&&{alternate:r}),{metadata:{ignoredNode:!1}})}static identifierNode(e){return{type:n.NodeType.Identifier,name:e,metadata:{ignoredNode:!1}}}static literalNode(e,t){return t=void 0!==t?t:`'${e}'`,{type:n.NodeType.Literal,value:e,raw:t,"x-verbatim-property":{content:t,precedence:o.Precedence.Primary},metadata:{ignoredNode:!1}}}static logicalExpressionNode(e,t,r){return{type:n.NodeType.LogicalExpression,operator:e,left:t,right:r,metadata:{ignoredNode:!1}}}static memberExpressionNode(e,t,r=!1){return{type:n.NodeType.MemberExpression,computed:r,object:e,property:t,metadata:{ignoredNode:!1}}}static methodDefinitionNode(e,t,r,o){return{type:n.NodeType.MethodDefinition,key:e,value:t,kind:r,computed:o,static:!1,metadata:{ignoredNode:!1}}}static objectExpressionNode(e){return{type:n.NodeType.ObjectExpression,properties:e,metadata:{ignoredNode:!1}}}static propertyNode(e,t,r=!1){return{type:n.NodeType.Property,key:e,value:t,kind:"init",method:!1,shorthand:!1,computed:r,metadata:{ignoredNode:!1}}}static returnStatementNode(e){return{type:n.NodeType.ReturnStatement,argument:e,metadata:{ignoredNode:!1}}}static switchStatementNode(e,t){return{type:n.NodeType.SwitchStatement,discriminant:e,cases:t,metadata:{ignoredNode:!1}}}static switchCaseNode(e,t){return{type:n.NodeType.SwitchCase,test:e,consequent:t,metadata:{ignoredNode:!1}}}static unaryExpressionNode(e,t,r=!0){return{type:n.NodeType.UnaryExpression,operator:e,argument:t,prefix:r,metadata:{ignoredNode:!1}}}static updateExpressionNode(e,t){return{type:n.NodeType.UpdateExpression,operator:e,argument:t,prefix:!1,metadata:{ignoredNode:!1}}}static variableDeclarationNode(e=[],t="var"){return{type:n.NodeType.VariableDeclaration,declarations:e,kind:t,metadata:{ignoredNode:!1}}}static variableDeclaratorNode(e,t){return{type:n.NodeType.VariableDeclarator,id:e,init:t,metadata:{ignoredNode:!1}}}static whileStatementNode(e,t){return{type:n.NodeType.WhileStatement,test:e,body:t,metadata:{ignoredNode:!1}}}}t.NodeFactory=a},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(89),c=r(90);let d=o=class{constructor(e,t,r){this.cachedNode=null,this.identifierNamesGenerator=e(r),this.randomGenerator=t,this.options=r}getNode(){return this.cachedNode||(this.cachedNode=this.getNodeStructure()),this.cachedNode}getGlobalVariableTemplate(){return this.randomGenerator.getRandomGenerator().pickone(o.globalVariableTemplateFunctions)}};d.globalVariableTemplateFunctions=[s.GlobalVariableTemplate1(),c.GlobalVariableTemplate2()],d=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],d),t.AbstractCustomNode=d},function(e,t){e.exports=require("estraverse")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{static set(e,t){e.metadata=Object.assign(e.metadata||{},t)}static get(e,t){return void 0!==e.metadata?e.metadata[t]:void 0}static isIgnoredNode(e){return!0===o.get(e,"ignoredNode")}static isRenamedIdentifier(e){return!0===o.get(e,"renamedIdentifier")}static isReplacedLiteral(e){return!0===o.get(e,"replacedLiteral")}}t.NodeMetadata=o},function(e,t){e.exports=require("string-template")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ArrayExpression="ArrayExpression",e.ArrayPattern="ArrayPattern",e.ArrowFunctionExpression="ArrowFunctionExpression",e.AssignmentExpression="AssignmentExpression",e.AssignmentPattern="AssignmentPattern",e.AwaitExpression="AwaitExpression",e.BinaryExpression="BinaryExpression",e.BlockStatement="BlockStatement",e.BreakStatement="BreakStatement",e.CallExpression="CallExpression",e.CatchClause="CatchClause",e.ClassDeclaration="ClassDeclaration",e.ContinueStatement="ContinueStatement",e.ExportNamedDeclaration="ExportNamedDeclaration",e.ExpressionStatement="ExpressionStatement",e.ForStatement="ForStatement",e.ForInStatement="ForInStatement",e.ForOfStatement="ForOfStatement",e.FunctionDeclaration="FunctionDeclaration",e.FunctionExpression="FunctionExpression",e.Identifier="Identifier",e.IfStatement="IfStatement",e.ImportDeclaration="ImportDeclaration",e.ImportDefaultSpecifier="ImportDefaultSpecifier",e.ImportNamespaceSpecifier="ImportNamespaceSpecifier",e.ImportSpecifier="ImportSpecifier",e.LabeledStatement="LabeledStatement",e.Literal="Literal",e.LogicalExpression="LogicalExpression",e.MemberExpression="MemberExpression",e.MethodDefinition="MethodDefinition",e.ObjectExpression="ObjectExpression",e.ObjectPattern="ObjectPattern",e.Program="Program",e.Property="Property",e.RestElement="RestElement",e.ReturnStatement="ReturnStatement",e.Super="Super",e.SwitchCase="SwitchCase",e.SwitchStatement="SwitchStatement",e.TaggedTemplateExpression="TaggedTemplateExpression",e.TemplateLiteral="TemplateLiteral",e.TryStatement="TryStatement",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.VariableDeclaration="VariableDeclaration",e.VariableDeclarator="VariableDeclarator",e.WhileStatement="WhileStatement"}(t.NodeType||(t.NodeType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BaseIdentifierObfuscatingReplacer="BaseIdentifierObfuscatingReplacer"}(t.IdentifierObfuscatingReplacer||(t.IdentifierObfuscatingReplacer={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),n=r(2),a=r(59),i=r(64),s=r(72),c=r(82),d=r(129),l=r(130),u=r(134),p=r(135),m=r(149),f=r(167),N=r(178),g=r(183),_=r(191),h=r(57),b=r(194),y=r(196),S=r(197),I=r(198);t.InversifyContainerFacade=class{constructor(){this.container=new o.Container}static getFactory(e){return t=>r=>t.container.getNamed(e,r)}static getCacheFactory(e){return t=>{const r=new Map;return o=>{if(r.has(o))return r.get(o);const n=t.container.getNamed(e,o);return r.set(o,n),n}}}static getConstructorFactory(e,...t){return r=>{const o=new Map,n=[];return a=>{if(t.forEach((e,t)=>{n[t]||(n[t]=r.container.get(e))}),o.has(a))return new(o.get(a))(...n);const i=r.container.getNamed(e,a);return o.set(a,i),new i(...n)}}}get(e){return this.container.get(e)}getNamed(e,t){return this.container.getNamed(e,t)}load(e,t,r){this.container.bind(n.ServiceIdentifiers.ISourceCode).toDynamicValue(()=>new S.SourceCode(e,t)).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.TInputOptions).toDynamicValue(()=>r).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.ILogger).to(h.Logger).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.IJavaScriptObfuscator).to(_.JavaScriptObfuscator).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.ITransformersRunner).to(I.TransformersRunner).inSingletonScope(),this.container.bind(n.ServiceIdentifiers.IObfuscatedCode).to(y.ObfuscatedCode),this.container.bind(n.ServiceIdentifiers.Factory__IObfuscatedCode).toFactory(e=>(t,r)=>{const o=e.container.get(n.ServiceIdentifiers.IObfuscatedCode);return o.initialize(t,r),o}),this.container.bind(n.ServiceIdentifiers.IObfuscationEventEmitter).to(b.ObfuscationEventEmitter).inSingletonScope(),this.container.load(a.analyzersModule),this.container.load(i.controlFlowTransformersModule),this.container.load(s.convertingTransformersModule),this.container.load(c.customNodesModule),this.container.load(d.finalizingTransformersModule),this.container.load(l.generatorsModule),this.container.load(u.nodeTransformersModule),this.container.load(p.obfuscatingTransformersModule),this.container.load(m.optionsModule),this.container.load(f.preparingTransformersModule),this.container.load(N.storagesModule),this.container.load(g.utilsModule)}unload(){this.container.unbindAll()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BinaryExpressionFunctionNode="BinaryExpressionFunctionNode",e.BlockStatementControlFlowFlatteningNode="BlockStatementControlFlowFlatteningNode",e.CallExpressionControlFlowStorageCallNode="CallExpressionControlFlowStorageCallNode",e.CallExpressionFunctionNode="CallExpressionFunctionNode",e.ControlFlowStorageNode="ControlFlowStorageNode",e.ExpressionWithOperatorControlFlowStorageCallNode="ExpressionWithOperatorControlFlowStorageCallNode",e.LogicalExpressionFunctionNode="LogicalExpressionFunctionNode",e.StringLiteralControlFlowStorageCallNode="StringLiteralControlFlowStorageCallNode",e.StringLiteralNode="StringLiteralNode"}(t.ControlFlowCustomNode||(t.ControlFlowCustomNode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);class n{static append(e,t){t=n.parentizeScopeStatementsBeforeAppend(e,t),n.setScopeStatements(e,[...n.getScopeStatements(e),...t])}static appendToOptimalBlockScope(e,t,r,o=0){const a=e.length?n.getOptimalBlockScope(e,o):t;n.prepend(a,r)}static getOptimalBlockScope(e,t,r=1/0){const o=e[t];if(r<=0)throw new Error("Invalid `deep` argument value. Value should be bigger then 0.");return r>1&&o.stackTrace.length?n.getOptimalBlockScope(o.stackTrace,0,--r):o.callee}static insertBefore(e,t,r){const o=n.getScopeStatements(e).indexOf(r);n.insertAtIndex(e,t,o)}static insertAfter(e,t,r){const o=n.getScopeStatements(e).indexOf(r);n.insertAtIndex(e,t,o+1)}static insertAtIndex(e,t,r){t=n.parentizeScopeStatementsBeforeAppend(e,t),n.setScopeStatements(e,[...n.getScopeStatements(e).slice(0,r),...t,...n.getScopeStatements(e).slice(r)])}static prepend(e,t){t=n.parentizeScopeStatementsBeforeAppend(e,t),n.setScopeStatements(e,[...t,...n.getScopeStatements(e)])}static getScopeStatements(e){return o.NodeGuards.isSwitchCaseNode(e)?e.consequent:e.body}static parentizeScopeStatementsBeforeAppend(e,t){return t.forEach(t=>{t.parentNode=e}),t}static setScopeStatements(e,t){o.NodeGuards.isSwitchCaseNode(e)?e.consequent=t:e.body=t}}t.NodeAppender=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(30);t.ObfuscationTarget=o.MakeEnum({Browser:"browser",BrowserNoEval:"browser-no-eval",Node:"node"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);class n{static getParentNodeWithStatements(e){return n.getParentNodesWithStatementsRecursive(e,1)[0]}static getParentNodesWithStatements(e){return n.getParentNodesWithStatementsRecursive(e)}static getNextSiblingStatement(e){return n.getSiblingStatementByOffset(e,1)}static getPreviousSiblingStatement(e){return n.getSiblingStatementByOffset(e,-1)}static getRootStatementOfNode(e){if(o.NodeGuards.isProgramNode(e))throw new Error("Unable to find root statement for `Program` node");const t=e.parentNode;if(!t)throw new ReferenceError("`parentNode` property of given node is `undefined`");return o.NodeGuards.isNodeWithStatements(t)?e:n.getRootStatementOfNode(t)}static getScopeOfNode(e){const t=e.parentNode;if(!t)throw new ReferenceError("`parentNode` property of given node is `undefined`");return o.NodeGuards.isNodeWithStatements(t)?t:n.getScopeOfNode(t)}static getParentNodesWithStatementsRecursive(e,t=1/0,r=[],a=0){if(r.length>=t)return r;const i=e.parentNode;if(!i)throw new ReferenceError("`parentNode` property of given node is `undefined`");return(o.NodeGuards.isProgramNode(e)||o.NodeGuards.isNodeWithLexicalScopeStatements(e,i)&&a>0)&&r.push(e),e!==i?n.getParentNodesWithStatementsRecursive(i,t,r,++a):r}static getSiblingStatementByOffset(e,t){const r=n.getScopeOfNode(e),a=o.NodeGuards.isSwitchCaseNode(r)?r.consequent:r.body,i=a.indexOf(e);return a[i+t]||null}}t.NodeStatementUtils=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlockStatementControlFlowTransformer="BlockStatementControlFlowTransformer",e.ClassDeclarationTransformer="ClassDeclarationTransformer",e.CommentsTransformer="CommentsTransformer",e.CustomNodesTransformer="CustomNodesTransformer",e.DeadCodeInjectionTransformer="DeadCodeInjectionTransformer",e.EvalCallExpressionTransformer="EvalCallExpressionTransformer",e.FunctionControlFlowTransformer="FunctionControlFlowTransformer",e.CatchClauseTransformer="CatchClauseTransformer",e.FunctionDeclarationTransformer="FunctionDeclarationTransformer",e.FunctionTransformer="FunctionTransformer",e.ImportDeclarationTransformer="ImportDeclarationTransformer",e.LabeledStatementTransformer="LabeledStatementTransformer",e.LiteralTransformer="LiteralTransformer",e.MemberExpressionTransformer="MemberExpressionTransformer",e.MetadataTransformer="MetadataTransformer",e.MethodDefinitionTransformer="MethodDefinitionTransformer",e.ObfuscatingGuardsTransformer="ObfuscatingGuardsTransformer",e.ObjectExpressionKeysTransformer="ObjectExpressionKeysTransformer",e.ObjectExpressionTransformer="ObjectExpressionTransformer",e.ParentificationTransformer="ParentificationTransformer",e.SplitStringTransformer="SplitStringTransformer",e.TemplateLiteralTransformer="TemplateLiteralTransformer",e.VariableDeclarationTransformer="VariableDeclarationTransformer",e.VariablePreserveTransformer="VariablePreserveTransformer"}(t.NodeTransformer||(t.NodeTransformer={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AfterObfuscation="afterObfuscation",e.BeforeObfuscation="beforeObfuscation"}(t.ObfuscationEvent||(t.ObfuscationEvent={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);class n{static getLexicalScope(e){return n.getLexicalScopesRecursive(e,1)[0]}static getLexicalScopes(e){return n.getLexicalScopesRecursive(e)}static getLexicalScopesRecursive(e,t=1/0,r=[],a=0){if(r.length>=t)return r;const i=e.parentNode;if(!i)throw new ReferenceError("`parentNode` property of given node is `undefined`");return o.NodeGuards.isNodeWithLexicalScope(e)&&r.push(e),e!==i?n.getLexicalScopesRecursive(i,t,r,++a):r}}t.NodeLexicalScopeUtils=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ConsoleOutputDisableExpressionNode="ConsoleOutputDisableExpressionNode",e.DebugProtectionFunctionCallNode="DebugProtectionFunctionCallNode",e.DebugProtectionFunctionIntervalNode="DebugProtectionFunctionIntervalNode",e.DebugProtectionFunctionNode="DebugProtectionFunctionNode",e.DomainLockNode="DomainLockNode",e.NodeCallsControllerFunctionNode="NodeCallsControllerFunctionNode",e.SelfDefendingUnicodeNode="SelfDefendingUnicodeNode",e.StringArrayCallsWrapper="StringArrayCallsWrapper",e.StringArrayNode="StringArrayNode",e.StringArrayRotateFunctionNode="StringArrayRotateFunctionNode"}(t.CustomNode||(t.CustomNode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(56);const o=r(2),n=r(15);class a{static obfuscate(e,t={}){const r=new n.InversifyContainerFacade;r.load(e,"",t);const a=r.get(o.ServiceIdentifiers.IJavaScriptObfuscator).obfuscate(e);return r.unload(),a}}t.JavaScriptObfuscator=a,a.version="0.21.0"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2);let i=class{constructor(e,t,r){this.identifierNamesGenerator=e(r),this.randomGenerator=t,this.options=r}getAppendEvent(){return this.appendEvent}getCustomNodes(){return this.customNodes}appendCustomNodeIfExist(e,t){const r=this.customNodes.get(e);r&&t(r)}getRandomStackTraceIndex(e){return this.randomGenerator.getRandomInteger(0,Math.max(0,Math.round(e-1)))}};i=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],i),t.AbstractCustomNodeGroup=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{static extractDomainFrom(e){let t;return t=e.indexOf("://")>-1||0===e.indexOf("//")?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0],t}}t.Utils=o,o.hexadecimalPrefix="0x"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(30);t.IdentifierNamesGenerator=o.MakeEnum({DictionaryIdentifierNamesGenerator:"dictionary",HexadecimalIdentifierNamesGenerator:"hexadecimal",MangledIdentifierNamesGenerator:"mangled"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(30);t.SourceMapMode=o.MakeEnum({Inline:"inline",Separate:"separate"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(30);t.StringArrayEncoding=o.MakeEnum({Base64:"base64",Rc4:"rc4"})},function(e,t){e.exports=require("@gradecam/tsenum")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(27),n=r(18),a=r(28);t.NO_ADDITIONAL_NODES_PRESET=Object.freeze({compact:!0,controlFlowFlattening:!1,controlFlowFlatteningThreshold:0,deadCodeInjection:!1,deadCodeInjectionThreshold:0,debugProtection:!1,debugProtectionInterval:!1,disableConsoleOutput:!1,domainLock:[],exclude:[],identifierNamesGenerator:o.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,identifiersPrefix:"",identifiersDictionary:[],inputFileName:"",log:!1,renameGlobals:!1,reservedNames:[],reservedStrings:[],rotateStringArray:!1,seed:0,selfDefending:!1,sourceMap:!1,sourceMapBaseUrl:"",sourceMapFileName:"",sourceMapMode:a.SourceMapMode.Separate,splitStrings:!1,splitStringsChunkLength:0,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0,target:n.ObfuscationTarget.Browser,transformObjectKeys:!1,unicodeEscapeSequence:!1})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NumberUtils=class{static toHex(e){return e.toString(16)}static isCeil(e){return e%1==0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2);let i=class{constructor(e){this.options=e}};i=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object])],i),t.AbstractObfuscatingReplacer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);let a=class{};a=o.__decorate([n.injectable()],a),t.AbstractCalleeDataExtractor=a},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2);let s=o=class{constructor(e,t,r){this.replacerDataByControlFlowStorageId=new Map,this.controlFlowCustomNodeFactory=e,this.randomGenerator=t,this.options=r}static getStorageKeysByIdForCurrentStorage(e,t){let r;return r=e.has(t)?e.get(t):new Map,r}insertCustomNodeToControlFlowStorage(e,t,r,n){const a=t.getStorageId(),i=o.getStorageKeysByIdForCurrentStorage(this.replacerDataByControlFlowStorageId,a),s=i.get(r);if(this.randomGenerator.getMathRandom()<n&&s&&s.length)return this.randomGenerator.getRandomGenerator().pickone(s);const c=e=>{const r=this.randomGenerator.getRandomString(e);return t.getStorage().has(r)?c(e):r},d=c(5);return i.set(r,[d]),this.replacerDataByControlFlowStorageId.set(a,i),t.set(d,e),d}};s=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IControlFlowCustomNode)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],s),t.AbstractControlFlowReplacer=s},function(e,t){e.exports=require("escodegen")},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(17),c=r(8),d=r(3),l=r(19);let u=o=class{constructor(e,t){this.cachedHostNodesWithStatementsMap=new Map,this.cachedHostStatementsMap=new Map,this.randomGenerator=e,this.options=t}static getPropertyNodeKeyName(e){if(!e.key)return null;const t=e.key;return d.NodeGuards.isLiteralNode(t)&&"string"==typeof t.value?t.value:d.NodeGuards.isIdentifierNode(t)?t.name:null}static isProhibitedPattern(e){return!e||d.NodeGuards.isObjectPatternNode(e)||d.NodeGuards.isArrayPatternNode(e)||d.NodeGuards.isAssignmentPatternNode(e)||d.NodeGuards.isRestElementNode(e)}extractPropertiesToExpressionStatements(e,t){const r=e.length,n=[],a=[];for(let i=0;i<r;i++){const r=e[i],s=r.value;if(o.isProhibitedPattern(s))continue;const l=o.getPropertyNodeKeyName(r);if(!l)continue;const u=!r.computed||r.computed&&!!r.key&&d.NodeGuards.isLiteralNode(r.key)?c.NodeFactory.literalNode(l):c.NodeFactory.identifierNode(l),p=c.NodeFactory.memberExpressionNode(t,u,!0),m=c.NodeFactory.expressionStatementNode(c.NodeFactory.assignmentExpressionNode("=",p,s));d.NodeGuards.isObjectExpressionNode(r.value)&&this.transformObjectExpressionNode(r.value,p),n.push(m),a.push(i)}return[n,a]}filterExtractedObjectExpressionProperties(e,t){e.properties=e.properties.filter((e,r)=>!t.includes(r))}transformObjectExpressionNode(e,t){const r=e.properties,[o,n]=this.extractPropertiesToExpressionStatements(r,t),a=this.getHostStatement(e),i=this.getHostNodeWithStatements(e,a);return this.filterExtractedObjectExpressionProperties(e,n),s.NodeAppender.insertAfter(i,o,a),e}getHostNodeWithStatements(e,t){if(this.cachedHostNodesWithStatementsMap.has(e))return this.cachedHostNodesWithStatementsMap.get(e);const r=l.NodeStatementUtils.getScopeOfNode(t);return this.cachedHostNodesWithStatementsMap.set(e,r),r}getHostStatement(e){if(this.cachedHostStatementsMap.has(e))return this.cachedHostStatementsMap.get(e);const t=l.NodeStatementUtils.getRootStatementOfNode(e);return this.cachedHostStatementsMap.set(e,t),t}};u=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],u),t.AbstractPropertiesExtractor=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableNoEvalTemplate=function(){return"\n        var that = (typeof window !== 'undefined'\n           ? window\n           : (typeof process === 'object' &&\n              typeof require === 'function' &&\n              typeof global === 'object')\n             ? global\n             : this);\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2);let i=class{constructor(e,t){this.preservedNames=[],this.randomGenerator=e,this.options=t}preserveName(e){this.preservedNames.push(e)}isValidIdentifierName(e){return this.notReservedName(e)&&!this.preservedNames.includes(e)}notReservedName(e){return!this.options.reservedNames.length||!this.options.reservedNames.some(t=>null!==new RegExp(t,"g").exec(e))}};i=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],i),t.AbstractIdentifierNamesGenerator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(27),n=r(18),a=r(28);t.DEFAULT_PRESET=Object.freeze({compact:!0,config:"",controlFlowFlattening:!1,controlFlowFlatteningThreshold:.75,deadCodeInjection:!1,deadCodeInjectionThreshold:.4,debugProtection:!1,debugProtectionInterval:!1,disableConsoleOutput:!1,domainLock:[],exclude:[],identifierNamesGenerator:o.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,identifiersPrefix:"",identifiersDictionary:[],inputFileName:"",log:!1,renameGlobals:!1,reservedNames:[],reservedStrings:[],rotateStringArray:!0,seed:0,selfDefending:!1,sourceMap:!1,sourceMapBaseUrl:"",sourceMapFileName:"",sourceMapMode:a.SourceMapMode.Separate,splitStrings:!1,splitStringsChunkLength:10,stringArray:!0,stringArrayEncoding:!1,stringArrayThreshold:.75,target:n.ObfuscationTarget.Browser,transformObjectKeys:!1,unicodeEscapeSequence:!1})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Dot="."}(t.StringSeparator||(t.StringSeparator={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.FunctionDeclarationCalleeDataExtractor="FunctionDeclarationCalleeDataExtractor",e.FunctionExpressionCalleeDataExtractor="FunctionExpressionCalleeDataExtractor",e.ObjectExpressionCalleeDataExtractor="ObjectExpressionCalleeDataExtractor"}(t.CalleeDataExtractor||(t.CalleeDataExtractor={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BinaryExpressionControlFlowReplacer="BinaryExpressionControlFlowReplacer",e.CallExpressionControlFlowReplacer="CallExpressionControlFlowReplacer",e.LogicalExpressionControlFlowReplacer="LogicalExpressionControlFlowReplacer",e.StringLiteralControlFlowReplacer="StringLiteralControlFlowReplacer"}(t.ControlFlowReplacer||(t.ControlFlowReplacer={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(16),s=r(35),c=r(3);let d=class extends s.AbstractControlFlowReplacer{constructor(e,t,r){super(e,t,r)}getControlFlowStorageCallNode(e,t,r,o){const n=this.controlFlowCustomNodeFactory(i.ControlFlowCustomNode.ExpressionWithOperatorControlFlowStorageCallNode);n.initialize(e,t,r,o);const a=n.getNode()[0];if(!a||!c.NodeGuards.isExpressionStatementNode(a))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return a.expression}};d=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IControlFlowCustomNode)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],d),t.ExpressionWithOperatorControlFlowReplacer=d},function(e,t){e.exports=require("espree")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlockStatementDeadCodeInjectionNode="BlockStatementDeadCodeInjectionNode"}(t.DeadCodeInjectionCustomNode||(t.DeadCodeInjectionCustomNode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AssignmentExpressionPropertiesExtractor="AssignmentExpressionPropertiesExtractor",e.BasePropertiesExtractor="BasePropertiesExtractor",e.VariableDeclaratorPropertiesExtractor="VariableDeclaratorPropertiesExtractor"}(t.PropertiesExtractor||(t.PropertiesExtractor={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BasePropertiesExtractorObjectExpressionHostNode="BasePropertiesExtractorObjectExpressionHostNode"}(t.ObjectExpressionKeysTransformerCustomNode||(t.ObjectExpressionKeysTransformerCustomNode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ConsoleOutputCustomNodeGroup="ConsoleOutputCustomNodeGroup",e.DebugProtectionCustomNodeGroup="DebugProtectionCustomNodeGroup",e.DomainLockCustomNodeGroup="DomainLockCustomNodeGroup",e.SelfDefendingCustomNodeGroup="SelfDefendingCustomNodeGroup",e.StringArrayCustomNodeGroup="StringArrayCustomNodeGroup"}(t.CustomNodeGroup||(t.CustomNodeGroup={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BooleanLiteralObfuscatingReplacer="BooleanLiteralObfuscatingReplacer",e.NumberLiteralObfuscatingReplacer="NumberLiteralObfuscatingReplacer",e.StringLiteralObfuscatingReplacer="StringLiteralObfuscatingReplacer"}(t.LiteralObfuscatingReplacer||(t.LiteralObfuscatingReplacer={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlackListObfuscatingGuard="BlackListObfuscatingGuard",e.ConditionalCommentObfuscatingGuard="ConditionalCommentObfuscatingGuard",e.ReservedStringObfuscatingGuard="ReservedStringObfuscatingGuard"}(t.ObfuscatingGuard||(t.ObfuscatingGuard={}))},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(3);let s=o=class{constructor(){this.obfuscationAllowedForCurrentNode=!0,this.obfuscationAllowedForNextNode=null}static isConditionalComment(e){return o.obfuscationEnableCommentRegExp.test(e.value)||o.obfuscationDisableCommentRegExp.test(e.value)}check(e){if(this.obfuscationAllowedForNextNode&&(this.obfuscationAllowedForCurrentNode=this.obfuscationAllowedForNextNode,this.obfuscationAllowedForNextNode=null),!i.NodeGuards.isNodeWithComments(e))return this.obfuscationAllowedForCurrentNode;const t=e.leadingComments,r=e.trailingComments;return t&&(this.obfuscationAllowedForCurrentNode=this.checkComments(t)),r&&(this.obfuscationAllowedForNextNode=this.checkComments(r)),this.obfuscationAllowedForCurrentNode}checkComments(e){const t=e.length;let r=this.obfuscationAllowedForCurrentNode;for(let n=0;n<t;n++){const t=e[n];o.obfuscationEnableCommentRegExp.test(t.value)?r=!0:o.obfuscationDisableCommentRegExp.test(t.value)&&(r=!1)}return r}};s.obfuscationEnableCommentRegExp=new RegExp("javascript-obfuscator *: *enable"),s.obfuscationDisableCommentRegExp=new RegExp("javascript-obfuscator *: *disable"),s=o=n.__decorate([a.injectable()],s),t.ConditionalCommentObfuscatingGuard=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4);let s=class{constructor(e,t){this.randomGenerator=e,this.options=t}initialize(){this.storage=new Map,this.storageId=this.randomGenerator.getRandomString(6)}get(e){const t=this.storage.get(e);if(!t)throw new Error(`No value found in map storage with key \`${e}\``);return t}getKeyOf(e){for(const[t,r]of this.storage)if(e===r)return t;return null}getLength(){return this.storage.size}getStorage(){return this.storage}getStorageId(){return this.storageId}has(e){return this.storage.has(e)}mergeWith(e,t=!1){this.storage=new Map([...this.storage,...e.getStorage()]),t&&(this.storageId=e.getStorageId())}set(e,t){this.storage.set(e,t)}};o.__decorate([i.initializable(),o.__metadata("design:type",String)],s.prototype,"storageId",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",Map)],s.prototype,"storage",void 0),o.__decorate([n.postConstruct(),o.__metadata("design:type",Function),o.__metadata("design:paramtypes",[]),o.__metadata("design:returntype",void 0)],s.prototype,"initialize",null),s=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],s),t.MapStorage=s},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importDefault(r(186)),c=r(187),d=r(4);let l=o=class{constructor(e,t){this.sourceCode=e,this.options=t}initialize(){this.randomGenerator=new c.Chance(this.getRawSeed())}getMathRandom(){return this.getRandomInteger(0,99999)/1e5}getRandomGenerator(){return this.randomGenerator}getRandomInteger(e,t){return this.getRandomGenerator().integer({min:e,max:t})}getRandomString(e,t=o.randomGeneratorPool){return this.getRandomGenerator().string({length:e,pool:t})}getInputSeed(){return this.options.seed.toString()}getRawSeed(){const e=this.getInputSeed();return`${e}`.split("|").length>1?e:`${e}|${s.default(this.sourceCode.getSourceCode())}`}};l.randomGeneratorPool="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n.__decorate([d.initializable(),n.__metadata("design:type",Object)],l.prototype,"randomGenerator",void 0),n.__decorate([a.postConstruct(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],l.prototype,"initialize",null),l=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.ISourceCode)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],l),t.RandomGenerator=l},function(e,t){e.exports=require("chalk")},function(e,t){e.exports=require("reflect-metadata")},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importDefault(r(55)),c=r(58);let d=o=class{constructor(e){this.options=e}static log(e,t,r,o){const n=e(`\n${t} ${r}`);console.log(n,o||"")}info(e,t){this.options.log&&o.log(o.colorInfo,c.LoggingPrefix.Base,e,t)}success(e,t){this.options.log&&o.log(o.colorSuccess,c.LoggingPrefix.Base,e,t)}warn(e,t){this.options.log&&o.log(o.colorWarn,c.LoggingPrefix.Base,e,t)}};d.colorInfo=s.default.cyan,d.colorSuccess=s.default.green,d.colorWarn=s.default.yellow,d=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object])],d),t.Logger=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Base="[javascript-obfuscator]",e.CLI="[javascript-obfuscator-cli]"}(t.LoggingPrefix||(t.LoggingPrefix={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(15),n=r(0),a=r(2),i=r(42),s=r(60),c=r(61),d=r(62),l=r(63);t.analyzersModule=new n.ContainerModule(e=>{e(a.ServiceIdentifiers.IStackTraceAnalyzer).to(l.StackTraceAnalyzer).inSingletonScope(),e(a.ServiceIdentifiers.ICalleeDataExtractor).to(s.FunctionDeclarationCalleeDataExtractor).whenTargetNamed(i.CalleeDataExtractor.FunctionDeclarationCalleeDataExtractor),e(a.ServiceIdentifiers.ICalleeDataExtractor).to(c.FunctionExpressionCalleeDataExtractor).whenTargetNamed(i.CalleeDataExtractor.FunctionExpressionCalleeDataExtractor),e(a.ServiceIdentifiers.ICalleeDataExtractor).to(d.ObjectExpressionCalleeDataExtractor).whenTargetNamed(i.CalleeDataExtractor.ObjectExpressionCalleeDataExtractor),e(a.ServiceIdentifiers.Factory__ICalleeDataExtractor).toFactory(o.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.ICalleeDataExtractor))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=o.__importStar(r(10)),i=r(34),s=r(3),c=r(19);let d=class extends i.AbstractCalleeDataExtractor{extract(e,t){if(!s.NodeGuards.isIdentifierNode(t))return null;const r=this.getCalleeBlockStatement(c.NodeStatementUtils.getParentNodeWithStatements(e[0]),t.name);return r?{callee:r,name:t.name}:null}getCalleeBlockStatement(e,t){let r=null;return a.traverse(e,{enter:e=>{if(s.NodeGuards.isFunctionDeclarationNode(e)&&e.id.name===t)return r=e.body,a.VisitorOption.Break}}),r}};d=o.__decorate([n.injectable()],d),t.FunctionDeclarationCalleeDataExtractor=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=o.__importStar(r(10)),i=r(34),s=r(3),c=r(19);let d=class extends i.AbstractCalleeDataExtractor{extract(e,t){let r=null;return s.NodeGuards.isIdentifierNode(t)&&(r=this.getCalleeBlockStatement(c.NodeStatementUtils.getParentNodeWithStatements(e[0]),t.name)),s.NodeGuards.isFunctionExpressionNode(t)&&(r=t.body),r?{callee:r,name:t.name||null}:null}getCalleeBlockStatement(e,t){let r=null;return a.traverse(e,{enter:(e,o)=>{if(s.NodeGuards.isFunctionExpressionNode(e)&&o&&s.NodeGuards.isVariableDeclaratorNode(o)&&s.NodeGuards.isIdentifierNode(o.id)&&o.id.name===t)return r=e.body,a.VisitorOption.Break}}),r}};d=o.__decorate([n.injectable()],d),t.FunctionExpressionCalleeDataExtractor=d},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=n.__importStar(r(10)),s=r(34),c=r(3),d=r(19);let l=o=class extends s.AbstractCalleeDataExtractor{static isValidTargetPropertyNode(e,t){if(!e.key)return!1;const r=c.NodeGuards.isIdentifierNode(e.key)&&e.key.name===t,o=c.NodeGuards.isLiteralNode(e.key)&&Boolean(e.key.value)&&e.key.value===t;return r||o}extract(e,t){if(!c.NodeGuards.isMemberExpressionNode(t))return null;const r=this.createObjectMembersCallsChain([],t);if(!r.length)return null;const o=r[r.length-1],n=this.getCalleeBlockStatement(d.NodeStatementUtils.getParentNodeWithStatements(e[0]),r);return n?{callee:n,name:o}:null}createObjectMembersCallsChain(e,t){if(c.NodeGuards.isIdentifierNode(t.property)&&!1===t.computed)e.unshift(t.property.name);else{if(!c.NodeGuards.isLiteralNode(t.property)||"string"!=typeof t.property.value&&"number"!=typeof t.property.value)return e;e.unshift(t.property.value)}return c.NodeGuards.isMemberExpressionNode(t.object)?this.createObjectMembersCallsChain(e,t.object):(c.NodeGuards.isIdentifierNode(t.object)&&e.unshift(t.object.name),e)}getCalleeBlockStatement(e,t){const r=t.shift();if(!r)return null;let o=null;return i.traverse(e,{enter:e=>{if(c.NodeGuards.isVariableDeclaratorNode(e)&&c.NodeGuards.isIdentifierNode(e.id)&&e.init&&c.NodeGuards.isObjectExpressionNode(e.init)&&e.id.name===r)return o=this.findCalleeBlockStatement(e.init.properties,t),i.VisitorOption.Break}}),o}findCalleeBlockStatement(e,t){const r=t.shift();if(!r)return null;for(const n of e)if(o.isValidTargetPropertyNode(n,r)){if(c.NodeGuards.isObjectExpressionNode(n.value))return this.findCalleeBlockStatement(n.value.properties,t);if(c.NodeGuards.isFunctionExpressionNode(n.value))return n.value.body}return null}};l=o=n.__decorate([a.injectable()],l),t.ObjectExpressionCalleeDataExtractor=l},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importStar(r(10)),c=r(42),d=r(3),l=r(19);let u=o=class{constructor(e){this.calleeDataExtractorFactory=e}static getLimitIndex(e){const t=e-1,r=o.limitThresholdActivationLength-1;let n=t;return t>r&&(n=Math.round(r+t*o.limitThreshold),n>t&&(n=t)),n}analyze(e){return this.analyzeRecursive(e.body)}analyzeRecursive(e){const t=o.getLimitIndex(e.length),r=[],n=e.length;for(let o=0;o<n&&!(o>t);o++){const t=e[o];s.traverse(t,{enter:o=>{if(d.NodeGuards.isCallExpressionNode(o))return t.parentNode!==l.NodeStatementUtils.getParentNodeWithStatements(o)?s.VisitorOption.Skip:void this.analyzeCallExpressionNode(r,e,o)}})}return r}analyzeCallExpressionNode(e,t,r){o.calleeDataExtractorsList.forEach(o=>{const n=this.calleeDataExtractorFactory(o).extract(t,r.callee);n&&e.push(Object.assign(Object.assign({},n),{stackTrace:this.analyzeRecursive(n.callee.body)}))})}};u.calleeDataExtractorsList=[c.CalleeDataExtractor.FunctionDeclarationCalleeDataExtractor,c.CalleeDataExtractor.FunctionExpressionCalleeDataExtractor,c.CalleeDataExtractor.ObjectExpressionCalleeDataExtractor],u.limitThresholdActivationLength=25,u.limitThreshold=.002,u=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__ICalleeDataExtractor)),n.__metadata("design:paramtypes",[Function])],u),t.StackTraceAnalyzer=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(15),n=r(0),a=r(2),i=r(43),s=r(20),c=r(65),d=r(66),l=r(67),u=r(68),p=r(69),m=r(70),f=r(71);t.controlFlowTransformersModule=new n.ContainerModule(e=>{e(a.ServiceIdentifiers.INodeTransformer).to(d.BlockStatementControlFlowTransformer).whenTargetNamed(s.NodeTransformer.BlockStatementControlFlowTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(u.DeadCodeInjectionTransformer).whenTargetNamed(s.NodeTransformer.DeadCodeInjectionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(p.FunctionControlFlowTransformer).whenTargetNamed(s.NodeTransformer.FunctionControlFlowTransformer),e(a.ServiceIdentifiers.IControlFlowReplacer).to(c.BinaryExpressionControlFlowReplacer).whenTargetNamed(i.ControlFlowReplacer.BinaryExpressionControlFlowReplacer),e(a.ServiceIdentifiers.IControlFlowReplacer).to(l.CallExpressionControlFlowReplacer).whenTargetNamed(i.ControlFlowReplacer.CallExpressionControlFlowReplacer),e(a.ServiceIdentifiers.IControlFlowReplacer).to(m.LogicalExpressionControlFlowReplacer).whenTargetNamed(i.ControlFlowReplacer.LogicalExpressionControlFlowReplacer),e(a.ServiceIdentifiers.IControlFlowReplacer).to(f.StringLiteralControlFlowReplacer).whenTargetNamed(i.ControlFlowReplacer.StringLiteralControlFlowReplacer),e(a.ServiceIdentifiers.Factory__IControlFlowReplacer).toFactory(o.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.IControlFlowReplacer))})},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(16),c=r(44);let d=o=class extends c.ExpressionWithOperatorControlFlowReplacer{constructor(e,t,r){super(e,t,r)}replace(e,t,r){const n=e.operator,a=this.controlFlowCustomNodeFactory(s.ControlFlowCustomNode.BinaryExpressionFunctionNode);a.initialize(n);const i=this.insertCustomNodeToControlFlowStorage(a,r,n,o.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(r.getStorageId(),i,e.left,e.right)}};d.usingExistingIdentifierChance=.5,d=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IControlFlowCustomNode)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],d),t.BinaryExpressionControlFlowReplacer=d},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importStar(r(10)),c=r(16),d=r(6),l=r(7),u=r(3),p=r(5);let m=o=class extends l.AbstractNodeTransformer{constructor(e,t,r,o){super(r,o),this.controlFlowCustomNodeFactory=e,this.arrayUtils=t}static isProhibitedStatementNode(e){const t=u.NodeGuards.isBreakStatementNode(e)||u.NodeGuards.isContinueStatementNode(e),r=u.NodeGuards.isVariableDeclarationNode(e)&&("const"===e.kind||"let"===e.kind),o=u.NodeGuards.isClassDeclarationNode(e);return u.NodeGuards.isFunctionDeclarationNode(e)||t||r||o}static canTransformBlockStatementNode(e){let t=!0;return s.traverse(e,{enter:e=>{if(u.NodeGuards.isWhileStatementNode(e))return s.VisitorOption.Skip;o.isProhibitedStatementNode(e)&&(t=!1)}}),e.body.length<=4&&(t=!1),t}getVisitor(e){switch(e){case d.TransformationStage.ControlFlowFlattening:return{leave:(e,t)=>{if(t&&u.NodeGuards.isBlockStatementNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){if(this.randomGenerator.getMathRandom()>this.options.controlFlowFlatteningThreshold||!o.canTransformBlockStatementNode(e))return e;const r=e.body,n=this.arrayUtils.createWithRange(r.length),a=this.arrayUtils.shuffle(n),i=n.map(e=>a.indexOf(e)),s=this.controlFlowCustomNodeFactory(c.ControlFlowCustomNode.BlockStatementControlFlowFlatteningNode);s.initialize(r,a,i);const d=s.getNode()[0];return p.NodeUtils.parentizeNode(d,t),d}};m=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IControlFlowCustomNode)),n.__param(1,a.inject(i.ServiceIdentifiers.IArrayUtils)),n.__param(2,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(3,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object,Object])],m),t.BlockStatementControlFlowTransformer=m},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(16),c=r(35),d=r(3);let l=o=class extends c.AbstractControlFlowReplacer{constructor(e,t,r){super(e,t,r)}replace(e,t,r){const n=e.callee;if(!d.NodeGuards.isIdentifierNode(n))return e;const a=String(e.arguments.length),i=this.controlFlowCustomNodeFactory(s.ControlFlowCustomNode.CallExpressionFunctionNode),c=e.arguments;i.initialize(c);const l=this.insertCustomNodeToControlFlowStorage(i,r,a,o.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(r.getStorageId(),l,n,c)}getControlFlowStorageCallNode(e,t,r,o){const n=this.controlFlowCustomNodeFactory(s.ControlFlowCustomNode.CallExpressionControlFlowStorageCallNode);n.initialize(e,t,r,o);const a=n.getNode()[0];if(!a||!d.NodeGuards.isExpressionStatementNode(a))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return a.expression}};l.usingExistingIdentifierChance=.5,l=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IControlFlowCustomNode)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],l),t.CallExpressionControlFlowReplacer=l},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importStar(r(10)),c=r(46),d=r(20),l=r(13),u=r(6),p=r(7),m=r(8),f=r(3),N=r(19),g=r(5);let _=o=class extends p.AbstractNodeTransformer{constructor(e,t,r,o){super(r,o),this.deadCodeInjectionRootAstHostNodeSet=new Set,this.collectedBlockStatements=[],this.collectedBlockStatementsTotalLength=0,this.deadCodeInjectionCustomNodeFactory=e,this.transformersRunner=t}static isProhibitedNodeInsideCollectedBlockStatement(e){return f.NodeGuards.isBreakStatementNode(e)||f.NodeGuards.isContinueStatementNode(e)||f.NodeGuards.isAwaitExpressionNode(e)||f.NodeGuards.isSuperNode(e)}static isScopeHoistingFunctionDeclaration(e){if(!f.NodeGuards.isFunctionDeclarationNode(e))return!1;const t=N.NodeStatementUtils.getScopeOfNode(e),r=f.NodeGuards.isSwitchCaseNode(t)?t.consequent:t.body,o=r.indexOf(e);if(0===o)return!1;const n=r.slice(0,o),a=m.NodeFactory.blockStatementNode(n),i=e.id.name;let c=!1;return s.traverse(a,{enter:e=>{if(f.NodeGuards.isIdentifierNode(e)&&e.name===i)return c=!0,s.VisitorOption.Break}}),c}static isValidCollectedBlockStatementNode(e){if(!e.body.length)return!1;let t=0,r=!0;return s.traverse(e,{enter:e=>{if(f.NodeGuards.isBlockStatementNode(e)&&t++,t>o.maxNestedBlockStatementsCount||o.isProhibitedNodeInsideCollectedBlockStatement(e)||o.isScopeHoistingFunctionDeclaration(e))return r=!1,s.VisitorOption.Break}}),r}static isValidWrappedBlockStatementNode(e){if(!e.body.length)return!1;let t=!0;if(s.traverse(e,{enter:e=>{if(o.isScopeHoistingFunctionDeclaration(e))return t=!1,s.VisitorOption.Break}}),!t)return!1;return N.NodeStatementUtils.getParentNodeWithStatements(e).type!==l.NodeType.Program}getVisitor(e){switch(e){case u.TransformationStage.DeadCodeInjection:return{enter:(e,t)=>{if(t&&f.NodeGuards.isProgramNode(e))return this.analyzeNode(e,t),e},leave:(e,t)=>{if(t&&f.NodeGuards.isBlockStatementNode(e))return this.transformNode(e,t)}};case u.TransformationStage.Finalizing:return this.deadCodeInjectionRootAstHostNodeSet.size?{enter:(e,t)=>{if(t&&this.isDeadCodeInjectionRootAstHostNode(e))return this.restoreNode(e,t)}}:null;default:return null}}analyzeNode(e,t){s.traverse(e,{enter:e=>{if(!f.NodeGuards.isBlockStatementNode(e))return;const t=g.NodeUtils.clone(e);if(!o.isValidCollectedBlockStatementNode(t))return;const r=this.makeClonedBlockStatementNodeUnique(t);this.collectedBlockStatements.push(r)}}),this.collectedBlockStatementsTotalLength=this.collectedBlockStatements.length}transformNode(e,t){if(!this.collectedBlockStatements.length||this.collectedBlockStatementsTotalLength<o.minCollectedBlockStatementsCount)return s.VisitorOption.Break;if(this.randomGenerator.getMathRandom()>this.options.deadCodeInjectionThreshold||!o.isValidWrappedBlockStatementNode(e))return e;const r=this.collectedBlockStatements.length-1,n=this.randomGenerator.getRandomInteger(0,r),a=this.collectedBlockStatements.splice(n,1)[0];return a===e?e:this.replaceBlockStatementNode(e,a,t)}restoreNode(e,t){const r=e.body[0];if(!f.NodeGuards.isFunctionDeclarationNode(r))throw new Error("Wrong dead code injection root AST host node. Host node should contain `FunctionDeclaration` node");return r.body}isDeadCodeInjectionRootAstHostNode(e){return f.NodeGuards.isBlockStatementNode(e)&&this.deadCodeInjectionRootAstHostNodeSet.has(e)}makeClonedBlockStatementNodeUnique(e){const t=m.NodeFactory.functionExpressionNode([],e);return g.NodeUtils.parentizeNode(t,t),g.NodeUtils.parentizeNode(e,t),this.transformersRunner.transform(t,o.transformersToRenameBlockScopeIdentifiers,u.TransformationStage.Obfuscating).body}replaceBlockStatementNode(e,t,r){const n=m.NodeFactory.blockStatementNode([m.NodeFactory.functionDeclarationNode(o.deadCodeInjectionRootAstHostNodeName,[],t)]);this.deadCodeInjectionRootAstHostNodeSet.add(n);const a=this.deadCodeInjectionCustomNodeFactory(c.DeadCodeInjectionCustomNode.BlockStatementDeadCodeInjectionNode);a.initialize(e,n);const i=a.getNode()[0];return g.NodeUtils.parentizeNode(i,r),i}};_.deadCodeInjectionRootAstHostNodeName="deadCodeInjectionRootAstHostNode",_.maxNestedBlockStatementsCount=4,_.minCollectedBlockStatementsCount=5,_.transformersToRenameBlockScopeIdentifiers=[d.NodeTransformer.CatchClauseTransformer,d.NodeTransformer.ClassDeclarationTransformer,d.NodeTransformer.FunctionDeclarationTransformer,d.NodeTransformer.FunctionTransformer,d.NodeTransformer.LabeledStatementTransformer,d.NodeTransformer.VariableDeclarationTransformer],_=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IDeadCodeInjectionCustomNode)),n.__param(1,a.inject(i.ServiceIdentifiers.ITransformersRunner)),n.__param(2,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(3,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object,Object])],_),t.DeadCodeInjectionTransformer=_},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importStar(r(10)),c=r(16),d=r(43),l=r(13),u=r(6),p=r(7),m=r(17),f=r(3),N=r(11),g=r(19),_=r(5);let h=o=class extends p.AbstractNodeTransformer{constructor(e,t,r,o,n){super(o,n),this.controlFlowData=new Map,this.visitedFunctionNodes=new Set,this.hostNodesWithControlFlowNode=new Set,this.controlFlowStorageFactory=e,this.controlFlowReplacerFactory=t,this.controlFlowCustomNodeFactory=r}getVisitor(e){switch(e){case u.TransformationStage.ControlFlowFlattening:return{leave:(e,t)=>{if(t&&(f.NodeGuards.isFunctionDeclarationNode(e)||f.NodeGuards.isFunctionExpressionNode(e)||f.NodeGuards.isArrowFunctionExpressionNode(e)))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){if(this.visitedFunctionNodes.add(e),!f.NodeGuards.isBlockStatementNode(e.body))return e;const r=this.getHostNode(e.body),o=this.getControlFlowStorage(r);if(this.controlFlowData.set(r,o),this.transformFunctionBody(e.body,o),!o.getLength())return e;const n=this.controlFlowCustomNodeFactory(c.ControlFlowCustomNode.ControlFlowStorageNode);return n.initialize(o),m.NodeAppender.prepend(r,n.getNode()),this.hostNodesWithControlFlowNode.add(r),_.NodeUtils.parentizeAst(e),e}getControlFlowStorage(e){const t=this.controlFlowStorageFactory();if(this.controlFlowData.has(e)){this.hostNodesWithControlFlowNode.has(e)&&(f.NodeGuards.isSwitchCaseNode(e)?e.consequent.shift():e.body.shift());const r=this.controlFlowData.get(e);t.mergeWith(r,!0)}return t}getHostNode(e){const t=g.NodeStatementUtils.getParentNodesWithStatements(e);return 1===t.length?e:(t.pop(),t.length>o.hostNodeSearchMinDepth&&t.splice(0,o.hostNodeSearchMinDepth),t.length>o.hostNodeSearchMaxDepth&&(t.length=o.hostNodeSearchMaxDepth),this.randomGenerator.getRandomGenerator().pickone(t))}isVisitedFunctionNode(e){return(f.NodeGuards.isFunctionDeclarationNode(e)||f.NodeGuards.isFunctionExpressionNode(e)||f.NodeGuards.isArrowFunctionExpressionNode(e))&&this.visitedFunctionNodes.has(e)}transformFunctionBody(e,t){s.replace(e,{enter:(e,r)=>{if(N.NodeMetadata.isIgnoredNode(e))return s.VisitorOption.Skip;if(this.isVisitedFunctionNode(e)||!r)return s.VisitorOption.Skip;if(!o.controlFlowReplacersMap.has(e.type))return e;if(this.randomGenerator.getMathRandom()>this.options.controlFlowFlatteningThreshold)return e;const n=o.controlFlowReplacersMap.get(e.type);return void 0===n?e:Object.assign(Object.assign({},this.controlFlowReplacerFactory(n).replace(e,r,t)),{parentNode:r})}})}};h.controlFlowReplacersMap=new Map([[l.NodeType.BinaryExpression,d.ControlFlowReplacer.BinaryExpressionControlFlowReplacer],[l.NodeType.CallExpression,d.ControlFlowReplacer.CallExpressionControlFlowReplacer],[l.NodeType.LogicalExpression,d.ControlFlowReplacer.LogicalExpressionControlFlowReplacer],[l.NodeType.Literal,d.ControlFlowReplacer.StringLiteralControlFlowReplacer]]),h.hostNodeSearchMinDepth=0,h.hostNodeSearchMaxDepth=2,h=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__TControlFlowStorage)),n.__param(1,a.inject(i.ServiceIdentifiers.Factory__IControlFlowReplacer)),n.__param(2,a.inject(i.ServiceIdentifiers.Factory__IControlFlowCustomNode)),n.__param(3,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(4,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Function,Function,Object,Object])],h),t.FunctionControlFlowTransformer=h},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(16),c=r(44),d=r(3),l=r(5);let u=o=class extends c.ExpressionWithOperatorControlFlowReplacer{constructor(e,t,r){super(e,t,r)}replace(e,t,r){if(this.checkForProhibitedExpressions(e.left,e.right))return e;const n=e.operator,a=this.controlFlowCustomNodeFactory(s.ControlFlowCustomNode.LogicalExpressionFunctionNode);a.initialize(n);const i=this.insertCustomNodeToControlFlowStorage(a,r,n,o.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(r.getStorageId(),i,e.left,e.right)}checkForProhibitedExpressions(e,t){return[e,t].some(e=>{let t;return t=d.NodeGuards.isUnaryExpressionNode(e)?l.NodeUtils.getUnaryExpressionArgumentNode(e):e,!(d.NodeGuards.isLiteralNode(t)||d.NodeGuards.isIdentifierNode(t)||d.NodeGuards.isObjectExpressionNode(t)||d.NodeGuards.isExpressionStatementNode(t))})}};u.usingExistingIdentifierChance=.5,u=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IControlFlowCustomNode)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],u),t.LogicalExpressionControlFlowReplacer=u},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(16),c=r(35),d=r(3);let l=o=class extends c.AbstractControlFlowReplacer{constructor(e,t,r){super(e,t,r)}replace(e,t,r){if(d.NodeGuards.isPropertyNode(t)&&t.key===e)return e;if("string"!=typeof e.value||e.value.length<3)return e;const n=String(e.value),a=this.controlFlowCustomNodeFactory(s.ControlFlowCustomNode.StringLiteralNode);a.initialize(e.value);const i=this.insertCustomNodeToControlFlowStorage(a,r,n,o.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(r.getStorageId(),i)}getControlFlowStorageCallNode(e,t){const r=this.controlFlowCustomNodeFactory(s.ControlFlowCustomNode.StringLiteralControlFlowStorageCallNode);r.initialize(e,t);const o=r.getNode()[0];if(!o||!d.NodeGuards.isExpressionStatementNode(o))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return o.expression}};l.usingExistingIdentifierChance=1,l=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IControlFlowCustomNode)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],l),t.StringLiteralControlFlowReplacer=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),n=r(15),a=r(2),i=r(20),s=r(47),c=r(73),d=r(74),l=r(75),u=r(76),p=r(77),m=r(78),f=r(79),N=r(80),g=r(81);t.convertingTransformersModule=new o.ContainerModule(e=>{e(a.ServiceIdentifiers.INodeTransformer).to(l.MemberExpressionTransformer).whenTargetNamed(i.NodeTransformer.MemberExpressionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(u.MethodDefinitionTransformer).whenTargetNamed(i.NodeTransformer.MethodDefinitionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(p.ObjectExpressionKeysTransformer).whenTargetNamed(i.NodeTransformer.ObjectExpressionKeysTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(m.ObjectExpressionTransformer).whenTargetNamed(i.NodeTransformer.ObjectExpressionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(f.SplitStringTransformer).whenTargetNamed(i.NodeTransformer.SplitStringTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(N.TemplateLiteralTransformer).whenTargetNamed(i.NodeTransformer.TemplateLiteralTransformer),e(a.ServiceIdentifiers.IPropertiesExtractor).to(c.AssignmentExpressionPropertiesExtractor).whenTargetNamed(s.PropertiesExtractor.AssignmentExpressionPropertiesExtractor),e(a.ServiceIdentifiers.IPropertiesExtractor).to(d.BasePropertiesExtractor).whenTargetNamed(s.PropertiesExtractor.BasePropertiesExtractor),e(a.ServiceIdentifiers.IPropertiesExtractor).to(g.VariableDeclaratorPropertiesExtractor).whenTargetNamed(s.PropertiesExtractor.VariableDeclaratorPropertiesExtractor),e(a.ServiceIdentifiers.Factory__IPropertiesExtractor).toFactory(n.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.IPropertiesExtractor))})},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(37),c=r(3);let d=o=class extends s.AbstractPropertiesExtractor{constructor(e,t){super(e,t)}static isProhibitedHostParent(e){return!!c.NodeGuards.isMemberExpressionNode(e)||(!!o.isProhibitedStatementNode(e)||c.NodeGuards.isExpressionStatementNode(e)&&!!e.parentNode&&o.isProhibitedStatementNode(e.parentNode))}static isProhibitedStatementNode(e){return c.NodeGuards.isIfStatementNode(e)||c.NodeGuards.isForStatementTypeNode(e)||c.NodeGuards.isWhileStatementNode(e)}extract(e,t){const r=t.parentNode,n=t.left;return s.AbstractPropertiesExtractor.isProhibitedPattern(n)?e:r&&o.isProhibitedHostParent(r)?e:this.transformObjectExpressionNode(e,n)}};d=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],d),t.AssignmentExpressionPropertiesExtractor=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(48),s=r(37),c=r(17),d=r(3);let l=class extends s.AbstractPropertiesExtractor{constructor(e,t,r){super(e,t),this.objectExpressionKeysTransformerCustomNodeFactory=r}extract(e,t){return this.transformObjectExpressionNode(e,t)}transformObjectExpressionNode(e,t){const r=this.getObjectExpressionHostNode(),o=this.getObjectExpressionIdentifierNode(r),n=e.properties,[a,i]=this.extractPropertiesToExpressionStatements(n,o),s=[r,...a],d=this.getHostStatement(e),l=this.getHostNodeWithStatements(e,d);return this.filterExtractedObjectExpressionProperties(e,i),c.NodeAppender.insertBefore(l,s,d),o}getObjectExpressionHostNode(){const e=this.objectExpressionKeysTransformerCustomNodeFactory(i.ObjectExpressionKeysTransformerCustomNode.BasePropertiesExtractorObjectExpressionHostNode);e.initialize();const t=e.getNode()[0];if(!t||!d.NodeGuards.isVariableDeclarationNode(t))throw new Error("`objectExpressionHostCustomNode.getNode()[0]` should returns array with `VariableDeclaration` node");return t}getObjectExpressionIdentifierNode(e){const t=e.declarations[0].id;if(!d.NodeGuards.isIdentifierNode(t))throw new Error("`objectExpressionHostNode` should contain `VariableDeclarator` node with `Identifier` id property");return t}};l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__param(2,n.inject(a.ServiceIdentifiers.Factory__IObjectExpressionKeysTransformerCustomNode)),o.__metadata("design:paramtypes",[Object,Object,Function])],l),t.BasePropertiesExtractor=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(6),s=r(7),c=r(8),d=r(3);let l=class extends s.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case i.TransformationStage.Converting:return{enter:(e,t)=>{if(t&&d.NodeGuards.isMemberExpressionNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){if(d.NodeGuards.isIdentifierNode(e.property)){if(e.computed)return e;e.computed=!0,e.property=c.NodeFactory.literalNode(e.property.name)}return e}};l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],l),t.MemberExpressionTransformer=l},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(6),c=r(7),d=r(8),l=r(3);let u=o=class extends c.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case s.TransformationStage.Converting:return{enter:(e,t)=>{if(t&&l.NodeGuards.isMethodDefinitionNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){return l.NodeGuards.isIdentifierNode(e.key)&&!o.ignoredNames.includes(e.key.name)&&!1===e.computed&&(e.computed=!0,e.key=d.NodeFactory.literalNode(e.key.name)),e}};u.ignoredNames=["constructor"],u=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],u),t.MethodDefinitionTransformer=u},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(13),c=r(47),d=r(6),l=r(7),u=r(3);let p=o=class extends l.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.propertiesExtractorFactory=e}getVisitor(e){return this.options.transformObjectKeys?e!==d.TransformationStage.Converting?null:{enter:(e,t)=>{if(t&&u.NodeGuards.isObjectExpressionNode(e))return this.transformNode(e,t)},leave:(e,t)=>{if(t&&u.NodeGuards.isObjectExpressionNode(e))return this.transformNodeWithBaseExtractor(e,t)}}:null}transformNode(e,t){if(!e.properties.length)return e;const r=o.propertiesExtractorsMap.get(t.type);return r?this.propertiesExtractorFactory(r).extract(e,t):e}transformNodeWithBaseExtractor(e,t){if(!e.properties.length)return e;return this.propertiesExtractorFactory(c.PropertiesExtractor.BasePropertiesExtractor).extract(e,t)}};p.propertiesExtractorsMap=new Map([[s.NodeType.AssignmentExpression,c.PropertiesExtractor.AssignmentExpressionPropertiesExtractor],[s.NodeType.VariableDeclarator,c.PropertiesExtractor.VariableDeclaratorPropertiesExtractor]]),p=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IPropertiesExtractor)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],p),t.ObjectExpressionKeysTransformer=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(6),s=r(7),c=r(8),d=r(3);let l=class extends s.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.escapeSequenceEncoder=e}getVisitor(e){switch(e){case i.TransformationStage.Converting:return{enter:(e,t)=>{if(t&&d.NodeGuards.isObjectExpressionNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){return e.properties.forEach(e=>{e.key&&(e.computed?this.transformComputedProperty(e):this.transformBaseProperty(e))}),e}transformComputedProperty(e){d.NodeGuards.isLiteralNode(e.key)&&"string"==typeof e.key.value&&(e.key=c.NodeFactory.literalNode(this.getPropertyKeyValue(e.key.value)))}transformBaseProperty(e){e.shorthand&&(e.shorthand=!1),d.NodeGuards.isIdentifierNode(e.key)&&(e.key=c.NodeFactory.literalNode(this.getPropertyKeyValue(e.key.name)))}getPropertyKeyValue(e){return this.options.unicodeEscapeSequence?this.escapeSequenceEncoder.encode(e,!0):e}};l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IEscapeSequenceEncoder)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object,Object])],l),t.ObjectExpressionTransformer=l},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(20),c=r(6),d=r(7),l=r(8),u=r(3);let p=o=class extends d.AbstractNodeTransformer{constructor(e,t){super(e,t),this.runAfter=[s.NodeTransformer.ObjectExpressionKeysTransformer,s.NodeTransformer.TemplateLiteralTransformer]}static chunkString(e,t){const r=Math.ceil(e.length/t),o=[];let n=0;for(let a=0;a<r;++a,n+=t)o[a]=e.substr(n,t);return o}getVisitor(e){switch(e){case c.TransformationStage.Converting:return{enter:(e,t)=>{if(this.options.splitStrings)return t&&u.NodeGuards.isLiteralNode(e)?this.transformNode(e,t):void 0}};default:return null}}transformNode(e,t){if("string"!=typeof e.value)return e;if(u.NodeGuards.isPropertyNode(t)&&!t.computed&&t.key===e)return e;if(this.options.splitStringsChunkLength>=e.value.length)return e;const r=o.chunkString(e.value,this.options.splitStringsChunkLength);return this.transformStringChunksToBinaryExpressionNode(r)}transformStringChunksToBinaryExpressionNode(e){const t=e.pop();if(void 0===t)throw new Error("Last chunk value should not be empty");const r=l.NodeFactory.literalNode(t);return 0===e.length?r:l.NodeFactory.binaryExpressionNode("+",this.transformStringChunksToBinaryExpressionNode(e),r)}};p=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],p),t.SplitStringTransformer=p},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(6),c=r(7),d=r(8),l=r(3),u=r(5);let p=o=class extends c.AbstractNodeTransformer{constructor(e,t){super(e,t)}static isLiteralNodeWithStringValue(e){return e&&l.NodeGuards.isLiteralNode(e)&&"string"==typeof e.value}static isValidTemplateLiteralNode(e,t){return l.NodeGuards.isTemplateLiteralNode(e)&&!l.NodeGuards.isTaggedTemplateExpressionNode(t)}getVisitor(e){switch(e){case s.TransformationStage.Converting:return{enter:(e,t)=>{if(t&&o.isValidTemplateLiteralNode(e,t))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const r=e.expressions;let n,a=[];if(e.quasis.forEach(e=>{a.push(d.NodeFactory.literalNode(e.value.cooked));const t=r.shift();t&&a.push(t)}),a=a.filter(e=>!(l.NodeGuards.isLiteralNode(e)&&""===e.value)),o.isLiteralNodeWithStringValue(a[0])||o.isLiteralNodeWithStringValue(a[1])||a.unshift(d.NodeFactory.literalNode("")),a.length>1){let e=d.NodeFactory.binaryExpressionNode("+",a.shift(),a.shift());a.forEach(t=>{e=d.NodeFactory.binaryExpressionNode("+",e,t)}),n=e}else n=a[0];return u.NodeUtils.parentizeAst(n),n}};p=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],p),t.TemplateLiteralTransformer=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importStar(r(10)),s=r(37),c=r(3);let d=class extends s.AbstractPropertiesExtractor{constructor(e,t){super(e,t)}extract(e,t){return!c.NodeGuards.isIdentifierNode(t.id)||this.isProhibitedObjectExpressionNode(e,t.id)?e:this.transformObjectExpressionNode(e,t.id)}getHostVariableDeclaratorNode(e){const{parentNode:t}=e;if(!t||!c.NodeGuards.isVariableDeclaratorNode(t))throw new Error("Cannot get `VariableDeclarator` node for `ObjectExpression` node");return t}getHostVariableDeclarationNode(e){const{parentNode:t}=e;if(!t||!c.NodeGuards.isVariableDeclarationNode(t))throw new Error("Cannot get `VariableDeclaration` node for `VariableDeclarator` node");return t}isProhibitedObjectExpressionNode(e,t){const r=this.getHostVariableDeclaratorNode(e),o=this.getHostVariableDeclarationNode(r),{declarations:n}=o,a=n.indexOf(r);if(a===n.length-1)return!1;const s=n.slice(a);let d=!1;return s.forEach(e=>{i.traverse(e,{enter:e=>c.NodeGuards.isMemberExpressionNode(e)&&c.NodeGuards.isIdentifierNode(e.object)&&e.object.name===t.name?(d=!0,i.VisitorOption.Break):e})}),d}};d=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],d),t.VariableDeclaratorPropertiesExtractor=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(15),n=r(0),a=r(2),i=r(16),s=r(23),c=r(49),d=r(46),l=r(48),u=r(83),p=r(84),m=r(85),f=r(86),N=r(87),g=r(88),_=r(91),h=r(92),b=r(93),y=r(94),S=r(95),I=r(96),v=r(97),C=r(99),O=r(101),j=r(103),F=r(107),x=r(109),T=r(110),E=r(111),w=r(113),G=r(115),R=r(122),P=r(124),M=r(127),A=r(128);t.customNodesModule=new n.ContainerModule(e=>{e(a.ServiceIdentifiers.ICustomNode).to(v.ConsoleOutputDisableExpressionNode).whenTargetNamed(s.CustomNode.ConsoleOutputDisableExpressionNode),e(a.ServiceIdentifiers.ICustomNode).to(C.DebugProtectionFunctionCallNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionCallNode),e(a.ServiceIdentifiers.ICustomNode).to(O.DebugProtectionFunctionIntervalNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionIntervalNode),e(a.ServiceIdentifiers.ICustomNode).to(j.DebugProtectionFunctionNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionNode),e(a.ServiceIdentifiers.ICustomNode).to(F.DomainLockNode).whenTargetNamed(s.CustomNode.DomainLockNode),e(a.ServiceIdentifiers.ICustomNode).to(E.NodeCallsControllerFunctionNode).whenTargetNamed(s.CustomNode.NodeCallsControllerFunctionNode),e(a.ServiceIdentifiers.ICustomNode).to(w.SelfDefendingUnicodeNode).whenTargetNamed(s.CustomNode.SelfDefendingUnicodeNode),e(a.ServiceIdentifiers.ICustomNode).to(G.StringArrayCallsWrapper).whenTargetNamed(s.CustomNode.StringArrayCallsWrapper),e(a.ServiceIdentifiers.ICustomNode).to(R.StringArrayNode).whenTargetNamed(s.CustomNode.StringArrayNode),e(a.ServiceIdentifiers.ICustomNode).to(P.StringArrayRotateFunctionNode).whenTargetNamed(s.CustomNode.StringArrayRotateFunctionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(_.BinaryExpressionFunctionNode).whenTargetNamed(i.ControlFlowCustomNode.BinaryExpressionFunctionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(h.BlockStatementControlFlowFlatteningNode).whenTargetNamed(i.ControlFlowCustomNode.BlockStatementControlFlowFlatteningNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(y.CallExpressionControlFlowStorageCallNode).whenTargetNamed(i.ControlFlowCustomNode.CallExpressionControlFlowStorageCallNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(S.CallExpressionFunctionNode).whenTargetNamed(i.ControlFlowCustomNode.CallExpressionFunctionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(I.ControlFlowStorageNode).whenTargetNamed(i.ControlFlowCustomNode.ControlFlowStorageNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(x.ExpressionWithOperatorControlFlowStorageCallNode).whenTargetNamed(i.ControlFlowCustomNode.ExpressionWithOperatorControlFlowStorageCallNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(T.LogicalExpressionFunctionNode).whenTargetNamed(i.ControlFlowCustomNode.LogicalExpressionFunctionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(A.StringLiteralNode).whenTargetNamed(i.ControlFlowCustomNode.StringLiteralNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(M.StringLiteralControlFlowStorageCallNode).whenTargetNamed(i.ControlFlowCustomNode.StringLiteralControlFlowStorageCallNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(b.BlockStatementDeadCodeInjectionNode).whenTargetNamed(d.DeadCodeInjectionCustomNode.BlockStatementDeadCodeInjectionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(g.BasePropertiesExtractorObjectExpressionHostNode).whenTargetNamed(l.ObjectExpressionKeysTransformerCustomNode.BasePropertiesExtractorObjectExpressionHostNode),e(a.ServiceIdentifiers.ICustomNodeGroup).to(u.ConsoleOutputCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.ConsoleOutputCustomNodeGroup),e(a.ServiceIdentifiers.ICustomNodeGroup).to(p.DebugProtectionCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.DebugProtectionCustomNodeGroup),e(a.ServiceIdentifiers.ICustomNodeGroup).to(m.DomainLockCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.DomainLockCustomNodeGroup),e(a.ServiceIdentifiers.ICustomNodeGroup).to(f.SelfDefendingCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.SelfDefendingCustomNodeGroup),e(a.ServiceIdentifiers.ICustomNodeGroup).to(N.StringArrayCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.StringArrayCustomNodeGroup),e(a.ServiceIdentifiers.Factory__ICustomNode).toFactory(o.InversifyContainerFacade.getFactory(a.ServiceIdentifiers.ICustomNode)),e(a.ServiceIdentifiers.Factory__IControlFlowCustomNode).toFactory(o.InversifyContainerFacade.getConstructorFactory(a.ServiceIdentifiers.Newable__ICustomNode,a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator,a.ServiceIdentifiers.IRandomGenerator,a.ServiceIdentifiers.IOptions)),e(a.ServiceIdentifiers.Factory__IDeadCodeInjectionCustomNode).toFactory(o.InversifyContainerFacade.getConstructorFactory(a.ServiceIdentifiers.Newable__ICustomNode,a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator,a.ServiceIdentifiers.IRandomGenerator,a.ServiceIdentifiers.IOptions)),e(a.ServiceIdentifiers.Factory__IObjectExpressionKeysTransformerCustomNode).toFactory(o.InversifyContainerFacade.getConstructorFactory(a.ServiceIdentifiers.Newable__ICustomNode,a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator,a.ServiceIdentifiers.IRandomGenerator,a.ServiceIdentifiers.IOptions)),e(a.ServiceIdentifiers.Factory__ICustomNodeGroup).toFactory(o.InversifyContainerFacade.getFactory(a.ServiceIdentifiers.ICustomNodeGroup))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(23),c=r(21),d=r(25),l=r(17);let u=class extends d.AbstractCustomNodeGroup{constructor(e,t,r,o){super(t,r,o),this.appendEvent=c.ObfuscationEvent.BeforeObfuscation,this.customNodeFactory=e}appendCustomNodes(e,t){const r=this.getRandomStackTraceIndex(t.length);this.appendCustomNodeIfExist(s.CustomNode.ConsoleOutputDisableExpressionNode,o=>{l.NodeAppender.appendToOptimalBlockScope(t,e,o.getNode(),r)}),this.appendCustomNodeIfExist(s.CustomNode.NodeCallsControllerFunctionNode,o=>{const n=t.length?l.NodeAppender.getOptimalBlockScope(t,r,1):e;l.NodeAppender.prepend(n,o.getNode())})}initialize(){if(this.customNodes=new Map,!this.options.disableConsoleOutput)return;const e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(s.CustomNode.ConsoleOutputDisableExpressionNode),r=this.customNodeFactory(s.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),r.initialize(this.appendEvent,e),this.customNodes.set(s.CustomNode.ConsoleOutputDisableExpressionNode,t),this.customNodes.set(s.CustomNode.NodeCallsControllerFunctionNode,r)}};o.__decorate([i.initializable(),o.__metadata("design:type",Map)],u.prototype,"customNodes",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__ICustomNode)),o.__param(1,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(3,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Function,Object,Object])],u),t.ConsoleOutputCustomNodeGroup=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(23),c=r(21),d=r(25),l=r(17),u=r(3);let p=class extends d.AbstractCustomNodeGroup{constructor(e,t,r,o){super(t,r,o),this.appendEvent=c.ObfuscationEvent.BeforeObfuscation,this.customNodeFactory=e}appendCustomNodes(e,t){const r=this.getRandomStackTraceIndex(t.length);this.appendCustomNodeIfExist(s.CustomNode.DebugProtectionFunctionCallNode,o=>{l.NodeAppender.appendToOptimalBlockScope(t,e,o.getNode(),r)}),this.appendCustomNodeIfExist(s.CustomNode.DebugProtectionFunctionNode,t=>{l.NodeAppender.append(e,t.getNode())}),this.appendCustomNodeIfExist(s.CustomNode.DebugProtectionFunctionIntervalNode,t=>{const r=u.NodeGuards.isSwitchCaseNode(e)?e.consequent.length:e.body.length,o=this.randomGenerator.getRandomInteger(0,r);l.NodeAppender.insertAtIndex(e,t.getNode(),o)}),this.appendCustomNodeIfExist(s.CustomNode.NodeCallsControllerFunctionNode,o=>{const n=t.length?l.NodeAppender.getOptimalBlockScope(t,r,1):e;l.NodeAppender.prepend(n,o.getNode())})}initialize(){if(this.customNodes=new Map,!this.options.debugProtection)return;const e=this.identifierNamesGenerator.generate(),t=this.identifierNamesGenerator.generate(),r=this.customNodeFactory(s.CustomNode.DebugProtectionFunctionNode),o=this.customNodeFactory(s.CustomNode.DebugProtectionFunctionCallNode),n=this.customNodeFactory(s.CustomNode.DebugProtectionFunctionIntervalNode),a=this.customNodeFactory(s.CustomNode.NodeCallsControllerFunctionNode);r.initialize(e),o.initialize(e,t),n.initialize(e),a.initialize(this.appendEvent,t),this.customNodes.set(s.CustomNode.DebugProtectionFunctionNode,r),this.customNodes.set(s.CustomNode.DebugProtectionFunctionCallNode,o),this.options.debugProtectionInterval&&this.customNodes.set(s.CustomNode.DebugProtectionFunctionIntervalNode,n),this.customNodes.set(s.CustomNode.NodeCallsControllerFunctionNode,a)}};o.__decorate([i.initializable(),o.__metadata("design:type",Map)],p.prototype,"customNodes",void 0),p=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__ICustomNode)),o.__param(1,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(3,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Function,Object,Object])],p),t.DebugProtectionCustomNodeGroup=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(23),c=r(21),d=r(25),l=r(17);let u=class extends d.AbstractCustomNodeGroup{constructor(e,t,r,o){super(t,r,o),this.appendEvent=c.ObfuscationEvent.BeforeObfuscation,this.customNodeFactory=e}appendCustomNodes(e,t){const r=this.getRandomStackTraceIndex(t.length);this.appendCustomNodeIfExist(s.CustomNode.DomainLockNode,o=>{l.NodeAppender.appendToOptimalBlockScope(t,e,o.getNode(),r)}),this.appendCustomNodeIfExist(s.CustomNode.NodeCallsControllerFunctionNode,o=>{const n=t.length?l.NodeAppender.getOptimalBlockScope(t,r,1):e;l.NodeAppender.prepend(n,o.getNode())})}initialize(){if(this.customNodes=new Map,!this.options.domainLock.length)return;const e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(s.CustomNode.DomainLockNode),r=this.customNodeFactory(s.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),r.initialize(this.appendEvent,e),this.customNodes.set(s.CustomNode.DomainLockNode,t),this.customNodes.set(s.CustomNode.NodeCallsControllerFunctionNode,r)}};o.__decorate([i.initializable(),o.__metadata("design:type",Map)],u.prototype,"customNodes",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__ICustomNode)),o.__param(1,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(3,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Function,Object,Object])],u),t.DomainLockCustomNodeGroup=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(23),c=r(21),d=r(25),l=r(17);let u=class extends d.AbstractCustomNodeGroup{constructor(e,t,r,o){super(t,r,o),this.appendEvent=c.ObfuscationEvent.AfterObfuscation,this.customNodeFactory=e}appendCustomNodes(e,t){const r=this.getRandomStackTraceIndex(t.length);this.appendCustomNodeIfExist(s.CustomNode.SelfDefendingUnicodeNode,o=>{l.NodeAppender.appendToOptimalBlockScope(t,e,o.getNode(),r)}),this.appendCustomNodeIfExist(s.CustomNode.NodeCallsControllerFunctionNode,o=>{const n=t.length?l.NodeAppender.getOptimalBlockScope(t,r,1):e;l.NodeAppender.prepend(n,o.getNode())})}initialize(){if(this.customNodes=new Map,!this.options.selfDefending)return;const e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(s.CustomNode.SelfDefendingUnicodeNode),r=this.customNodeFactory(s.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),r.initialize(this.appendEvent,e),this.customNodes.set(s.CustomNode.SelfDefendingUnicodeNode,t),this.customNodes.set(s.CustomNode.NodeCallsControllerFunctionNode,r)}};o.__decorate([i.initializable(),o.__metadata("design:type",Map)],u.prototype,"customNodes",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__ICustomNode)),o.__param(1,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(3,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Function,Object,Object])],u),t.SelfDefendingCustomNodeGroup=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(23),c=r(21),d=r(25),l=r(17);let u=class extends d.AbstractCustomNodeGroup{constructor(e,t,r,o,n){super(r,o,n),this.appendEvent=c.ObfuscationEvent.AfterObfuscation,this.customNodeFactory=e,this.stringArrayStorage=t}appendCustomNodes(e,t){this.stringArrayStorage.getLength()&&(this.appendCustomNodeIfExist(s.CustomNode.StringArrayNode,t=>{l.NodeAppender.prepend(e,t.getNode())}),this.appendCustomNodeIfExist(s.CustomNode.StringArrayCallsWrapper,t=>{l.NodeAppender.insertAtIndex(e,t.getNode(),1)}),this.appendCustomNodeIfExist(s.CustomNode.StringArrayRotateFunctionNode,t=>{l.NodeAppender.insertAtIndex(e,t.getNode(),1)}))}initialize(){if(this.customNodes=new Map,!this.options.stringArray)return;const e=this.customNodeFactory(s.CustomNode.StringArrayNode),t=this.customNodeFactory(s.CustomNode.StringArrayCallsWrapper),r=this.customNodeFactory(s.CustomNode.StringArrayRotateFunctionNode),o=this.stringArrayStorage.getStorageId(),[n,a]=o.split("|");let i;i=this.options.rotateStringArray?this.randomGenerator.getRandomInteger(100,500):0,e.initialize(this.stringArrayStorage,n,i),t.initialize(n,a),r.initialize(n,i),this.customNodes.set(s.CustomNode.StringArrayNode,e),this.customNodes.set(s.CustomNode.StringArrayCallsWrapper,t),this.options.rotateStringArray&&this.customNodes.set(s.CustomNode.StringArrayRotateFunctionNode,r)}};o.__decorate([i.initializable(),o.__metadata("design:type",Map)],u.prototype,"customNodes",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__ICustomNode)),o.__param(1,n.inject(a.ServiceIdentifiers.TStringArrayStorage)),o.__param(2,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(3,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(4,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Function,Object,Object])],u),t.StringArrayCustomNodeGroup=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(9),s=r(8);let c=class extends i.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(){}getNodeStructure(){return[s.NodeFactory.variableDeclarationNode([s.NodeFactory.variableDeclaratorNode(s.NodeFactory.identifierNode(this.identifierNamesGenerator.generate()),s.NodeFactory.objectExpressionNode([]))])]}};c=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],c),t.BasePropertiesExtractorObjectExpressionHostNode=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableTemplate1=function(){return"\n        var that;\n        \n        try {\n            var getGlobal = Function('return (function() ' + '{}.constructor(\"return this\")( )' + ');');\n            \n            that = getGlobal();\n        } catch (e) {\n            that = window;\n        }\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableTemplate2=function(){return"\n        var getGlobal = function () {\n            var globalObject;\n        \n            try {\n                globalObject = Function('return (function() ' + '{}.constructor(\"return this\")( )' + ');')();\n            } catch (e) {\n                globalObject = window;\n            }\n            \n            return globalObject;\n        };\n        var that = getGlobal();\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(5);let l=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e){this.operator=e}getNodeStructure(){const e=c.NodeFactory.expressionStatementNode(c.NodeFactory.functionExpressionNode([c.NodeFactory.identifierNode("x"),c.NodeFactory.identifierNode("y")],c.NodeFactory.blockStatementNode([c.NodeFactory.returnStatementNode(c.NodeFactory.binaryExpressionNode(this.operator,c.NodeFactory.identifierNode("x"),c.NodeFactory.identifierNode("y")))])));return d.NodeUtils.parentizeAst(e),[e]}};o.__decorate([i.initializable(),o.__metadata("design:type",String)],l.prototype,"operator",void 0),l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],l),t.BinaryExpressionFunctionNode=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(3),l=r(5);let u=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e,t,r){this.blockStatementBody=e,this.shuffledKeys=t,this.originalKeysIndexesInShuffledArray=r}getNodeStructure(){const e=this.randomGenerator.getRandomString(6),t=this.randomGenerator.getRandomString(6),r=c.NodeFactory.blockStatementNode([c.NodeFactory.variableDeclarationNode([c.NodeFactory.variableDeclaratorNode(c.NodeFactory.identifierNode(e),c.NodeFactory.callExpressionNode(c.NodeFactory.memberExpressionNode(c.NodeFactory.literalNode(this.originalKeysIndexesInShuffledArray.join("|")),c.NodeFactory.identifierNode("split")),[c.NodeFactory.literalNode("|")])),c.NodeFactory.variableDeclaratorNode(c.NodeFactory.identifierNode(t),c.NodeFactory.literalNode(0))]),c.NodeFactory.whileStatementNode(c.NodeFactory.literalNode(!0),c.NodeFactory.blockStatementNode([c.NodeFactory.switchStatementNode(c.NodeFactory.memberExpressionNode(c.NodeFactory.identifierNode(e),c.NodeFactory.updateExpressionNode("++",c.NodeFactory.identifierNode(t)),!0),this.shuffledKeys.map((e,t)=>{const r=this.blockStatementBody[e],o=[r];return d.NodeGuards.isReturnStatementNode(r)||o.push(c.NodeFactory.continueStatement()),c.NodeFactory.switchCaseNode(c.NodeFactory.literalNode(String(t)),o)})),c.NodeFactory.breakStatement()]))]);return l.NodeUtils.parentizeAst(r),[r]}};o.__decorate([i.initializable(),o.__metadata("design:type",Array)],u.prototype,"blockStatementBody",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",Array)],u.prototype,"originalKeysIndexesInShuffledArray",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",Array)],u.prototype,"shuffledKeys",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],u),t.BlockStatementControlFlowFlatteningNode=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(5);let l=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e,t){this.blockStatementNode=e,this.deadCodeInjectionRootAstHostNode=t}getNodeStructure(){const e=this.randomGenerator.getMathRandom()>.5,t=this.randomGenerator.getMathRandom()>.5,r=e?"===":"!==",o=this.randomGenerator.getRandomString(5),n=t?o:this.randomGenerator.getRandomString(5),[a,i]=e===t?[this.blockStatementNode,this.deadCodeInjectionRootAstHostNode]:[this.deadCodeInjectionRootAstHostNode,this.blockStatementNode],s=c.NodeFactory.blockStatementNode([c.NodeFactory.ifStatementNode(c.NodeFactory.binaryExpressionNode(r,c.NodeFactory.literalNode(o),c.NodeFactory.literalNode(n)),a,i)]);return d.NodeUtils.parentizeAst(s),[s]}};o.__decorate([i.initializable(),o.__metadata("design:type",Object)],l.prototype,"blockStatementNode",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",Object)],l.prototype,"deadCodeInjectionRootAstHostNode",void 0),l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],l),t.BlockStatementDeadCodeInjectionNode=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(5);let l=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e,t,r,o){this.controlFlowStorageName=e,this.controlFlowStorageKey=t,this.callee=r,this.expressionArguments=o}getNodeStructure(){const e=c.NodeFactory.expressionStatementNode(c.NodeFactory.callExpressionNode(c.NodeFactory.memberExpressionNode(c.NodeFactory.identifierNode(this.controlFlowStorageName),c.NodeFactory.identifierNode(this.controlFlowStorageKey)),[this.callee,...this.expressionArguments]));return d.NodeUtils.parentizeAst(e),[e]}};o.__decorate([i.initializable(),o.__metadata("design:type",Object)],l.prototype,"callee",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",String)],l.prototype,"controlFlowStorageKey",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",String)],l.prototype,"controlFlowStorageName",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",Array)],l.prototype,"expressionArguments",void 0),l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],l),t.CallExpressionControlFlowStorageCallNode=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(5);let l=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e){this.expressionArguments=e}getNodeStructure(){const e=c.NodeFactory.identifierNode("callee"),t=[],r=this.expressionArguments.length;for(let e=0;e<r;e++)t.push(c.NodeFactory.identifierNode(`param${e+1}`));const o=c.NodeFactory.expressionStatementNode(c.NodeFactory.functionExpressionNode([e,...t],c.NodeFactory.blockStatementNode([c.NodeFactory.returnStatementNode(c.NodeFactory.callExpressionNode(e,t))])));return d.NodeUtils.parentizeAst(o),[o]}};o.__decorate([i.initializable(),o.__metadata("design:type",Array)],l.prototype,"expressionArguments",void 0),l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],l),t.CallExpressionFunctionNode=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(3),l=r(5);let u=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e){this.controlFlowStorage=e}getNodeStructure(){const e=Array.from(this.controlFlowStorage.getStorage()).map(([e,t])=>{const r=t.getNode()[0];if(!d.NodeGuards.isExpressionStatementNode(r))throw new Error("Function node for control flow storage object should be passed inside the `ExpressionStatement` node!");return c.NodeFactory.propertyNode(c.NodeFactory.identifierNode(e),r.expression)});let t=c.NodeFactory.variableDeclarationNode([c.NodeFactory.variableDeclaratorNode(c.NodeFactory.identifierNode(this.controlFlowStorage.getStorageId()),c.NodeFactory.objectExpressionNode(e))]);return t=l.NodeUtils.parentizeAst(t),[t]}};o.__decorate([i.initializable(),o.__metadata("design:type",Object)],u.prototype,"controlFlowStorage",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],u),t.ControlFlowStorageNode=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(18),c=r(98),d=r(38),l=r(4),u=r(9),p=r(5);let m=class extends u.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e){this.callsControllerFunctionName=e}getNodeStructure(){return p.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){const e=this.options.target!==s.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():d.GlobalVariableNoEvalTemplate();return i.default(c.ConsoleOutputDisableExpressionTemplate(),{consoleLogDisableFunctionName:this.identifierNamesGenerator.generate(),globalVariableTemplate:e,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}};o.__decorate([l.initializable(),o.__metadata("design:type",String)],m.prototype,"callsControllerFunctionName",void 0),m=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],m),t.ConsoleOutputDisableExpressionNode=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleOutputDisableExpressionTemplate=function(){return"\n        var {consoleLogDisableFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            var func = function () {};\n            \n            {globalVariableTemplate}\n                        \n            if (!that.console) {\n                that.console = (function (func){\n                    var c = {};\n                    \n                    c.log = func;\n                    c.warn = func;\n                    c.debug = func;\n                    c.info = func;\n                    c.error = func;\n                    c.exception = func;\n                    c.trace = func;\n                    \n                    return c;\n                })(func);\n            } else {\n                that.console.log = func;\n                that.console.warn = func;\n                that.console.debug = func;\n                that.console.info = func;\n                that.console.error = func;\n                that.console.exception = func;\n                that.console.trace = func;\n            }\n        });\n        \n        {consoleLogDisableFunctionName}();\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(4),c=r(100),d=r(9),l=r(5);let u=class extends d.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e,t){this.debugProtectionFunctionName=e,this.callsControllerFunctionName=t}getNodeStructure(){return l.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){return i.default(c.DebugProtectionFunctionCallTemplate(),{debugProtectionFunctionName:this.debugProtectionFunctionName,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}};o.__decorate([s.initializable(),o.__metadata("design:type",String)],u.prototype,"callsControllerFunctionName",void 0),o.__decorate([s.initializable(),o.__metadata("design:type",String)],u.prototype,"debugProtectionFunctionName",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],u),t.DebugProtectionFunctionCallNode=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionCallTemplate=function(){return"\n        (function () {\n            {singleNodeCallControllerFunctionName}(this, function () {\n                var regExp1 = new RegExp('function *\\\\( *\\\\)');\n                var regExp2 = new RegExp('\\\\+\\\\+ *\\(?:[a-zA-Z_$][0-9a-zA-Z_$]*\\)', 'i');\n       \n                var result = {debugProtectionFunctionName}('init');\n                \n                if (!regExp1.test(result + 'chain') || !regExp2.test(result + 'input')) {\n                    result('0');\n                } else {\n                    {debugProtectionFunctionName}();\n                }\n            })();\n        })();\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(4),c=r(102),d=r(9),l=r(5);let u=class extends d.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e){this.debugProtectionFunctionName=e}getNodeStructure(){return l.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){return i.default(c.DebugProtectionFunctionIntervalTemplate(),{debugProtectionFunctionName:this.debugProtectionFunctionName})}};o.__decorate([s.initializable(),o.__metadata("design:type",String)],u.prototype,"debugProtectionFunctionName",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],u),t.DebugProtectionFunctionIntervalNode=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionIntervalTemplate=function(){return"\n        setInterval(function () {\n            {debugProtectionFunctionName}();\n        }, 4000);\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(18),c=r(4),d=r(104),l=r(105),u=r(106),p=r(9),m=r(5);let f=class extends p.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e){this.debugProtectionFunctionName=e}getNodeStructure(){return m.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){const e=this.options.target!==s.ObfuscationTarget.BrowserNoEval?d.DebuggerTemplate():l.DebuggerTemplateNoEval();return i.default(u.DebugProtectionFunctionTemplate(),{debuggerTemplate:e,debugProtectionFunctionName:this.debugProtectionFunctionName})}};o.__decorate([c.initializable(),o.__metadata("design:type",String)],f.prototype,"debugProtectionFunctionName",void 0),f=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],f),t.DebugProtectionFunctionNode=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerTemplate=function(){return"\n        if (typeof counter === 'string') {\n            return (function (arg) {}.constructor('while (true) {}').apply('counter'));\n        } else {\n            if (('' + counter / counter)['length'] !== 1 || counter % 20 === 0) {\n                (function () {return true;}.constructor('debu' + 'gger').call('action'));\n            } else {\n                (function () {return false;}.constructor('debu' + 'gger').apply('stateObject'));\n            }\n            \n        }\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerTemplateNoEval=function(){return"\n        if (typeof counter === 'string') {\n            var func = function () {\n                while (true) {}\n            };\n            \n            return func();\n        } else {\n            if (('' + counter / counter)['length'] !== 1 || counter % 20 === 0) {\n                debugger;\n            } else {\n                debugger;\n            }\n            \n        }\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionTemplate=function(){return"\n        function {debugProtectionFunctionName} (ret) {\n            function debuggerProtection (counter) {\n            \n                {debuggerTemplate}\n                \n                debuggerProtection(++counter);\n            }\n            \n            try {\n                if (ret) {\n                    return debuggerProtection;\n                } else {\n                    debuggerProtection(0);\n                }\n            } catch (y) {}\n        }\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(18),c=r(4),d=r(108),l=r(38),u=r(9),p=r(5);let m=class extends u.AbstractCustomNode{constructor(e,t,r,o){super(e,t,o),this.cryptUtils=r}initialize(e){this.callsControllerFunctionName=e}getNodeStructure(){return p.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){const e=this.options.domainLock.join(";"),[t,r]=this.cryptUtils.hideString(e,3*e.length),o=this.options.target!==s.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():l.GlobalVariableNoEvalTemplate();return i.default(d.DomainLockNodeTemplate(),{domainLockFunctionName:this.identifierNamesGenerator.generate(),diff:r,domains:t,globalVariableTemplate:o,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}};o.__decorate([c.initializable(),o.__metadata("design:type",String)],m.prototype,"callsControllerFunctionName",void 0),m=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.ICryptUtils)),o.__param(3,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object,Object])],m),t.DomainLockNode=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomainLockNodeTemplate=function(){return'\n        var {domainLockFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            \n            {globalVariableTemplate}\n            \n            var func = function () {\n                return {\n                    key: \'item\',\n                    value: \'attribute\',\n                    getAttribute: function () {\n                        for (var i = 0; i < 1000; i--) {\n                            var isPositive = i > 0;\n                            \n                            switch (isPositive) {\n                                case true:\n                                    return this.item + \'_\' + this.value + \'_\' + i;\n                                default:\n                                    this.item + \'_\' + this.value;\n                            }\n                        }\n                    }()\n                };\n            };\n                        \n            var regExp = new RegExp("[{diff}]", "g");\n            var domains = "{domains}".replace(regExp, "").split(";");\n            var document;\n            var domain;\n            var location;\n            var hostname;\n\n            for (var d in that) {\n                if (d.length == 8 && d.charCodeAt(7) == 116 && d.charCodeAt(5) == 101 && d.charCodeAt(3) == 117 && d.charCodeAt(0) == 100) {\n                    document = d;\n                \n                    break;\n                }\n            }\n\n            for (var d1 in that[document]) {\n                if (d1.length == 6 && d1.charCodeAt(5) == 110 && d1.charCodeAt(0) == 100) {\n                    domain = d1;\n                    \n                    break;\n                }\n            }\n\n            if (!("~" > domain)) {\n                for (var d2 in that[document]) {\n                    if (d2.length == 8 && d2.charCodeAt(7) == 110 && d2.charCodeAt(0) == 108) {\n                        location = d2;\n                        \n                        break;\n                    }\n                }\n\n                for (var d3 in that[document][location]) {\n                    if (d3.length == 8 && d3.charCodeAt(7) == 101 && d3.charCodeAt(0) == 104) {\n                        hostname = d3;\n                        \n                        break;\n                    }\n                }\n            }\n            \n            if (!document || !that[document]) {\n                return;\n            }\n            \n            var documentDomain = that[document][domain];\n            var documentLocationHostName = !!that[document][location] && that[document][location][hostname];\n            var currentDomain = documentDomain || documentLocationHostName;\n          \n            if (!currentDomain) {\n                return;\n            }\n          \n            var ok = false;\n                        \n            for (var i = 0; i < domains.length; i++) {\n                var domain = domains[i];\n                var position = currentDomain.length - domain.length;\n                var lastIndex = currentDomain.indexOf(domain, position);\n                var endsWith = lastIndex !== -1 && lastIndex === position;\n                \n                if (endsWith) {\n                    if (currentDomain.length == domain.length || domain.indexOf(".") === 0) {\n                        ok = true;\n                    }\n                }\n            }\n               \n            if (!ok) {\n                data;\n            } else {\n                return;\n            }\n            \n            func();\n        });\n\n        {domainLockFunctionName}();\n    '}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(5);let l=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e,t,r,o){this.controlFlowStorageName=e,this.controlFlowStorageKey=t,this.leftValue=r,this.rightValue=o}getNodeStructure(){const e=c.NodeFactory.expressionStatementNode(c.NodeFactory.callExpressionNode(c.NodeFactory.memberExpressionNode(c.NodeFactory.identifierNode(this.controlFlowStorageName),c.NodeFactory.identifierNode(this.controlFlowStorageKey)),[this.leftValue,this.rightValue]));return d.NodeUtils.parentizeAst(e),[e]}};o.__decorate([i.initializable(),o.__metadata("design:type",String)],l.prototype,"controlFlowStorageKey",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",String)],l.prototype,"controlFlowStorageName",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",Object)],l.prototype,"leftValue",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",Object)],l.prototype,"rightValue",void 0),l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],l),t.ExpressionWithOperatorControlFlowStorageCallNode=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(5);let l=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e){this.operator=e}getNodeStructure(){const e=c.NodeFactory.expressionStatementNode(c.NodeFactory.functionExpressionNode([c.NodeFactory.identifierNode("x"),c.NodeFactory.identifierNode("y")],c.NodeFactory.blockStatementNode([c.NodeFactory.returnStatementNode(c.NodeFactory.logicalExpressionNode(this.operator,c.NodeFactory.identifierNode("x"),c.NodeFactory.identifierNode("y")))])));return d.NodeUtils.parentizeAst(e),[e]}};o.__decorate([i.initializable(),o.__metadata("design:type",String)],l.prototype,"operator",void 0),l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],l),t.LogicalExpressionFunctionNode=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(21),c=r(4),d=r(112),l=r(31),u=r(9),p=r(24),m=r(5);let f=class extends u.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e,t){this.appendEvent=e,this.callsControllerFunctionName=t}getNodeStructure(){return m.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){return this.appendEvent===s.ObfuscationEvent.AfterObfuscation?p.JavaScriptObfuscator.obfuscate(i.default(d.SingleNodeCallControllerTemplate(),{singleNodeCallControllerFunctionName:this.callsControllerFunctionName}),Object.assign(Object.assign({},l.NO_ADDITIONAL_NODES_PRESET),{identifierNamesGenerator:this.options.identifierNamesGenerator,identifiersDictionary:this.options.identifiersDictionary,seed:this.options.seed})).getObfuscatedCode():i.default(d.SingleNodeCallControllerTemplate(),{singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}};o.__decorate([c.initializable(),o.__metadata("design:type",String)],f.prototype,"callsControllerFunctionName",void 0),o.__decorate([c.initializable(),o.__metadata("design:type",String)],f.prototype,"appendEvent",void 0),f=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],f),t.NodeCallsControllerFunctionNode=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleNodeCallControllerTemplate=function(){return"\n        var {singleNodeCallControllerFunctionName} = (function(){\n            var firstCall = true;\n            \n            return function (context, fn){\n                var rfn = firstCall ? function(){\n                    if(fn){\n                        var res = fn.apply(context, arguments);\n                        fn = null;\n                        return res;\n                    }\n                } : function(){}\n                \n                firstCall = false;\n                \n                return rfn;\n            }\n        })();\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(4),c=r(31),d=r(114),l=r(9),u=r(24),p=r(5);let m=class extends l.AbstractCustomNode{constructor(e,t,r,o){super(e,t,o),this.escapeSequenceEncoder=r}initialize(e){this.callsControllerFunctionName=e}getNodeStructure(){return p.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){return u.JavaScriptObfuscator.obfuscate(i.default(d.SelfDefendingTemplate(this.escapeSequenceEncoder),{selfDefendingFunctionName:this.identifierNamesGenerator.generate(),singleNodeCallControllerFunctionName:this.callsControllerFunctionName}),Object.assign(Object.assign({},c.NO_ADDITIONAL_NODES_PRESET),{identifierNamesGenerator:this.options.identifierNamesGenerator,identifiersDictionary:this.options.identifiersDictionary,seed:this.options.seed,unicodeEscapeSequence:!0})).getObfuscatedCode()}};o.__decorate([s.initializable(),o.__metadata("design:type",String)],m.prototype,"callsControllerFunctionName",void 0),m=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IEscapeSequenceEncoder)),o.__param(3,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object,Object])],m),t.SelfDefendingUnicodeNode=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e){return`\n        var {selfDefendingFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            var func1 = function(){return 'dev';},\n                func2 = function () {\n                    return 'window';\n                };\n                \n            var test1 = function () {\n                var regExp = new RegExp('${e.encode("\\w+ *\\(\\) *{\\w+ *['|\"].+['|\"];? *}",!0)}');\n                \n                return !regExp.test(func1.toString());\n            };\n            \n            var test2 = function () {\n                var regExp = new RegExp('${e.encode("(\\\\[x|u](\\w){2,4})+",!0)}');\n                \n                return regExp.test(func2.toString());\n            };\n            \n            var recursiveFunc1 = function (string) {\n                var i = ~-1 >> 1 + 255 % 0;\n                                \n                if (string.indexOf('i' === i)) {\n                    recursiveFunc2(string)\n                }\n            };\n            \n            var recursiveFunc2 = function (string) {\n                var i = ~-4 >> 1 + 255 % 0;\n                \n                if (string.indexOf((true+"")[3]) !== i) {\n                    recursiveFunc1(string)\n                }\n            };\n            \n            if (!test1()) {\n                if (!test2()) {\n                    recursiveFunc1('indxOf');\n                } else {\n                    recursiveFunc1('indexOf');\n                }\n            } else {\n                recursiveFunc1('indxOf');\n            }\n        })\n        \n        {selfDefendingFunctionName}();\n    `}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(18),c=r(29),d=r(4),l=r(31),u=r(116),p=r(38),m=r(117),f=r(118),N=r(119),g=r(120),_=r(121),h=r(9),b=r(24),y=r(5);let S=class extends h.AbstractCustomNode{constructor(e,t,r,o){super(e,t,o),this.escapeSequenceEncoder=r}initialize(e,t){this.stringArrayName=e,this.stringArrayCallsWrapperName=t}getNodeStructure(){return y.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){const e=this.getDecodeStringArrayTemplate();return b.JavaScriptObfuscator.obfuscate(i.default(g.StringArrayCallsWrapperTemplate(),{decodeNodeTemplate:e,stringArrayCallsWrapperName:this.stringArrayCallsWrapperName,stringArrayName:this.stringArrayName}),Object.assign(Object.assign({},l.NO_ADDITIONAL_NODES_PRESET),{identifierNamesGenerator:this.options.identifierNamesGenerator,identifiersDictionary:this.options.identifiersDictionary,seed:this.randomGenerator.getRawSeed()})).getObfuscatedCode()}getDecodeStringArrayTemplate(){const e=this.options.target!==s.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():p.GlobalVariableNoEvalTemplate(),t=i.default(u.AtobTemplate(),{globalVariableTemplate:e});let r="",o="";switch(this.options.selfDefending&&(o=i.default(f.SelfDefendingTemplate(this.randomGenerator,this.escapeSequenceEncoder),{stringArrayCallsWrapperName:this.stringArrayCallsWrapperName,stringArrayName:this.stringArrayName})),this.options.stringArrayEncoding){case c.StringArrayEncoding.Rc4:r=i.default(_.StringArrayRc4DecodeNodeTemplate(this.randomGenerator),{atobPolyfill:t,rc4Polyfill:m.Rc4Template(),selfDefendingCode:o,stringArrayCallsWrapperName:this.stringArrayCallsWrapperName});break;case c.StringArrayEncoding.Base64:r=i.default(N.StringArrayBase64DecodeNodeTemplate(this.randomGenerator),{atobPolyfill:t,selfDefendingCode:o,stringArrayCallsWrapperName:this.stringArrayCallsWrapperName})}return r}};o.__decorate([d.initializable(),o.__metadata("design:type",String)],S.prototype,"stringArrayName",void 0),o.__decorate([d.initializable(),o.__metadata("design:type",String)],S.prototype,"stringArrayCallsWrapperName",void 0),S=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IEscapeSequenceEncoder)),o.__param(3,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object,Object])],S),t.StringArrayCallsWrapper=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AtobTemplate=function(){return"\n        (function () {\n            {globalVariableTemplate}\n            \n            var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n            that.atob || (\n                that.atob = function(input) {\n                    var str = String(input).replace(/=+$/, '');\n                    for (\n                        var bc = 0, bs, buffer, idx = 0, output = '';\n                        buffer = str.charAt(idx++);\n                        ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n                            bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n                    ) {\n                        buffer = chars.indexOf(buffer);\n                    }\n                return output;\n            });\n        })();\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rc4Template=function(){return"\n        var rc4 = function (str, key) {\n            var s = [], j = 0, x, res = '', newStr = '';\n           \n            str = atob(str);\n                \n            for (var k = 0, length = str.length; k < length; k++) {\n                newStr += '%' + ('00' + str.charCodeAt(k).toString(16)).slice(-2);\n            }\n        \n            str = decodeURIComponent(newStr);\n                    \t        \n\t        for (var i = 0; i < 256; i++) {\n                s[i] = i;\n            }\n \n            for (i = 0; i < 256; i++) {\n                j = (j + s[i] + key.charCodeAt(i % key.length)) % 256;\n                x = s[i];\n                s[i] = s[j];\n                s[j] = x;\n            }\n            \n            i = 0;\n            j = 0;\n            \n            for (var y = 0; y < str.length; y++) {\n                i = (i + 1) % 256;\n                j = (j + s[i]) % 256;\n                x = s[i];\n                s[i] = s[j];\n                s[j] = x;\n                res += String.fromCharCode(str.charCodeAt(y) ^ s[(s[i] + s[j]) % 256]);\n            }\n                      \n            return res;\n        }\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e,t){const r=e.getRandomString(6),o=e.getRandomString(6),n=e.getRandomString(6),a=e.getRandomString(6),i=e.getRandomString(6),s=e.getRandomString(6),c=e.getRandomString(6),d=e.getRandomString(6),l=e.getRandomString(6);return`\n        var StatesClass = function (${r}) {\n            this.${r} = ${r};\n            this.${o} = [1, 0, 0];\n            this.${n} = function(){return 'newState';};\n            this.${a} = '${t.encode("\\w+ *\\(\\) *{\\w+ *",!0)}';\n            this.${i} = '${t.encode("['|\"].+['|\"];? *}",!0)}';\n        };\n        \n        StatesClass.prototype.${s} = function () {\n            var regExp = new RegExp(this.${a} + this.${i});\n            var expression = regExp.test(this.${n}.toString())\n                ? --this.${o}[1]\n                : --this.${o}[0];\n            \n            return this.${c}(expression);\n        };\n        \n        StatesClass.prototype.${c} = function (${l}) {\n            if (!Boolean(~${l})) {\n                return ${l};\n            }\n            \n            return this.${d}(this.${r});\n        };\n\n        StatesClass.prototype.${d} = function (${r}) {\n            for (var i = 0, len = this.${o}.length; i < len; i++) {\n                this.${o}.push(Math.round(Math.random()));\n                len = this.${o}.length;\n            }\n            \n            return ${r}(this.${o}[0]);\n        };\n\n        new StatesClass({stringArrayCallsWrapperName}).${s}();\n    `}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayBase64DecodeNodeTemplate=function(e){const t=e.getRandomString(6),r=e.getRandomString(6),o=e.getRandomString(6);return`\n        if ({stringArrayCallsWrapperName}.${t} === undefined) {\n            {atobPolyfill}\n            \n            {stringArrayCallsWrapperName}.${r} = function (str) {\n                var string = atob(str);\n                var newStringChars = [];\n                \n                for (var i = 0, length = string.length; i < length; i++) {\n                    newStringChars += '%' + ('00' + string.charCodeAt(i).toString(16)).slice(-2);\n                }\n                \n                return decodeURIComponent(newStringChars);\n            };\n            \n            {stringArrayCallsWrapperName}.${o} = {};\n            \n            {stringArrayCallsWrapperName}.${t} = true;\n        }\n                  \n        var cachedValue = {stringArrayCallsWrapperName}.${o}[index];\n                        \n        if (cachedValue === undefined) {\n            {selfDefendingCode}\n            \n            value = {stringArrayCallsWrapperName}.${r}(value);\n            {stringArrayCallsWrapperName}.${o}[index] = value;\n        } else {\n            value = cachedValue;\n        }\n    `}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayCallsWrapperTemplate=function(){return"\n        var {stringArrayCallsWrapperName} = function (index, key) {\n            index = index - 0;\n            \n            var value = {stringArrayName}[index];\n            \n            {decodeNodeTemplate}\n        \n            return value;\n        };\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRc4DecodeNodeTemplate=function(e){const t=e.getRandomString(6),r=e.getRandomString(6),o=e.getRandomString(6),n=e.getRandomString(6);return`\n        if ({stringArrayCallsWrapperName}.${t} === undefined) {\n            {atobPolyfill}\n            \n            {rc4Polyfill}\n            {stringArrayCallsWrapperName}.${r} = rc4;\n            \n            {stringArrayCallsWrapperName}.${o} = {};\n            \n            {stringArrayCallsWrapperName}.${t} = true;\n        }\n  \n        var cachedValue = {stringArrayCallsWrapperName}.${o}[index];\n\n        if (cachedValue === undefined) {\n            if ({stringArrayCallsWrapperName}.${n} === undefined) {\n                {selfDefendingCode}\n                \n                {stringArrayCallsWrapperName}.${n} = true;\n            }\n            \n            value = {stringArrayCallsWrapperName}.${r}(value, key);\n            {stringArrayCallsWrapperName}.${o}[index] = value;\n        } else {\n            value = cachedValue;\n        }\n    `}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(4),c=r(123),d=r(9),l=r(5);let u=class extends d.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e,t,r){this.stringArrayStorage=e,this.stringArrayName=t,this.stringArrayRotateValue=r}getNode(){return this.stringArrayStorage.rotateArray(this.stringArrayRotateValue),super.getNode()}getNodeStructure(){return l.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){return i.default(c.StringArrayTemplate(),{stringArrayName:this.stringArrayName,stringArray:this.stringArrayStorage.toString()})}};o.__decorate([s.initializable(),o.__metadata("design:type",Object)],u.prototype,"stringArrayStorage",void 0),o.__decorate([s.initializable(),o.__metadata("design:type",String)],u.prototype,"stringArrayName",void 0),o.__decorate([s.initializable(),o.__metadata("design:type",Number)],u.prototype,"stringArrayRotateValue",void 0),u=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],u),t.StringArrayNode=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayTemplate=function(){return"\n        var {stringArrayName} = [{stringArray}];\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importDefault(r(12)),s=r(4),c=r(31),d=r(125),l=r(126),u=r(9),p=r(24),m=r(5),f=r(32);let N=class extends u.AbstractCustomNode{constructor(e,t,r,o){super(e,t,o),this.escapeSequenceEncoder=r}initialize(e,t){this.stringArrayName=e,this.stringArrayRotateValue=t}getNodeStructure(){return m.NodeUtils.convertCodeToStructure(this.getTemplate())}getTemplate(){const e=this.identifierNamesGenerator.generate(),t=this.identifierNamesGenerator.generate();let r="";return r=this.options.selfDefending?i.default(d.SelfDefendingTemplate(this.escapeSequenceEncoder),{timesName:e,whileFunctionName:t}):`${t}(++${e})`,p.JavaScriptObfuscator.obfuscate(i.default(l.StringArrayRotateFunctionTemplate(),{code:r,timesName:e,stringArrayName:this.stringArrayName,stringArrayRotateValue:f.NumberUtils.toHex(this.stringArrayRotateValue),whileFunctionName:t}),Object.assign(Object.assign({},c.NO_ADDITIONAL_NODES_PRESET),{identifierNamesGenerator:this.options.identifierNamesGenerator,identifiersDictionary:this.options.identifiersDictionary,seed:this.randomGenerator.getRawSeed()})).getObfuscatedCode()}};o.__decorate([s.initializable(),o.__metadata("design:type",String)],N.prototype,"stringArrayName",void 0),o.__decorate([s.initializable(),o.__metadata("design:type",Number)],N.prototype,"stringArrayRotateValue",void 0),N=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IEscapeSequenceEncoder)),o.__param(3,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object,Object])],N),t.StringArrayRotateFunctionNode=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e){return`\n        var selfDefendingFunc = function () {\n            var object = {\n                data: {\n                    key: 'cookie',\n                    value: 'timeout'\n                },\n                setCookie: function (options, name, value, document) {\n                    document = document || {};\n                    \n                    var updatedCookie = name + "=" + value;\n\n                    var i = 0;\n                                                            \n                    for (var i = 0, len = options.length; i < len; i++) {\n                        var propName = options[i];\n                                     \n                        updatedCookie += "; " + propName;\n                        \n                        var propValue = options[propName];\n                        \n                        options.push(propValue);\n                        len = options.length;\n                                                                        \n                        if (propValue !== true) {\n                            updatedCookie += "=" + propValue;\n                        }\n                    }\n\n                    document['cookie'] = updatedCookie;\n                },\n                removeCookie: function(){return 'dev';},\n                getCookie: function (document, name) {\n                    document = document || function (value) { return value };\n                    var matches = document(new RegExp(\n                        "(?:^|; )" + name.replace(/([.$?*|{}()[]\\/+^])/g, '\\$1') + "=([^;]*)"\n                    ));\n                    \n                    var func = function (param1, param2) {\n                        param1(++param2);\n                    };\n                    \n                    func({whileFunctionName}, {timesName});\n                                        \n                    return matches ? decodeURIComponent(matches[1]) : undefined;\n                }\n            };\n            \n            var test1 = function () {\n                var regExp = new RegExp('${e.encode("\\w+ *\\(\\) *{\\w+ *['|\"].+['|\"];? *}",!0)}');\n                \n                return regExp.test(object.removeCookie.toString());\n            };\n            \n            object['updateCookie'] = test1;\n            \n            var cookie = '';\n            var result = object['updateCookie']();\n                                    \n            if (!result) {\n                object['setCookie'](['*'], 'counter', 1);\n            } else if (result) {\n                cookie = object['getCookie'](null, 'counter');\n            } else {\n                object['removeCookie']();\n            }\n        };\n        \n        selfDefendingFunc();\n    `}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRotateFunctionTemplate=function(){return"\n        (function (array, {timesName}) {\n            var {whileFunctionName} = function (times) {\n                while (--times) {\n                    array['push'](array['shift']());\n                }\n            };\n            \n            {code}\n        })({stringArrayName}, 0x{stringArrayRotateValue});\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8),d=r(5);let l=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e,t){this.controlFlowStorageName=e,this.controlFlowStorageKey=t}getNodeStructure(){const e=c.NodeFactory.expressionStatementNode(c.NodeFactory.memberExpressionNode(c.NodeFactory.identifierNode(this.controlFlowStorageName),c.NodeFactory.identifierNode(this.controlFlowStorageKey)));return d.NodeUtils.parentizeAst(e),[e]}};o.__decorate([i.initializable(),o.__metadata("design:type",String)],l.prototype,"controlFlowStorageKey",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",String)],l.prototype,"controlFlowStorageName",void 0),l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],l),t.StringLiteralControlFlowStorageCallNode=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(9),c=r(8);let d=class extends s.AbstractCustomNode{constructor(e,t,r){super(e,t,r)}initialize(e){this.literalValue=e}getNodeStructure(){return[c.NodeFactory.expressionStatementNode(c.NodeFactory.literalNode(this.literalValue))]}};o.__decorate([i.initializable(),o.__metadata("design:type",String)],d.prototype,"literalValue",void 0),d=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],d),t.StringLiteralNode=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0);t.finalizingTransformersModule=new o.ContainerModule(e=>{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),n=r(2),a=r(27),i=r(131),s=r(132),c=r(133);t.generatorsModule=new o.ContainerModule(e=>{e(n.ServiceIdentifiers.IIdentifierNamesGenerator).to(i.DictionaryIdentifierNamesGenerator).inSingletonScope().whenTargetNamed(a.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator),e(n.ServiceIdentifiers.IIdentifierNamesGenerator).to(s.HexadecimalIdentifierNamesGenerator).inSingletonScope().whenTargetNamed(a.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator),e(n.ServiceIdentifiers.IIdentifierNamesGenerator).to(c.MangledIdentifierNamesGenerator).inSingletonScope().whenTargetNamed(a.IdentifierNamesGenerator.MangledIdentifierNamesGenerator),e(n.ServiceIdentifiers.Factory__IIdentifierNamesGenerator).toFactory(function(){let e=null;return t=>r=>{if(e)return e;let o;switch(r.identifierNamesGenerator){case a.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator:o=t.container.getNamed(n.ServiceIdentifiers.IIdentifierNamesGenerator,a.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator);break;case a.IdentifierNamesGenerator.MangledIdentifierNamesGenerator:o=t.container.getNamed(n.ServiceIdentifiers.IIdentifierNamesGenerator,a.IdentifierNamesGenerator.MangledIdentifierNamesGenerator);break;case a.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator:default:o=t.container.getNamed(n.ServiceIdentifiers.IIdentifierNamesGenerator,a.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator)}return e=o,o}}())})},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(39);let c=o=class extends s.AbstractIdentifierNamesGenerator{constructor(e,t,r){super(e,t),this.arrayUtils=r,this.identifierNamesSet=new Set(this.getInitialIdentifierNames(this.options.identifiersDictionary)),this.identifiersIterator=this.identifierNamesSet.values()}static incrementIdentifierName(e){let t="",r=!1;for(const o of e)r||o!==o.toUpperCase()?r||o!==o.toLowerCase()?t+=o:(t+=o.toUpperCase(),r=!0):t+=o.toLowerCase();return r?t:null}generate(){if(!this.identifierNamesSet.size)throw new Error("Too many identifiers in the code, add more words to identifiers dictionary");const e=this.identifiersIterator.next();return e.done?(this.identifierNamesSet=new Set(this.getIncrementedIdentifierNames([...this.identifierNamesSet])),this.identifiersIterator=this.identifierNamesSet.values(),this.generate()):e.value}generateWithPrefix(){return`${this.options.identifiersPrefix?`${this.options.identifiersPrefix}_`:""}${this.generate()}`.replace("__","_")}getInitialIdentifierNames(e){const t=e.filter(Boolean).map(e=>e.toLowerCase());return this.arrayUtils.shuffle(t)}getIncrementedIdentifierNames(e){const t=[];for(const r of e){const e=o.incrementIdentifierName(r);e&&t.push(e)}return this.arrayUtils.shuffle(t)}};c=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__param(2,a.inject(i.ServiceIdentifiers.IArrayUtils)),n.__metadata("design:paramtypes",[Object,Object,Object])],c),t.DictionaryIdentifierNamesGenerator=c},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(39),c=r(32),d=r(26);let l=o=class extends s.AbstractIdentifierNamesGenerator{constructor(e,t){super(e,t),this.randomVariableNameSet=new Set}generate(e){const t=this.randomGenerator.getRandomInteger(1e4,99999999),r=c.NumberUtils.toHex(t),n=d.Utils.hexadecimalPrefix.length+1,a=e?e-n:o.baseIdentifierNameLength,i=r.substr(0,a),s=`_${d.Utils.hexadecimalPrefix}${i}`;return this.randomVariableNameSet.has(s)?this.generate(e):(this.randomVariableNameSet.add(s),s)}generateWithPrefix(e){const t=this.generate(e);return`${this.options.identifiersPrefix}${t}`.replace("__","_")}};l.baseIdentifierNameLength=6,l=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],l),t.HexadecimalIdentifierNamesGenerator=l},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(39);let c=o=class extends s.AbstractIdentifierNamesGenerator{constructor(e,t){super(e,t),this.previousMangledName=o.initMangledNameCharacter}generate(e){const t=this.generateNewMangledName(this.previousMangledName);return this.previousMangledName=t,t}generateWithPrefix(e){return`${this.options.identifiersPrefix?`${this.options.identifiersPrefix}_`:""}${this.generate(e)}`}isValidIdentifierName(e){return super.isValidIdentifierName(e)&&!o.reservedNames.includes(e)}generateNewMangledName(e){let t=(e=>{const t=o.nameSequence,r=e.length,n=e=>"0".repeat(e);let a=r-1;do{const o=e.charAt(a),i=t.indexOf(o);if(i!==t.length-1){return e.substring(0,a)+t[i+1]+n(r-(a+1))}--a}while(a>=0);return`a${n(r)}`})(e);return this.isValidIdentifierName(t)||(t=this.generateNewMangledName(t)),t}};c.initMangledNameCharacter="9",c.nameSequence="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),c.reservedNames=["byte","case","char","do","else","enum","eval","for","goto","if","in","int","let","long","new","null","this","true","try","var","void","with"],c=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],c),t.MangledIdentifierNamesGenerator=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(15),n=r(0),a=r(2);t.nodeTransformersModule=new n.ContainerModule(e=>{e(a.ServiceIdentifiers.Factory__INodeTransformer).toFactory(o.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.INodeTransformer))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(15),n=r(0),a=r(2),i=r(14),s=r(50),c=r(20),d=r(136),l=r(137),u=r(138),p=r(139),m=r(140),f=r(141),N=r(142),g=r(143),_=r(144),h=r(145),b=r(146),y=r(147);t.obfuscatingTransformersModule=new n.ContainerModule(e=>{e(a.ServiceIdentifiers.INodeTransformer).to(u.CatchClauseTransformer).whenTargetNamed(c.NodeTransformer.CatchClauseTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(p.ClassDeclarationTransformer).whenTargetNamed(c.NodeTransformer.ClassDeclarationTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(m.FunctionDeclarationTransformer).whenTargetNamed(c.NodeTransformer.FunctionDeclarationTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(f.FunctionTransformer).whenTargetNamed(c.NodeTransformer.FunctionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(N.ImportDeclarationTransformer).whenTargetNamed(c.NodeTransformer.ImportDeclarationTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(g.LabeledStatementTransformer).whenTargetNamed(c.NodeTransformer.LabeledStatementTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(_.LiteralTransformer).whenTargetNamed(c.NodeTransformer.LiteralTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(y.VariableDeclarationTransformer).whenTargetNamed(c.NodeTransformer.VariableDeclarationTransformer),e(a.ServiceIdentifiers.IObfuscatingReplacer).to(l.BooleanLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.BooleanLiteralObfuscatingReplacer),e(a.ServiceIdentifiers.IObfuscatingReplacer).to(h.NumberLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.NumberLiteralObfuscatingReplacer),e(a.ServiceIdentifiers.IObfuscatingReplacer).to(b.StringLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.StringLiteralObfuscatingReplacer),e(a.ServiceIdentifiers.IIdentifierObfuscatingReplacer).to(d.BaseIdentifierObfuscatingReplacer).whenTargetNamed(i.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),e(a.ServiceIdentifiers.Factory__IObfuscatingReplacer).toFactory(o.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.IObfuscatingReplacer)),e(a.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer).toFactory(o.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.IIdentifierObfuscatingReplacer))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(33),s=r(8);let c=class extends i.AbstractObfuscatingReplacer{constructor(e,t){super(t),this.blockScopesMap=new Map,this.identifierNamesGenerator=e(t)}replace(e,t){if(this.blockScopesMap.has(t)){const r=this.blockScopesMap.get(t);r.has(e)&&(e=r.get(e))}return s.NodeFactory.identifierNode(e)}storeGlobalName(e,t){if(this.isReservedName(e))return;const r=this.identifierNamesGenerator.generateWithPrefix();this.blockScopesMap.has(t)||this.blockScopesMap.set(t,new Map),this.blockScopesMap.get(t).set(e,r)}storeLocalName(e,t){if(this.isReservedName(e))return;const r=this.identifierNamesGenerator.generate();this.blockScopesMap.has(t)||this.blockScopesMap.set(t,new Map),this.blockScopesMap.get(t).set(e,r)}preserveName(e){this.identifierNamesGenerator.preserveName(e)}isReservedName(e){return!!this.options.reservedNames.length&&this.options.reservedNames.some(t=>null!==new RegExp(t,"g").exec(e))}};c=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object])],c),t.BaseIdentifierObfuscatingReplacer=c},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(33),c=r(8);let d=o=class extends s.AbstractObfuscatingReplacer{constructor(e){super(e)}static getTrueUnaryExpressionNode(){return c.NodeFactory.unaryExpressionNode("!",o.getFalseUnaryExpressionNode())}static getFalseUnaryExpressionNode(){return c.NodeFactory.unaryExpressionNode("!",c.NodeFactory.arrayExpressionNode())}replace(e){return e?o.getTrueUnaryExpressionNode():o.getFalseUnaryExpressionNode()}};d=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object])],d),t.BooleanLiteralObfuscatingReplacer=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importStar(r(10)),s=r(14),c=r(6),d=r(7),l=r(3),u=r(22),p=r(11);let m=class extends d.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.identifierObfuscatingReplacer=e(s.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}getVisitor(e){switch(e){case c.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&l.NodeGuards.isCatchClauseNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const r=u.NodeLexicalScopeUtils.getLexicalScope(e);return r?(this.storeCatchClauseParam(e,r),this.replaceCatchClauseParam(e,r),e):e}storeCatchClauseParam(e,t){l.NodeGuards.isIdentifierNode(e.param)&&this.identifierObfuscatingReplacer.storeLocalName(e.param.name,t)}replaceCatchClauseParam(e,t){i.replace(e,{enter:(e,r)=>{if(r&&l.NodeGuards.isReplaceableIdentifierNode(e,r)){const r=this.identifierObfuscatingReplacer.replace(e.name,t).name;e.name!==r&&(e.name=r,p.NodeMetadata.set(e,{renamedIdentifier:!0}))}}})}};m=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],m),t.CatchClauseTransformer=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importStar(r(10)),s=r(14),c=r(13),d=r(6),l=r(7),u=r(3),p=r(22),m=r(11);let f=class extends l.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.replaceableIdentifiers=new Map,this.identifierObfuscatingReplacer=e(s.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}getVisitor(e){switch(e){case d.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&u.NodeGuards.isClassDeclarationNode(e)&&!u.NodeGuards.isExportNamedDeclarationNode(t))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const r=p.NodeLexicalScopeUtils.getLexicalScope(e);if(!r)return e;const o=r.type===c.NodeType.Program;return!this.options.renameGlobals&&o?e:(this.storeClassName(e,r,o),this.replaceableIdentifiers.has(r)?this.replaceScopeCachedIdentifiers(e,r):this.replaceScopeIdentifiers(r),e)}storeClassName(e,t,r){r?this.identifierObfuscatingReplacer.storeGlobalName(e.id.name,t):this.identifierObfuscatingReplacer.storeLocalName(e.id.name,t)}replaceScopeCachedIdentifiers(e,t){const r=this.replaceableIdentifiers.get(t).get(e.id.name);if(!r)return;const o=r.length;for(let e=0;e<o;e++){const o=r[e],n=this.identifierObfuscatingReplacer.replace(o.name,t);o.name=n.name,m.NodeMetadata.set(o,{renamedIdentifier:!0})}}replaceScopeIdentifiers(e){const t=new Map;i.replace(e,{enter:(r,o)=>{if(o&&u.NodeGuards.isReplaceableIdentifierNode(r,o)&&!m.NodeMetadata.isRenamedIdentifier(r)){const o=this.identifierObfuscatingReplacer.replace(r.name,e).name;if(r.name!==o)r.name=o,m.NodeMetadata.set(r,{renamedIdentifier:!0});else{const e=t.get(r.name)||[];e.push(r),t.set(r.name,e)}}}}),this.replaceableIdentifiers.set(e,t)}};f=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],f),t.ClassDeclarationTransformer=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importStar(r(10)),s=r(14),c=r(13),d=r(6),l=r(7),u=r(3),p=r(22),m=r(11);let f=class extends l.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.replaceableIdentifiers=new Map,this.identifierObfuscatingReplacer=e(s.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}getVisitor(e){switch(e){case d.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&u.NodeGuards.isFunctionDeclarationNode(e)&&!u.NodeGuards.isExportNamedDeclarationNode(t))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const r=p.NodeLexicalScopeUtils.getLexicalScope(t);if(!r)return e;const o=r.type===c.NodeType.Program;return!this.options.renameGlobals&&o?e:(this.storeFunctionName(e,r,o),this.replaceableIdentifiers.has(r)?this.replaceScopeCachedIdentifiers(e,r):this.replaceScopeIdentifiers(r),e)}storeFunctionName(e,t,r){r?this.identifierObfuscatingReplacer.storeGlobalName(e.id.name,t):this.identifierObfuscatingReplacer.storeLocalName(e.id.name,t)}replaceScopeCachedIdentifiers(e,t){const r=this.replaceableIdentifiers.get(t).get(e.id.name);if(!r)return;const o=r.length;for(let e=0;e<o;e++){const o=r[e],n=this.identifierObfuscatingReplacer.replace(o.name,t);o.name=n.name,m.NodeMetadata.set(o,{renamedIdentifier:!0})}}replaceScopeIdentifiers(e){const t=new Map;i.replace(e,{enter:(r,o)=>{if(o&&o!==e&&u.NodeGuards.isReplaceableIdentifierNode(r,o)&&!m.NodeMetadata.isRenamedIdentifier(r)){const o=this.identifierObfuscatingReplacer.replace(r.name,e).name;if(r.name!==o)r.name=o,m.NodeMetadata.set(r,{renamedIdentifier:!0});else{const e=t.get(r.name)||[];e.push(r),t.set(r.name,e)}}}}),this.replaceableIdentifiers.set(e,t)}};f=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],f),t.FunctionDeclarationTransformer=f},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importStar(r(10)),c=r(14),d=r(6),l=r(7),u=r(3),p=r(22),m=r(11),f=r(13);let N=o=class extends l.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.identifierObfuscatingReplacer=e(c.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}static isProhibitedIdentifierOfPropertyNode(e,t){return u.NodeGuards.isIdentifierNode(e)&&!!t&&u.NodeGuards.isPropertyNode(t)&&t.key===e}static isProhibitedIdentifierOfShorthandPropertyNode(e){return u.NodeGuards.isPropertyNode(e)&&e.shorthand&&u.NodeGuards.isIdentifierNode(e.key)}getVisitor(e){switch(e){case d.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&u.NodeGuards.isFunctionNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const r=p.NodeLexicalScopeUtils.getLexicalScope(e);return r?(this.storeFunctionParams(e,r),this.replaceFunctionParams(e,r),e):e}isGlobalFunctionDeclarationIdentifier(e,t){if(!u.NodeGuards.isFunctionDeclarationNode(t)||t.id!==e)return!1;const r=p.NodeLexicalScopeUtils.getLexicalScopes(t)[1];if(!r)return!1;const o=r.type===f.NodeType.Program;return!this.options.renameGlobals&&o}storeFunctionParams(e,t){const r={enter:(e,r)=>{if(!o.isProhibitedIdentifierOfPropertyNode(e,r))return u.NodeGuards.isAssignmentPatternNode(e)&&u.NodeGuards.isIdentifierNode(e.left)?(this.identifierObfuscatingReplacer.storeLocalName(e.left.name,t),s.VisitorOption.Skip):void(u.NodeGuards.isIdentifierNode(e)&&this.identifierObfuscatingReplacer.storeLocalName(e.name,t))}};e.params.forEach(e=>{s.traverse(e,r)})}replaceFunctionParams(e,t,r=new Set){const n={enter:(n,a)=>{if(u.NodeGuards.isFunctionNode(n)&&n!==e)return this.replaceFunctionParams(n,t,new Set(r)),s.VisitorOption.Skip;if(o.isProhibitedIdentifierOfShorthandPropertyNode(n))r.add(n.key.name);else if(a&&u.NodeGuards.isReplaceableIdentifierNode(n,a)&&!m.NodeMetadata.isRenamedIdentifier(n)&&!r.has(n.name)){if(this.isGlobalFunctionDeclarationIdentifier(n,a))return;const e=this.identifierObfuscatingReplacer.replace(n.name,t).name;n.name!==e&&(n.name=e,m.NodeMetadata.set(n,{renamedIdentifier:!0}))}}};s.replace(e,n)}};N=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],N),t.FunctionTransformer=N},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importStar(r(10)),c=r(14),d=r(6),l=r(7),u=r(3),p=r(22),m=r(11);let f=o=class extends l.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.replaceableIdentifiers=new Map,this.identifierObfuscatingReplacer=e(c.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}static isProhibitedImportSpecifierNode(e){return u.NodeGuards.isImportSpecifierNode(e)&&e.imported.name===e.local.name}getVisitor(e){switch(e){case d.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&u.NodeGuards.isImportDeclarationNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const r=p.NodeLexicalScopeUtils.getLexicalScope(e);return r?(this.storeImportSpecifierNames(e,r),this.replaceableIdentifiers.has(r)?this.replaceScopeCachedIdentifiers(r):this.replaceScopeIdentifiers(r),e):e}storeImportSpecifierNames(e,t){e.specifiers.forEach(e=>{o.isProhibitedImportSpecifierNode(e)||this.identifierObfuscatingReplacer.storeGlobalName(e.local.name,t)})}replaceScopeCachedIdentifiers(e){this.replaceableIdentifiers.get(e).forEach(t=>{const r=this.identifierObfuscatingReplacer.replace(t.name,e);t.name=r.name,m.NodeMetadata.set(t,{renamedIdentifier:!0})})}replaceScopeIdentifiers(e){const t=[];s.replace(e,{enter:(r,o)=>{if(o&&u.NodeGuards.isReplaceableIdentifierNode(r,o)&&!m.NodeMetadata.isRenamedIdentifier(r)){const o=this.identifierObfuscatingReplacer.replace(r.name,e).name;r.name!==o?(r.name=o,m.NodeMetadata.set(r,{renamedIdentifier:!0})):t.push(r)}}}),this.replaceableIdentifiers.set(e,t)}};f=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],f),t.ImportDeclarationTransformer=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importStar(r(10)),s=r(14),c=r(6),d=r(7),l=r(3),u=r(22);let p=class extends d.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.identifierObfuscatingReplacer=e(s.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}getVisitor(e){switch(e){case c.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&l.NodeGuards.isLabeledStatementNode(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const r=u.NodeLexicalScopeUtils.getLexicalScope(e);return r?(this.storeLabeledStatementName(e,r),this.replaceLabeledStatementName(e,r),e):e}storeLabeledStatementName(e,t){this.identifierObfuscatingReplacer.storeLocalName(e.label.name,t)}replaceLabeledStatementName(e,t){i.replace(e,{enter:(e,r)=>{if(r&&l.NodeGuards.isLabelIdentifierNode(e,r)){const r=this.identifierObfuscatingReplacer.replace(e.name,t);e.name=r.name}}})}};p=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],p),t.LabeledStatementTransformer=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(50),s=r(6),c=r(7),d=r(3),l=r(11),u=r(5);let p=class extends c.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.literalObfuscatingReplacerFactory=e}getVisitor(e){switch(e){case s.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&d.NodeGuards.isLiteralNode(e)&&!l.NodeMetadata.isReplacedLiteral(e))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){if(this.isProhibitedNode(e,t))return e;let r;switch(typeof e.value){case"boolean":r=this.literalObfuscatingReplacerFactory(i.LiteralObfuscatingReplacer.BooleanLiteralObfuscatingReplacer).replace(e.value);break;case"number":r=this.literalObfuscatingReplacerFactory(i.LiteralObfuscatingReplacer.NumberLiteralObfuscatingReplacer).replace(e.value);break;case"string":r=this.literalObfuscatingReplacerFactory(i.LiteralObfuscatingReplacer.StringLiteralObfuscatingReplacer).replace(e.value);break;default:r=e}return u.NodeUtils.parentizeNode(r,t),r}isProhibitedNode(e,t){return!(!d.NodeGuards.isPropertyNode(t)||t.key!==e)||!!d.NodeGuards.isImportDeclarationNode(t)}};p=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IObfuscatingReplacer)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],p),t.LiteralTransformer=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(33),s=r(8),c=r(32),d=r(26);let l=class extends i.AbstractObfuscatingReplacer{constructor(e){super(e),this.numberLiteralCache=new Map}replace(e){let t;return this.numberLiteralCache.has(e)?t=this.numberLiteralCache.get(e):(t=c.NumberUtils.isCeil(e)?`${d.Utils.hexadecimalPrefix}${c.NumberUtils.toHex(e)}`:String(e),this.numberLiteralCache.set(e,t)),s.NodeFactory.literalNode(e,t)}};l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object])],l),t.NumberLiteralObfuscatingReplacer=l},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(29),c=r(33),d=r(11),l=r(8),u=r(32),p=r(26);let m=o=class extends c.AbstractObfuscatingReplacer{constructor(e,t,r,n,a){super(a),this.nodesCache=new Map,this.stringLiteralHexadecimalIndexCache=new Map,this.stringArrayStorage=e,this.escapeSequenceEncoder=t,this.randomGenerator=r,this.cryptUtils=n,this.rc4Keys=this.randomGenerator.getRandomGenerator().n(()=>this.randomGenerator.getRandomGenerator().string({length:o.rc4KeyLength}),o.rc4KeysCount)}static getHexadecimalLiteralNode(e){const t=l.NodeFactory.literalNode(e);return d.NodeMetadata.set(t,{replacedLiteral:!0}),t}static getRc4KeyLiteralNode(e){const t=l.NodeFactory.literalNode(e);return d.NodeMetadata.set(t,{replacedLiteral:!0}),t}replace(e){const t=this.canUseStringArray(e),r=`${e}-${String(t)}`;if(this.nodesCache.has(r)&&this.options.stringArrayEncoding!==s.StringArrayEncoding.Rc4)return this.nodesCache.get(r);const o=t?this.replaceWithStringArrayCallNode(e):this.replaceWithLiteralNode(e);return this.nodesCache.set(r,o),o}canUseStringArray(e){return this.options.stringArray&&e.length>=o.minimumLengthForStringArray&&this.randomGenerator.getMathRandom()<=this.options.stringArrayThreshold}getStringArrayHexadecimalIndex(e,t){if(this.stringLiteralHexadecimalIndexCache.has(e))return{fromCache:!0,index:this.stringLiteralHexadecimalIndexCache.get(e)};const r=u.NumberUtils.toHex(t),o=`${p.Utils.hexadecimalPrefix}${r}`;return this.stringLiteralHexadecimalIndexCache.set(e,o),{fromCache:!1,index:o}}getEncodedValue(e){let t,r=null;switch(this.options.stringArrayEncoding){case s.StringArrayEncoding.Rc4:r=this.randomGenerator.getRandomGenerator().pickone(this.rc4Keys),t=this.cryptUtils.btoa(this.cryptUtils.rc4(e,r));break;case s.StringArrayEncoding.Base64:t=this.cryptUtils.btoa(e);break;default:t=e}return{encodedValue:t,key:r}}replaceWithLiteralNode(e){return l.NodeFactory.literalNode(this.escapeSequenceEncoder.encode(e,this.options.unicodeEscapeSequence))}replaceWithStringArrayCallNode(e){const{encodedValue:t,key:r}=this.getEncodedValue(e),n=this.escapeSequenceEncoder.encode(t,this.options.unicodeEscapeSequence),a=this.stringArrayStorage.getLength(),i=this.stringArrayStorage.getStorageId().split("|")[1],{fromCache:s,index:c}=this.getStringArrayHexadecimalIndex(n,a);s||this.stringArrayStorage.set(a,n);const u=[o.getHexadecimalLiteralNode(c)];r&&u.push(o.getRc4KeyLiteralNode(this.escapeSequenceEncoder.encode(r,this.options.unicodeEscapeSequence)));const p=l.NodeFactory.identifierNode(i);return d.NodeMetadata.set(p,{renamedIdentifier:!0}),l.NodeFactory.callExpressionNode(p,u)}};m.minimumLengthForStringArray=3,m.rc4KeyLength=4,m.rc4KeysCount=50,m=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.TStringArrayStorage)),n.__param(1,a.inject(i.ServiceIdentifiers.IEscapeSequenceEncoder)),n.__param(2,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(3,a.inject(i.ServiceIdentifiers.ICryptUtils)),n.__param(4,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object,Object,Object,Object])],m),t.StringLiteralObfuscatingReplacer=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importStar(r(10)),s=r(14),c=r(13),d=r(6),l=r(7),u=r(3),p=r(22),m=r(148),f=r(11);let N=class extends l.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.replaceableIdentifiers=new Map,this.identifierObfuscatingReplacer=e(s.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}getVisitor(e){switch(e){case d.TransformationStage.Obfuscating:return{enter:(e,t)=>{if(t&&u.NodeGuards.isVariableDeclarationNode(e)&&!u.NodeGuards.isExportNamedDeclarationNode(t))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){const r="var"===e.kind?p.NodeLexicalScopeUtils.getLexicalScope(e):m.NodeBlockLexicalScopeUtils.getLexicalScope(e);if(!r)return e;const o=r.type===c.NodeType.Program;if(!this.options.renameGlobals&&o)return e;const n="var"===e.kind?r:t;return this.storeVariableNames(e,r,o),this.replaceableIdentifiers.has(n)?this.replaceScopeCachedIdentifiers(e,r,n):this.replaceScopeIdentifiers(n,r),e}storeVariableNames(e,t,r){this.traverseDeclarationIdentifiers(e,e=>{r?this.identifierObfuscatingReplacer.storeGlobalName(e.name,t):this.identifierObfuscatingReplacer.storeLocalName(e.name,t)})}replaceScopeCachedIdentifiers(e,t,r){const o=this.replaceableIdentifiers.get(r),n=[];this.traverseDeclarationIdentifiers(e,e=>{n.push(e.name)}),n.forEach(e=>{const r=o.get(e);if(!r)return;const n=r.length;for(let o=0;o<n;o++){const n=r[o];if(e!==n.name)continue;const a=this.identifierObfuscatingReplacer.replace(n.name,t);n.name=a.name,f.NodeMetadata.set(n,{renamedIdentifier:!0})}})}replaceScopeIdentifiers(e,t){const r=new Map;i.replace(e,{enter:(e,o)=>{if(o&&u.NodeGuards.isReplaceableIdentifierNode(e,o)&&!f.NodeMetadata.isRenamedIdentifier(e)){const o=this.identifierObfuscatingReplacer.replace(e.name,t).name;if(e.name!==o)e.name=o,f.NodeMetadata.set(e,{renamedIdentifier:!0});else{const t=r.get(e.name)||[];t.push(e),r.set(e.name,t)}}}}),this.replaceableIdentifiers.set(e,r)}traverseDeclarationIdentifiers(e,t){e.declarations.forEach(e=>{i.traverse(e.id,{enter:e=>{if(u.NodeGuards.isPropertyNode(e))return i.VisitorOption.Skip;u.NodeGuards.isIdentifierNode(e)&&t(e)}})})}};N=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),o.__param(1,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],N),t.VariableDeclarationTransformer=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);class n{static getLexicalScope(e){return n.getLexicalScopesRecursive(e,1)[0]}static getLexicalScopes(e){return n.getLexicalScopesRecursive(e)}static getLexicalScopesRecursive(e,t=1/0,r=[],a=0){if(r.length>=t)return r;const i=e.parentNode;if(!i)throw new ReferenceError("`parentNode` property of given node is `undefined`");return o.NodeGuards.isNodeWithBlockLexicalScope(e)&&r.push(e),e!==i?n.getLexicalScopesRecursive(i,t,r,++a):r}}t.NodeBlockLexicalScopeUtils=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),n=r(2),a=r(150),i=r(153);t.optionsModule=new o.ContainerModule(e=>{e(n.ServiceIdentifiers.IOptions).to(a.Options).inSingletonScope(),e(n.ServiceIdentifiers.IOptionsNormalizer).to(i.OptionsNormalizer).inSingletonScope()})},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(151),c=r(27),d=r(18),l=r(28),u=r(29),p=r(40),m=r(152);let f=o=class{constructor(e,t){Object.assign(this,p.DEFAULT_PRESET,e);const r=s.validateSync(this,o.validatorOptions);if(r.length)throw new ReferenceError(`Validation failed. errors:\n${m.ValidationErrorsFormatter.format(r)}`);Object.assign(this,t.normalize(this))}};f.validatorOptions={validationError:{target:!1}},n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"compact",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"controlFlowFlattening",void 0),n.__decorate([s.IsNumber(),s.Min(0),s.Max(1),n.__metadata("design:type",Number)],f.prototype,"controlFlowFlatteningThreshold",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"deadCodeInjection",void 0),n.__decorate([s.IsNumber(),n.__metadata("design:type",Number)],f.prototype,"deadCodeInjectionThreshold",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"debugProtection",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"debugProtectionInterval",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"disableConsoleOutput",void 0),n.__decorate([s.IsArray(),s.ArrayUnique(),s.IsString({each:!0}),n.__metadata("design:type",Array)],f.prototype,"domainLock",void 0),n.__decorate([s.IsIn([c.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator,c.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,c.IdentifierNamesGenerator.MangledIdentifierNamesGenerator]),n.__metadata("design:type",Object)],f.prototype,"identifierNamesGenerator",void 0),n.__decorate([s.IsString(),n.__metadata("design:type",String)],f.prototype,"identifiersPrefix",void 0),n.__decorate([s.IsArray(),s.ArrayUnique(),s.IsString({each:!0}),s.ValidateIf(e=>e.identifierNamesGenerator===c.IdentifierNamesGenerator.DictionaryIdentifierNamesGenerator),s.ArrayNotEmpty(),n.__metadata("design:type",Array)],f.prototype,"identifiersDictionary",void 0),n.__decorate([s.IsString(),n.__metadata("design:type",String)],f.prototype,"inputFileName",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"log",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"renameGlobals",void 0),n.__decorate([s.IsArray(),s.ArrayUnique(),s.IsString({each:!0}),n.__metadata("design:type",Array)],f.prototype,"reservedNames",void 0),n.__decorate([s.IsArray(),s.ArrayUnique(),s.IsString({each:!0}),n.__metadata("design:type",Array)],f.prototype,"reservedStrings",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"rotateStringArray",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"selfDefending",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"sourceMap",void 0),n.__decorate([s.IsString(),s.ValidateIf(e=>Boolean(e.sourceMapBaseUrl)),s.IsUrl({require_protocol:!0,require_tld:!1,require_valid_protocol:!0}),n.__metadata("design:type",String)],f.prototype,"sourceMapBaseUrl",void 0),n.__decorate([s.IsString(),n.__metadata("design:type",String)],f.prototype,"sourceMapFileName",void 0),n.__decorate([s.IsIn([l.SourceMapMode.Inline,l.SourceMapMode.Separate]),n.__metadata("design:type",Object)],f.prototype,"sourceMapMode",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"splitStrings",void 0),n.__decorate([s.IsNumber(),s.ValidateIf(e=>Boolean(e.splitStrings)),s.Min(1),n.__metadata("design:type",Number)],f.prototype,"splitStringsChunkLength",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"stringArray",void 0),n.__decorate([s.IsIn([!0,!1,u.StringArrayEncoding.Base64,u.StringArrayEncoding.Rc4]),n.__metadata("design:type",Object)],f.prototype,"stringArrayEncoding",void 0),n.__decorate([s.IsNumber(),s.Min(0),s.Max(1),n.__metadata("design:type",Number)],f.prototype,"stringArrayThreshold",void 0),n.__decorate([s.IsIn([d.ObfuscationTarget.Browser,d.ObfuscationTarget.BrowserNoEval,d.ObfuscationTarget.Node]),n.__metadata("design:type",Object)],f.prototype,"target",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"transformObjectKeys",void 0),n.__decorate([s.IsBoolean(),n.__metadata("design:type",Boolean)],f.prototype,"unicodeEscapeSequence",void 0),f=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.TInputOptions)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptionsNormalizer)),n.__metadata("design:paramtypes",[Object,Object])],f),t.Options=f},function(e,t){e.exports=require("class-validator")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{static format(e){return e.reduce((e,t)=>[...e,o.formatWithNestedConstraints(t)],[]).join("\n")}static formatWithNestedConstraints(e){const t=e.constraints;return`${`\`${e.property}\` errors:\n`}${Object.keys(t).map(e=>`    - ${t[e]}\n`).join()}`}}t.ValidationErrorsFormatter=o},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(154),s=r(155),c=r(156),d=r(157),l=r(158),u=r(159),p=r(160),m=r(161),f=r(162),N=r(163),g=r(164),_=r(165),h=r(166);let b=o=class{normalize(e){let t=Object.assign({},e);for(const e of o.normalizerRules)t=e(t);return t}};b.normalizerRules=[i.ControlFlowFlatteningThresholdRule,s.DeadCodeInjectionRule,c.DeadCodeInjectionThresholdRule,d.DomainLockRule,l.InputFileNameRule,u.SeedRule,p.SelfDefendingRule,m.SourceMapBaseUrlRule,f.SourceMapFileNameRule,N.SplitStringsChunkLengthRule,g.StringArrayRule,_.StringArrayEncodingRule,h.StringArrayThresholdRule],b=o=n.__decorate([a.injectable()],b),t.OptionsNormalizer=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlFlowFlatteningThresholdRule=e=>(0===e.controlFlowFlatteningThreshold&&(e=Object.assign(Object.assign({},e),{controlFlowFlattening:!1,controlFlowFlatteningThreshold:0})),e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(40);t.DeadCodeInjectionRule=e=>(e.deadCodeInjection&&((e=Object.assign(Object.assign({},e),{deadCodeInjection:!0,stringArray:!0})).stringArrayThreshold||(e=Object.assign(Object.assign({},e),{stringArray:!0,stringArrayThreshold:o.DEFAULT_PRESET.stringArrayThreshold}))),e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeadCodeInjectionThresholdRule=e=>(0===e.deadCodeInjectionThreshold&&(e=Object.assign(Object.assign({},e),{deadCodeInjection:!1,deadCodeInjectionThreshold:0})),e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(26);t.DomainLockRule=e=>{if(e.domainLock.length){const t=[];for(const r of e.domainLock)t.push(o.Utils.extractDomainFrom(r));e=Object.assign(Object.assign({},e),{domainLock:t})}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(41);t.InputFileNameRule=e=>{let{inputFileName:t}=e;return t&&(t=t.replace(/^\/+/,"").split(o.StringSeparator.Dot).slice(0,-1).join(o.StringSeparator.Dot)||t,e=Object.assign(Object.assign({},e),{inputFileName:`${t}.js`})),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeedRule=e=>{if(e.seed)return Object.assign(Object.assign({},e),{seed:e.seed});return Object.assign(Object.assign({},e),{seed:(t=0,r=999999999,Math.floor(Math.random()*(r-t+1)+t))});var t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingRule=e=>(e.selfDefending&&(e=Object.assign(Object.assign({},e),{compact:!0,selfDefending:!0})),e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapBaseUrlRule=e=>{const{sourceMapBaseUrl:t}=e;return e.sourceMapFileName?(t&&!t.endsWith("/")&&(e=Object.assign(Object.assign({},e),{sourceMapBaseUrl:`${t}/`})),e):e=Object.assign(Object.assign({},e),{sourceMapBaseUrl:""})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(41);t.SourceMapFileNameRule=e=>{let{sourceMapFileName:t}=e;if(t){t=t.replace(/^\/+/,"").replace(/(?:\.js)?(?:\.map)?$/,"");let r=t.split(o.StringSeparator.Dot);const n=r.length,a=r[n-1];n>1&&a.length<=3&&(r=r.slice(0,-1)),t=r.join(o.StringSeparator.Dot),e=Object.assign(Object.assign({},e),{sourceMapFileName:`${t}.js.map`})}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStringsChunkLengthRule=e=>e=0===e.splitStringsChunkLength?Object.assign(Object.assign({},e),{splitStrings:!1,splitStringsChunkLength:0}):Object.assign(Object.assign({},e),{splitStringsChunkLength:Math.floor(e.splitStringsChunkLength)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRule=e=>(e.stringArray||(e=Object.assign(Object.assign({},e),{rotateStringArray:!1,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0})),e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(29);t.StringArrayEncodingRule=e=>(!0===e.stringArrayEncoding&&(e=Object.assign(Object.assign({},e),{stringArrayEncoding:o.StringArrayEncoding.Base64})),e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayThresholdRule=e=>(0===e.stringArrayThreshold&&(e=Object.assign(Object.assign({},e),{rotateStringArray:!1,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0})),e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(15),n=r(0),a=r(2),i=r(20),s=r(51),c=r(168),d=r(169),l=r(52),u=r(170),p=r(171),m=r(173),f=r(174),N=r(175),g=r(176),_=r(177);t.preparingTransformersModule=new n.ContainerModule(e=>{e(a.ServiceIdentifiers.INodeTransformer).to(d.CommentsTransformer).whenTargetNamed(i.NodeTransformer.CommentsTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(u.CustomNodesTransformer).whenTargetNamed(i.NodeTransformer.CustomNodesTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(p.EvalCallExpressionTransformer).whenTargetNamed(i.NodeTransformer.EvalCallExpressionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(m.MetadataTransformer).whenTargetNamed(i.NodeTransformer.MetadataTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(f.ObfuscatingGuardsTransformer).whenTargetNamed(i.NodeTransformer.ObfuscatingGuardsTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(N.ParentificationTransformer).whenTargetNamed(i.NodeTransformer.ParentificationTransformer),e(a.ServiceIdentifiers.INodeGuard).to(c.BlackListObfuscatingGuard).inSingletonScope().whenTargetNamed(s.ObfuscatingGuard.BlackListObfuscatingGuard),e(a.ServiceIdentifiers.INodeGuard).to(l.ConditionalCommentObfuscatingGuard).inSingletonScope().whenTargetNamed(s.ObfuscatingGuard.ConditionalCommentObfuscatingGuard),e(a.ServiceIdentifiers.INodeGuard).to(g.ReservedStringObfuscatingGuard).inSingletonScope().whenTargetNamed(s.ObfuscatingGuard.ReservedStringObfuscatingGuard),e(a.ServiceIdentifiers.Factory__INodeGuard).toFactory(o.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.INodeGuard)),e(a.ServiceIdentifiers.INodeTransformer).to(_.VariablePreserveTransformer).whenTargetNamed(i.NodeTransformer.VariablePreserveTransformer)})},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(3);let s=o=class{constructor(){this.blackListGuardsLength=o.blackListGuards.length}check(e){for(let t=0;t<this.blackListGuardsLength;t++)if(o.blackListGuards[t](e))return!1;return!0}};s.blackListGuards=[i.NodeGuards.isUseStrictOperator],s=o=n.__decorate([a.injectable(),n.__metadata("design:paramtypes",[])],s),t.BlackListObfuscatingGuard=s},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importStar(r(10)),c=r(6),d=r(7),l=r(3),u=r(52);let p=o=class extends d.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case c.TransformationStage.Initializing:return{leave:e=>{if(l.NodeGuards.isProgramNode(e))return this.transformNode(e)}};default:return null}}transformNode(e){if(e.comments){const t=this.transformComments(e.comments);s.traverse(e,{enter:e=>{if(0===t.length)return;const r=t.findIndex(t=>t.range&&e.range&&t.range[0]<e.range[0]);-1!==r&&(e.leadingComments=t.splice(r,t.length-r).reverse())}}),t.length>0&&(e.trailingComments=t.reverse())}return e}transformComments(e){return e.filter(e=>o.preservedWords.some(t=>e.value.includes(t))||u.ConditionalCommentObfuscatingGuard.isConditionalComment(e)).reverse()}};p.preservedWords=["@license","@preserve"],p=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],p),t.CommentsTransformer=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(21),s=r(6),c=r(7),d=r(3);let l=class extends c.AbstractNodeTransformer{constructor(e,t,r,o,n){super(o,n),this.stackTraceData=[],this.stackTraceAnalyzer=e,this.obfuscationEventEmitter=t,this.customNodeGroupStorage=r}getVisitor(e){switch(e){case s.TransformationStage.Preparing:return{leave:(e,t)=>{if(d.NodeGuards.isProgramNode(e))return this.analyzeNode(e,t),this.appendCustomNodesBeforeObfuscation(e,t),this.transformNode(e,t)}};case s.TransformationStage.Finalizing:return{leave:(e,t)=>{d.NodeGuards.isProgramNode(e)&&this.appendCustomNodesAfterObfuscation(e,t)}};default:return null}}analyzeNode(e,t){this.stackTraceData=this.stackTraceAnalyzer.analyze(e)}transformNode(e,t){return e}appendCustomNodesBeforeObfuscation(e,t){this.customNodeGroupStorage.getStorage().forEach(e=>{e.initialize(),this.obfuscationEventEmitter.once(e.getAppendEvent(),e.appendCustomNodes.bind(e))}),this.obfuscationEventEmitter.emit(i.ObfuscationEvent.BeforeObfuscation,e,this.stackTraceData)}appendCustomNodesAfterObfuscation(e,t){this.obfuscationEventEmitter.emit(i.ObfuscationEvent.AfterObfuscation,e,this.stackTraceData)}};l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IStackTraceAnalyzer)),o.__param(1,n.inject(a.ServiceIdentifiers.IObfuscationEventEmitter)),o.__param(2,n.inject(a.ServiceIdentifiers.TCustomNodeGroupStorage)),o.__param(3,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(4,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object,Object,Object,Object])],l),t.CustomNodesTransformer=l},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importDefault(r(172)),c=r(6),d=r(7),l=r(8),u=r(3),p=r(5);let m=o=class extends d.AbstractNodeTransformer{constructor(e,t){super(e,t),this.evalRootAstHostNodeSet=new Set}static extractEvalStringFromCallExpressionArgument(e){return u.NodeGuards.isLiteralNode(e)?o.extractEvalStringFromLiteralNode(e):u.NodeGuards.isTemplateLiteralNode(e)?o.extractEvalStringFromTemplateLiteralNode(e):null}static extractEvalStringFromLiteralNode(e){return"string"==typeof e.value?e.value:null}static extractEvalStringFromTemplateLiteralNode(e){const t=e.quasis;return 1!==t.length||e.expressions.length?null:t[0].value.cooked}getVisitor(e){switch(e){case c.TransformationStage.Preparing:return{enter:(e,t)=>{if(t&&u.NodeGuards.isCallExpressionNode(e)&&u.NodeGuards.isIdentifierNode(e.callee)&&"eval"===e.callee.name)return this.transformNode(e,t)}};case c.TransformationStage.Finalizing:return this.evalRootAstHostNodeSet.size?{leave:(e,t)=>{if(t&&this.isEvalRootAstHostNode(e))return this.restoreNode(e,t)}}:null;default:return null}}transformNode(e,t){const r=e.arguments[0];if(!r)return e;const n=o.extractEvalStringFromCallExpressionArgument(r);if(!n)return e;let a;try{a=p.NodeUtils.convertCodeToStructure(n)}catch(t){return e}const i=l.NodeFactory.functionExpressionNode([],l.NodeFactory.blockStatementNode(a));return this.evalRootAstHostNodeSet.add(i),i}restoreNode(e,t){const r=e.body.body,o=p.NodeUtils.convertStructureToCode(r);return l.NodeFactory.callExpressionNode(l.NodeFactory.identifierNode("eval"),[l.NodeFactory.literalNode(s.default(o))])}isEvalRootAstHostNode(e){return u.NodeGuards.isFunctionExpressionNode(e)&&this.evalRootAstHostNodeSet.has(e)}};m=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object])],m),t.EvalCallExpressionTransformer=m},function(e,t){e.exports=require("js-string-escape")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(6),s=r(7),c=r(3),d=r(11);let l=class extends s.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case i.TransformationStage.Preparing:return{enter:(e,t)=>this.transformNode(e,t)};default:return null}}transformNode(e,t){return d.NodeMetadata.set(e,{ignoredNode:!1}),c.NodeGuards.isIdentifierNode(e)&&d.NodeMetadata.set(e,{renamedIdentifier:!1}),c.NodeGuards.isLiteralNode(e)&&d.NodeMetadata.set(e,{replacedLiteral:!1}),e}};l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],l),t.MetadataTransformer=l},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(51),c=r(6),d=r(7),l=r(11);let u=o=class extends d.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.obfuscatingGuards=o.obfuscatingGuardsList.map(e)}getVisitor(e){switch(e){case c.TransformationStage.Preparing:return{enter:(e,t)=>this.transformNode(e,t)};default:return null}}transformNode(e,t){const r=this.obfuscatingGuards.every(t=>t.check(e));return l.NodeMetadata.set(e,{ignoredNode:!r}),e}};u.obfuscatingGuardsList=[s.ObfuscatingGuard.BlackListObfuscatingGuard,s.ObfuscatingGuard.ConditionalCommentObfuscatingGuard,s.ObfuscatingGuard.ReservedStringObfuscatingGuard],u=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__INodeGuard)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],u),t.ObfuscatingGuardsTransformer=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(6),s=r(7),c=r(5);let d=class extends s.AbstractNodeTransformer{constructor(e,t){super(e,t)}getVisitor(e){switch(e){case i.TransformationStage.Preparing:return{enter:(e,t)=>this.transformNode(e,t)};default:return null}}transformNode(e,t){return c.NodeUtils.parentizeNode(e,t)}};d=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],d),t.ParentificationTransformer=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(3);let s=class{constructor(e){this.options=e}check(e){return!this.options.reservedStrings.length||!i.NodeGuards.isLiteralNode(e)||"string"!=typeof e.value||!this.isReservedString(e.value)}isReservedString(e){return this.options.reservedStrings.some(t=>null!==new RegExp(t,"g").exec(e))}};s=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object])],s),t.ReservedStringObfuscatingGuard=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(14),i=r(2),s=r(6),c=r(7),d=r(3);let l=class extends c.AbstractNodeTransformer{constructor(e,t,r){super(t,r),this.identifierObfuscatingReplacer=e(a.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer)}getVisitor(e){switch(e){case s.TransformationStage.Preparing:return{enter:(e,t)=>{if(d.NodeGuards.isIdentifierNode(e)&&t&&(d.NodeGuards.parentNodeIsPropertyNode(e,t)||d.NodeGuards.parentNodeIsMemberExpressionNode(e,t)||d.NodeGuards.parentNodeIsMethodDefinitionNode(e,t)||d.NodeGuards.isLabelIdentifierNode(e,t)))return this.transformNode(e,t)}};default:return null}}transformNode(e,t){return this.identifierObfuscatingReplacer.preserveName(e.name),e}};l=o.__decorate([n.injectable(),o.__param(0,n.inject(i.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),o.__param(1,n.inject(i.ServiceIdentifiers.IRandomGenerator)),o.__param(2,n.inject(i.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Function,Object,Object])],l),t.VariablePreserveTransformer=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),n=r(2),a=r(179),i=r(180),s=r(181);t.storagesModule=new o.ContainerModule(e=>{e(n.ServiceIdentifiers.TCustomNodeGroupStorage).to(i.CustomNodeGroupStorage).inSingletonScope(),e(n.ServiceIdentifiers.TStringArrayStorage).to(s.StringArrayStorage).inSingletonScope(),e(n.ServiceIdentifiers.Newable__TControlFlowStorage).toConstructor(a.ControlFlowStorage),e(n.ServiceIdentifiers.Factory__TControlFlowStorage).toFactory(e=>()=>{const t=new(e.container.get(n.ServiceIdentifiers.Newable__TControlFlowStorage))(e.container.get(n.ServiceIdentifiers.IRandomGenerator),e.container.get(n.ServiceIdentifiers.IOptions));return t.initialize(),t})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(53);let s=class extends i.MapStorage{constructor(e,t){super(e,t)}};s=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],s),t.ControlFlowStorage=s},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(49),c=r(53);let d=o=class extends c.MapStorage{constructor(e,t,r){super(t,r),this.customNodeGroupFactory=e}initialize(){super.initialize(),o.customNodeGroupsList.forEach(e=>{const t=this.customNodeGroupFactory(e);t&&this.storage.set(e,t)})}};d.customNodeGroupsList=[s.CustomNodeGroup.ConsoleOutputCustomNodeGroup,s.CustomNodeGroup.DebugProtectionCustomNodeGroup,s.CustomNodeGroup.DomainLockCustomNodeGroup,s.CustomNodeGroup.SelfDefendingCustomNodeGroup,s.CustomNodeGroup.StringArrayCustomNodeGroup],n.__decorate([a.postConstruct(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],d.prototype,"initialize",null),d=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__ICustomNodeGroup)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object])],d),t.CustomNodeGroupStorage=d},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=r(182);let c=o=class extends s.ArrayStorage{constructor(e,t,r,o){super(r,o),this.identifierNamesGenerator=e(o),this.arrayUtils=t}initialize(){super.initialize();const e=this.identifierNamesGenerator.generate(o.stringArrayNameLength),t=this.identifierNamesGenerator.generate(o.stringArrayNameLength),r=`${this.options.identifiersPrefix}${e}`,n=`${this.options.identifiersPrefix}${t}`;this.storageId=`${r}|${n}`}rotateArray(e){this.storage=this.arrayUtils.rotate(this.storage,e)}toString(){return this.storage.map(e=>`'${e}'`).toString()}};c.stringArrayNameLength=7,n.__decorate([a.postConstruct(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],c.prototype,"initialize",null),c=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),n.__param(1,a.inject(i.ServiceIdentifiers.IArrayUtils)),n.__param(2,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(3,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Function,Object,Object,Object])],c),t.StringArrayStorage=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4);let s=class{constructor(e,t){this.storageLength=0,this.randomGenerator=e,this.options=t}initialize(){this.storage=[],this.storageId=this.randomGenerator.getRandomString(6)}get(e){const t=this.storage[e];if(!t)throw new Error(`No value found in array storage with key \`${e}\``);return t}getKeyOf(e){const t=this.storage.indexOf(e);return t>=0?t:null}getLength(){return this.storageLength}getStorage(){return this.storage}getStorageId(){return this.storageId}mergeWith(e,t=!1){this.storage=[...this.storage,...e.getStorage()],t&&(this.storageId=e.getStorageId())}set(e,t){e===this.storageLength?this.storage.push(t):this.storage.splice(e,0,t),this.storageLength++}};o.__decorate([i.initializable(),o.__metadata("design:type",Array)],s.prototype,"storage",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",String)],s.prototype,"storageId",void 0),o.__decorate([n.postConstruct(),o.__metadata("design:type",Function),o.__metadata("design:paramtypes",[]),o.__metadata("design:returntype",void 0)],s.prototype,"initialize",null),s=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],s),t.ArrayStorage=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),n=r(2),a=r(184),i=r(185),s=r(188),c=r(189),d=r(190),l=r(54);t.utilsModule=new o.ContainerModule(e=>{e(n.ServiceIdentifiers.IArrayUtils).to(a.ArrayUtils).inSingletonScope(),e(n.ServiceIdentifiers.IRandomGenerator).to(l.RandomGenerator).inSingletonScope(),e(n.ServiceIdentifiers.ICryptUtils).to(i.CryptUtils).inSingletonScope(),e(n.ServiceIdentifiers.IEscapeSequenceEncoder).to(s.EscapeSequenceEncoder).inSingletonScope(),e(n.ServiceIdentifiers.ILevelledTopologicalSorter).to(c.LevelledTopologicalSorter),e(n.ServiceIdentifiers.INodeTransformerNamesGroupsBuilder).to(d.NodeTransformerNamesGroupsBuilder).inSingletonScope()})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2);let i=class{constructor(e){this.randomGenerator=e}createWithRange(e){const t=[];for(let r=0;r<e;r++)t.push(r);return t}rotate(e,t){if(!e.length)throw new ReferenceError("Cannot rotate empty array.");if(t<=0)return e;const r=e;let o;for(;t--;)o=r.pop(),o&&r.unshift(o);return r}shuffle(e){const t=[...e];for(let e=t.length;e;e--){const r=Math.floor(this.randomGenerator.getMathRandom()*e);[t[e-1],t[r]]=[t[r],t[e-1]]}return t}};i=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__metadata("design:paramtypes",[Object])],i),t.ArrayUtils=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(54),s=r(26);let c=class{constructor(e){this.randomGenerator=e}btoa(e){let t="";e=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(parseInt(`${s.Utils.hexadecimalPrefix}${t}`)));for(let r,o,n=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.charAt(0|n)||(a="=",n%1);t+=a.charAt(63&r>>8-n%1*8)){if(o=e.charCodeAt(n+=.75),o>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return t}hideString(e,t){let r=this.randomGenerator.getRandomGenerator().string({length:t,pool:i.RandomGenerator.randomGeneratorPool}).replace(new RegExp(`[${o=e,o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}]`,"g"),"");var o;const n=r.split("");return this.randomGenerator.getRandomGenerator().shuffle(n),r=n.join(""),[((e,t)=>{let r=-1,o=-1,n="";for(;r<e.length||o<t.length;)this.randomGenerator.getMathRandom()<.5&&o<t.length?n+=t.charAt(++o):n+=e.charAt(++r);return n})(e,r),r]}rc4(e,t){let r,o=[],n=0,a="";for(var i=0;i<256;i++)o[i]=i;for(i=0;i<256;i++)n=(n+o[i]+t.charCodeAt(i%t.length))%256,r=o[i],o[i]=o[n],o[n]=r;i=0,n=0;for(let t=0;t<e.length;t++)n=(n+o[i=(i+1)%256])%256,r=o[i],o[i]=o[n],o[n]=r,a+=String.fromCharCode(e.charCodeAt(t)^o[(o[i]+o[n])%256]);return a}};c=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.IRandomGenerator)),o.__metadata("design:paramtypes",[Object])],c),t.CryptUtils=c},function(e,t){e.exports=require("md5")},function(e,t){e.exports=require("chance")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);let a=class{constructor(){this.stringsCache=new Map}encode(e,t){const r=`${e}-${String(t)}`;if(this.stringsCache.has(r))return this.stringsCache.get(r);const o=new RegExp("[\\s\\S]","g"),n=new RegExp("['\"\\\\\\s]"),a=new RegExp("[\\x00-\\x7F]");let i,s;const c=e.replace(o,e=>t||n.exec(e)?(a.exec(e)?(i="\\x",s="00"):(i="\\u",s="0000"),`${i}${(s+e.charCodeAt(0).toString(16)).slice(-s.length)}`):e);return this.stringsCache.set(r,c),c}};a=o.__decorate([n.injectable()],a),t.EscapeSequenceEncoder=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);let a=class{constructor(){this.graph=new Map}add(e,t=null){return null!==t?this.link(e,t):this.register(e)}sort(){const e=Array.from(this.graph.keys()),t=[],r={};for(const o of e)void 0===r[o]&&this.visit(t,r,o);return t}sortByGroups(){this.sort();const e=[];for(;this.hasNodes();){const t=this.findRootNodes();e.push(t);for(const e of t)this.delete(e)}return e}delete(e){if(this.getPrecedents(e).length)throw new Error(`Unable to remove non-root node: ${e}`);this.graph.delete(e);const t=Array.from(this.graph.values());for(const r of t){for(let t=r.length-1;t>=0;t-=1)r[t]===e&&r.splice(t,1)}}findRootNodes(){const e=Array.from(this.graph.keys()),t=[];for(const r of e)this.hasPrecedents(r)||t.push(r);return t}getPrecedents(e){const t=this.graph.get(e);if(!t)throw new Error(`Unknown node: ${e}`);return t}hasNodes(){return this.graph.size>0}hasPrecedents(e){return this.getPrecedents(e).length>0}link(e,t){this.register(e),this.register(t);const r=this.graph.get(t);return r&&!r.includes(e)&&r.push(e),this}register(e){return this.graph.has(e)||this.graph.set(e,[]),this}visit(e,t,r){const o=t[r];if("visiting"===o)throw new Error(`Detected cycle involving node: ${r}`);if(o)return;t[r]="visiting";const n=this.getPrecedents(r);for(const r of n)this.visit(e,t,r);t[r]="ok",e.push(r)}};a=o.__decorate([n.injectable()],a),t.LevelledTopologicalSorter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2);let i=class{constructor(e){this.levelledTopologicalSorter=e}build(e){const t=Object.keys(e),r=this.buildNodeTransformersRelationEdges(t,e);for(const[e,t]of r)this.levelledTopologicalSorter.add(e,t);return this.levelledTopologicalSorter.sortByGroups()}buildNodeTransformersRelationEdges(e,t){const r=[];for(const o of e){const e=t[o].runAfter;if(e&&e.length)for(const n of e){!t[n]?r.push([o,null]):r.push([n,o])}else r.push([o,null])}return r}};i=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.ILevelledTopologicalSorter)),o.__metadata("design:paramtypes",[Object])],i),t.NodeTransformerNamesGroupsBuilder=i},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0),i=r(2),s=n.__importStar(r(36)),c=r(192),d=r(20),l=r(6),u=r(193),p=r(3);let m=o=class{constructor(e,t,r,o,n){this.transformersRunner=e,this.randomGenerator=t,this.obfuscatedCodeFactory=r,this.logger=o,this.options=n}obfuscate(e){const t=Date.now();this.logger.info(c.LoggingMessage.Version,"0.21.0"),this.logger.info(c.LoggingMessage.ObfuscationStarted),this.logger.info(c.LoggingMessage.RandomGeneratorSeed,this.randomGenerator.getInputSeed());const r=this.parseCode(e),o=this.transformAstTree(r),n=this.generateCode(e,o),a=(Date.now()-t)/1e3;return this.logger.success(c.LoggingMessage.ObfuscationCompleted,a),this.getObfuscatedCode(n)}parseCode(e){return u.EspreeFacade.parse(e,o.espreeParseOptions)}transformAstTree(e){return e=this.runTransformationStage(e,l.TransformationStage.Initializing),!p.NodeGuards.isProgramNode(e)||e.body.length||e.leadingComments||e.trailingComments?(e=this.runTransformationStage(e,l.TransformationStage.Preparing),this.options.deadCodeInjection&&(e=this.runTransformationStage(e,l.TransformationStage.DeadCodeInjection)),this.options.controlFlowFlattening&&(e=this.runTransformationStage(e,l.TransformationStage.ControlFlowFlattening)),e=this.runTransformationStage(e,l.TransformationStage.Converting),e=this.runTransformationStage(e,l.TransformationStage.Obfuscating),e=this.runTransformationStage(e,l.TransformationStage.Finalizing)):(this.logger.warn(c.LoggingMessage.EmptySourceCode),e)}generateCode(e,t){const r=Object.assign({},o.escodegenParams);this.options.sourceMap&&(r.sourceMap=this.options.inputFileName||"sourceMap",r.sourceContent=e);const n=s.generate(t,Object.assign(Object.assign({},r),{format:{compact:this.options.compact}}));return n.map=n.map?n.map.toString():"",n}getObfuscatedCode(e){return this.obfuscatedCodeFactory(e.code,e.map)}runTransformationStage(e,t){return this.logger.info(c.LoggingMessage.TransformationStage,t),this.transformersRunner.transform(e,o.transformersList,t)}};m.espreeParseOptions={comment:!0,ecmaVersion:10,loc:!0,range:!0},m.escodegenParams={comment:!0,verbatim:"x-verbatim-property",sourceMapWithCode:!0},m.transformersList=[d.NodeTransformer.BlockStatementControlFlowTransformer,d.NodeTransformer.ClassDeclarationTransformer,d.NodeTransformer.CommentsTransformer,d.NodeTransformer.CustomNodesTransformer,d.NodeTransformer.DeadCodeInjectionTransformer,d.NodeTransformer.EvalCallExpressionTransformer,d.NodeTransformer.FunctionControlFlowTransformer,d.NodeTransformer.CatchClauseTransformer,d.NodeTransformer.FunctionDeclarationTransformer,d.NodeTransformer.FunctionTransformer,d.NodeTransformer.ImportDeclarationTransformer,d.NodeTransformer.LabeledStatementTransformer,d.NodeTransformer.LiteralTransformer,d.NodeTransformer.MemberExpressionTransformer,d.NodeTransformer.MetadataTransformer,d.NodeTransformer.MethodDefinitionTransformer,d.NodeTransformer.ObfuscatingGuardsTransformer,d.NodeTransformer.ObjectExpressionKeysTransformer,d.NodeTransformer.ObjectExpressionTransformer,d.NodeTransformer.ParentificationTransformer,d.NodeTransformer.SplitStringTransformer,d.NodeTransformer.TemplateLiteralTransformer,d.NodeTransformer.VariableDeclarationTransformer,d.NodeTransformer.VariablePreserveTransformer],m=o=n.__decorate([a.injectable(),n.__param(0,a.inject(i.ServiceIdentifiers.ITransformersRunner)),n.__param(1,a.inject(i.ServiceIdentifiers.IRandomGenerator)),n.__param(2,a.inject(i.ServiceIdentifiers.Factory__IObfuscatedCode)),n.__param(3,a.inject(i.ServiceIdentifiers.ILogger)),n.__param(4,a.inject(i.ServiceIdentifiers.IOptions)),n.__metadata("design:paramtypes",[Object,Object,Function,Object,Object])],m),t.JavaScriptObfuscator=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EmptySourceCode="Empty source code. Obfuscation canceled...",e.ObfuscationCompleted="Obfuscation completed. Total time: %s sec.",e.ObfuscationStarted="Obfuscation started...",e.RandomGeneratorSeed="Random generator seed: %s...",e.TransformationStage="Transformation stage: %s...",e.Version="Version: %s"}(t.LoggingMessage||(t.LoggingMessage={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=o.__importStar(r(45)),a=o.__importDefault(r(55));class i{static parse(e,t){const r=i.sourceTypes.length;for(let o=0;o<r;o++)try{return i.parseType(e,t,i.sourceTypes[o])}catch(t){if(o<r-1)continue;throw new Error(i.processParsingError(e,t.message,{line:t.lineNumber,column:t.column}))}throw new Error("Espree parsing error")}static parseType(e,t,r){const o=Object.assign(Object.assign({},t),{sourceType:r});return n.parse(e,o)}static processParsingError(e,t,r){if(!r||!r.line||!r.column)throw new Error(t);const o=e.split(/\r?\n/)[r.line-1];if(!o)throw new Error(t);const n=Math.max(0,r.column-i.nearestSymbolsCount),a=Math.min(o.length,r.column+i.nearestSymbolsCount),s=i.colorError(">"),c=`...${o.substring(n,a).replace(/^\s+/,"")}...`;throw new Error(`Line ${r.line}: ${t}\n${s} ${c}`)}}t.EspreeFacade=i,i.colorError=a.default.red,i.nearestSymbolsCount=15,i.sourceTypes=["script","module"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=o.__importDefault(r(195));n.decorate(n.injectable(),a.default);let i=class extends a.default{};i=o.__decorate([n.injectable()],i),t.ObfuscationEventEmitter=i},function(e,t){e.exports=require("eventemitter3")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=r(4),s=r(28);let c=class{constructor(e,t){this.cryptUtils=e,this.options=t}initialize(e,t){this.obfuscatedCode=e,this.sourceMap=t}getObfuscatedCode(){return this.correctObfuscatedCode()}getSourceMap(){return this.sourceMap}toString(){return this.obfuscatedCode}correctObfuscatedCode(){if(!this.sourceMap)return this.obfuscatedCode;const e=this.options.sourceMapBaseUrl+this.options.sourceMapFileName;let t="//# sourceMappingURL=";switch(this.options.sourceMapMode){case s.SourceMapMode.Inline:t+=`data:application/json;base64,${this.cryptUtils.btoa(this.sourceMap)}`;break;case s.SourceMapMode.Separate:default:if(!e)return this.obfuscatedCode;t+=e}return`${this.obfuscatedCode}\n${t}`}};o.__decorate([i.initializable(),o.__metadata("design:type",String)],c.prototype,"obfuscatedCode",void 0),o.__decorate([i.initializable(),o.__metadata("design:type",String)],c.prototype,"sourceMap",void 0),c=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.ICryptUtils)),o.__param(1,n.inject(a.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],c),t.ObfuscatedCode=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SourceCode=class{constructor(e,t){this.sourceCode=e,this.sourceMap=t}getSourceCode(){return this.sourceCode}getSourceMap(){return this.sourceMap}toString(){return this.sourceCode}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),a=r(2),i=o.__importStar(r(10)),s=r(199),c=r(3),d=r(11);let l=class{constructor(e,t){this.cachedNodeTransformersData=new Map,this.nodeTransformerFactory=e,this.nodeTransformerNamesGroupsBuilder=t}transform(e,t,r){if(!t.length)return e;let o,n;this.cachedNodeTransformersData.has(t)?[o,n]=this.cachedNodeTransformersData.get(t):(o=this.buildNormalizedNodeTransformers(t),n=this.nodeTransformerNamesGroupsBuilder.build(o),this.cachedNodeTransformersData.set(t,[o,n]));for(const t of n){const n=[],a=[];for(const e of t){const t=o[e].getVisitor(r);t&&(t.enter&&n.push({enter:t.enter}),t.leave&&a.push({leave:t.leave}))}(n.length||a.length)&&i.replace(e,{enter:this.mergeVisitorsForDirection(n,s.VisitorDirection.Enter),leave:this.mergeVisitorsForDirection(a,s.VisitorDirection.Leave)})}return e}buildNormalizedNodeTransformers(e){return e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:this.nodeTransformerFactory(t)}),{})}mergeVisitorsForDirection(e,t){const r=e.length;return r?(o,n)=>{if(d.NodeMetadata.isIgnoredNode(o))return i.VisitorOption.Skip;for(let a=0;a<r;a++){const r=e[a][t];if(!r)continue;const i=r(o,n);i&&c.NodeGuards.isNode(i)&&(o=i)}return o}:(e,t)=>e}};l=o.__decorate([n.injectable(),o.__param(0,n.inject(a.ServiceIdentifiers.Factory__INodeTransformer)),o.__param(1,n.inject(a.ServiceIdentifiers.INodeTransformerNamesGroupsBuilder)),o.__metadata("design:paramtypes",[Function,Object])],l),t.TransformersRunner=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Enter="enter",e.Leave="leave"}(t.VisitorDirection||(t.VisitorDirection={}))},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(24);e.exports=o.JavaScriptObfuscator}]);
//# sourceMappingURL=index.js.map